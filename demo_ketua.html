<!DOCTYPE html>
<html class="light" lang="id">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>NotaryDoc Tracker - Sistem Pelacakan Dokumen Notaris</title>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#1f96ad",
                        "primary-dark": "#166e80",
                        "background-light": "#f6f8f8",
                        "background-dark": "#121e20",
                        "surface-light": "#ffffff",
                        "surface-dark": "#1a2c2e",
                        "alert-red": "#dc2626",
                        "alert-bg": "#fef2f2",
                        "success-green": "#10b981",
                        "warning-yellow": "#f59e0b",
                        "executive": "#6366f1",
                        "executive-dark": "#4f46e5",
                    },
                    fontFamily: {
                        "display": ["Manrope", "sans-serif"]
                    },
                    borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'pulse-slow': 'pulse 3s infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(10px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        }
                    }
                },
            },
        }
    </script>
    <style>
        .sidebar-link {
            transition: all 0.3s ease;
        }
        .sidebar-link.active {
            background-color: #e8f0f2;
            color: #1f96ad;
        }
        .dark .sidebar-link.active {
            background-color: rgba(31, 150, 173, 0.2);
            color: #1f96ad;
        }
        /* Custom scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            height: 6px;
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #cbd5e1;
            border-radius: 20px;
        }
        .table-row, .file-row, .client-row {
            transition: all 0.2s ease;
        }
        .table-row:hover, .file-row:hover, .client-row:hover {
            transform: scale(1.01);
        }
        .notification-badge {
            animation: pulse 2s infinite;
        }
        .metric-card, .report-card, .file-card, .client-card {
            transition: all 0.3s ease;
        }
        .metric-card:hover, .report-card:hover, .file-card:hover, .client-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .tab-button {
            transition: all 0.2s ease;
        }
        .tab-button.active {
            border-bottom: 2px solid #1f96ad;
            color: #1f96ad;
        }
        .chart-container {
            position: relative;
            height: 300px;
        }
        .stat-card {
            transition: all 0.3s ease;
        }
        .stat-card:hover {
            transform: scale(1.02);
        }
        .action-button {
            transition: all 0.2s ease;
        }
        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .filter-chip {
            transition: all 0.2s ease;
        }
        .filter-chip:hover {
            transform: translateY(-2px);
        }
        .status-badge {
            transition: all 0.2s ease;
        }
        .status-badge:hover {
            transform: scale(1.05);
        }
        .form-input {
            transition: all 0.2s ease;
        }
        .form-input:focus {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .workflow-step {
            transition: all 0.3s ease;
        }
        .workflow-step:hover {
            transform: translateX(5px);
        }
        .timeline-item {
            transition: all 0.3s ease;
        }
        .timeline-item:hover {
            transform: translateX(5px);
        }
        .progress-fill {
            transition: width 1s ease-in-out;
        }
        .status-indicator {
            animation: pulse 2s infinite;
        }
        @keyframes shimmer {
            0% { transform: translateX(-100%) skewX(-20deg); }
            100% { transform: translateX(200%) skewX(-20deg); }
        }
        .animate-shimmer {
            animation: shimmer 2s infinite;
        }
        .hover-lift {
            transition: all 0.3s ease;
        }
        .hover-lift:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        /* Hide all pages by default */
        .page {
            display: none;
        }
        .page.active {
            display: block;
        }
        /* Executive dashboard styles */
        .executive-card {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
        }
        .executive-card-dark {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
        }
        .dark .executive-card {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
        }
        .kpi-card {
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .kpi-positive {
            border-left-color: #10b981;
        }
        .kpi-negative {
            border-left-color: #dc2626;
        }
        .kpi-neutral {
            border-left-color: #f59e0b;
        }
        .staff-performance-row {
            transition: all 0.2s ease;
        }
        .staff-performance-row:hover {
            background-color: rgba(99, 102, 241, 0.05);
        }
        .dark .staff-performance-row:hover {
            background-color: rgba(99, 102, 241, 0.1);
        }
        .role-badge {
            font-size: 0.7rem;
            padding: 0.15rem 0.5rem;
            border-radius: 9999px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .role-executive {
            background-color: rgba(99, 102, 241, 0.1);
            color: #6366f1;
        }
        .dark .role-executive {
            background-color: rgba(99, 102, 241, 0.2);
            color: #818cf8;
        }
        .role-manager {
            background-color: rgba(16, 185, 129, 0.1);
            color: #10b981;
        }
        .dark .role-manager {
            background-color: rgba(16, 185, 129, 0.2);
            color: #34d399;
        }
        .role-staff {
            background-color: rgba(31, 150, 173, 0.1);
            color: #1f96ad;
        }
        .dark .role-staff {
            background-color: rgba(31, 150, 173, 0.2);
            color: #38bdf8;
        }
        .audit-log-row {
            transition: all 0.2s ease;
        }
        .audit-log-row:hover {
            background-color: rgba(31, 150, 173, 0.05);
        }
        .dark .audit-log-row:hover {
            background-color: rgba(31, 150, 173, 0.1);
        }
        .financial-metric {
            transition: all 0.3s ease;
        }
        .financial-metric:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .permission-toggle {
            transition: all 0.2s ease;
        }
        .permission-toggle:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-slate-800 dark:text-slate-200 transition-colors duration-200">
<div class="flex h-screen w-full overflow-hidden">
    <!-- Sidebar -->
    <aside id="sidebar" class="hidden w-64 flex-col border-r border-slate-200 bg-surface-light dark:border-slate-800 dark:bg-surface-dark lg:flex">
        <div class="flex h-16 items-center gap-3 border-b border-slate-100 px-6 dark:border-slate-800">
            <div class="flex items-center justify-center rounded-lg bg-primary/10 p-1.5 text-primary">
                <span class="material-symbols-outlined">history_edu</span>
            </div>
            <span class="text-lg font-bold tracking-tight text-slate-900 dark:text-white">NotaryDoc</span>
            <!-- Role Indicator -->
            <span id="currentUserRole" class="role-badge role-executive ml-auto">Executive</span>
        </div>
        <div class="flex flex-1 flex-col justify-between p-4">
            <nav class="space-y-1">
                <div class="px-2 pb-2 text-xs font-semibold uppercase tracking-wider text-slate-400 dark:text-slate-500">Menu</div>
                <a class="sidebar-link active flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors" data-page="executive_dashboard" href="#">
                    <span class="material-symbols-outlined text-[20px]">insights</span>
                    Dashboard Eksekutif
                </a>
                <a class="sidebar-link flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-50 dark:hover:bg-slate-800" data-page="all_files" href="#">
                    <span class="material-symbols-outlined text-[20px]">folder_open</span>
                    Semua File
                </a>
                <a class="sidebar-link flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-50 dark:hover:bg-slate-800" data-page="clients" href="#">
                    <span class="material-symbols-outlined text-[20px]">group</span>
                    Klien
                </a>
                <a class="sidebar-link flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-50 dark:hover:bg-slate-800" data-page="reports" href="#">
                    <span class="material-symbols-outlined text-[20px]">analytics</span>
                    Laporan
                </a>
                <a class="sidebar-link flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-50 dark:hover:bg-slate-800" data-page="financial_reports" href="#">
                    <span class="material-symbols-outlined text-[20px]">account_balance</span>
                    Laporan Keuangan
                </a>
                <a class="sidebar-link flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-50 dark:hover:bg-slate-800" data-page="staff_performance" href="#">
                    <span class="material-symbols-outlined text-[20px]">people</span>
                    Kinerja Staf
                </a>
                <a class="sidebar-link flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-50 dark:hover:bg-slate-800" data-page="user_management" href="#">
                    <span class="material-symbols-outlined text-[20px]">manage_accounts</span>
                    Manajemen Pengguna
                </a>
                <a class="sidebar-link flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-50 dark:hover:bg-slate-800" data-page="audit_logs" href="#">
                    <span class="material-symbols-outlined text-[20px]">fact_check</span>
                    Log Audit
                </a>
                <a class="sidebar-link flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-50 dark:hover:bg-slate-800" data-page="company_settings" href="#">
                    <span class="material-symbols-outlined text-[20px]">business</span>
                    Pengaturan Perusahaan
                </a>
            </nav>
            <div class="flex flex-col gap-4">
                <nav class="space-y-1">
                    <div class="px-2 pb-2 text-xs font-semibold uppercase tracking-wider text-slate-400 dark:text-slate-500">Sistem</div>
                    <a class="sidebar-link flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-50 dark:hover:bg-slate-800" href="#" id="darkModeToggle">
                        <span class="material-symbols-outlined text-[20px]">dark_mode</span>
                        Mode Gelap
                    </a>
                    <a class="sidebar-link flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium text-slate-600 transition-colors hover:bg-slate-50 dark:hover:bg-slate-800" href="#" id="settingsBtn">
                        <span class="material-symbols-outlined text-[20px]">settings</span>
                        Pengaturan
                    </a>
                </nav>
                <div class="flex items-center gap-3 rounded-xl border border-slate-200 bg-slate-50 p-3 dark:border-slate-700 dark:bg-slate-800/50">
                    <div class="h-10 w-10 overflow-hidden rounded-full bg-slate-200" data-alt="Foto profil pengguna">
                        <img alt="Profile" class="h-full w-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDxVNWhQG_W_ed3cfYulehqFgy1zHjDMMIjmROUMwH1GdQ_-0YSFkCDbhAUraVspPkQuL0OxU4dpVlRtthPZjLgeYBHkvhbel0_QFpjzjajgl5twyaTdmLKvqyYVPWymWFDcQYNKWMkw6jaECoHtTlY5zsE3Cd5YLdUFJEX3Iz8WFCIdH6sH7N9wTapvHPoggn6meeaInC7hTPiKLsDjeY9KtEQzcjbvxSR5QU8MOMweu2luT32b5p7neJyxE0brTANOuECjzNuvegc"/>
                    </div>
                    <div class="flex flex-1 flex-col overflow-hidden">
                        <span class="truncate text-sm font-bold text-slate-900 dark:text-white">Sarah W.</span>
                        <span class="truncate text-xs text-slate-500 dark:text-slate-400">Direktur Utama</span>
                    </div>
                </div>
            </div>
        </div>
    </aside>
    <!-- Main Content -->
    <main class="flex h-full flex-1 flex-col overflow-hidden">
        <!-- Top Header -->
        <header class="flex h-16 w-full items-center justify-between border-b border-slate-200 bg-surface-light px-6 dark:border-slate-800 dark:bg-surface-dark">
            <div class="lg:hidden">
                <button id="mobileMenuToggle" class="flex items-center text-slate-500 hover:text-slate-700 dark:text-slate-400">
                    <span class="material-symbols-outlined">menu</span>
                </button>
            </div>
            <div class="flex w-full items-center justify-between gap-6">
                <h1 id="pageTitle" class="hidden text-xl font-bold text-slate-900 dark:text-white sm:block">Dashboard</h1>
                <div class="flex items-center gap-4">
                    <!-- Search Box -->
                    <div class="hidden md:block relative w-80">
                        <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[20px] text-slate-400">search</span>
                        <input id="globalSearch" class="h-10 w-full rounded-lg border-none bg-slate-100 pl-10 pr-4 text-sm text-slate-900 placeholder-slate-500 focus:ring-2 focus:ring-primary dark:bg-slate-800 dark:text-white dark:placeholder-slate-400" placeholder="Cari file #, klien, atau tipe..." type="text"/>
                    </div>
                    <!-- Notification Button -->
                    <button id="notificationBtn" class="relative p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors">
                        <span class="material-symbols-outlined text-[20px] text-slate-600 dark:text-slate-400">notifications</span>
                        <span id="notificationBadge" class="notification-badge absolute top-1 right-1 h-2 w-2 rounded-full bg-alert-red"></span>
                    </button>
                </div>
            </div>
        </header>
        <!-- Scrollable Content -->
        <div id="contentArea" class="flex-1 overflow-y-auto custom-scrollbar bg-background-light p-6 dark:bg-background-dark animate-fade-in">
            <!-- Executive Dashboard Page -->
            <div id="executive_dashboard" class="page active">
                <div class="mx-auto max-w-7xl space-y-8">
                    <!-- Executive Summary Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <!-- Revenue Card -->
                        <div class="executive-card rounded-xl p-6 shadow-lg">
                            <div class="flex items-center justify-between mb-4">
                                <span class="material-symbols-outlined text-3xl opacity-80">payments</span>
                                <span class="text-xs font-semibold bg-white/20 px-2 py-1 rounded-full">Bulan Ini</span>
                            </div>
                            <div class="text-3xl font-bold mb-1">Rp 245.8M</div>
                            <div class="text-sm opacity-80">Total Pendapatan</div>
                            <div class="flex items-center mt-4 text-xs">
                                <span class="material-symbols-outlined text-sm mr-1">trending_up</span>
                                <span>12.5% dari bulan lalu</span>
                            </div>
                        </div>
                        
                        <!-- Profit Margin Card -->
                        <div class="executive-card rounded-xl p-6 shadow-lg">
                            <div class="flex items-center justify-between mb-4">
                                <span class="material-symbols-outlined text-3xl opacity-80">show_chart</span>
                                <span class="text-xs font-semibold bg-white/20 px-2 py-1 rounded-full">Kuartal Ini</span>
                            </div>
                            <div class="text-3xl font-bold mb-1">42.3%</div>
                            <div class="text-sm opacity-80">Margin Laba</div>
                            <div class="flex items-center mt-4 text-xs">
                                <span class="material-symbols-outlined text-sm mr-1">trending_up</span>
                                <span>3.2% dari kuartal lalu</span>
                            </div>
                        </div>
                        
                        <!-- Client Acquisition Card -->
                        <div class="executive-card rounded-xl p-6 shadow-lg">
                            <div class="flex items-center justify-between mb-4">
                                <span class="material-symbols-outlined text-3xl opacity-80">group_add</span>
                                <span class="text-xs font-semibold bg-white/20 px-2 py-1 rounded-full">Bulan Ini</span>
                            </div>
                            <div class="text-3xl font-bold mb-1">24</div>
                            <div class="text-sm opacity-80">Klien Baru</div>
                            <div class="flex items-center mt-4 text-xs">
                                <span class="material-symbols-outlined text-sm mr-1">trending_down</span>
                                <span>8.3% dari bulan lalu</span>
                            </div>
                        </div>
                        
                        <!-- Client Retention Card -->
                        <div class="executive-card rounded-xl p-6 shadow-lg">
                            <div class="flex items-center justify-between mb-4">
                                <span class="material-symbols-outlined text-3xl opacity-80">loyalty</span>
                                <span class="text-xs font-semibold bg-white/20 px-2 py-1 rounded-full">Tahun Ini</span>
                            </div>
                            <div class="text-3xl font-bold mb-1">87.4%</div>
                            <div class="text-sm opacity-80">Retensi Klien</div>
                            <div class="flex items-center mt-4 text-xs">
                                <span class="material-symbols-outlined text-sm mr-1">trending_up</span>
                                <span>5.1% dari tahun lalu</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- KPI Section -->
                    <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm p-6 border border-slate-200 dark:border-slate-700 animate-slide-up">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-bold text-slate-900 dark:text-white">Indikator Kinerja Utama (KPI)</h2>
                            <div class="flex items-center gap-2">
                                <select class="h-9 appearance-none rounded-lg border border-slate-200 bg-white pl-3 pr-8 text-sm text-slate-700 focus:border-primary focus:ring-primary dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300">
                                    <option>Kuartal 3 2023</option>
                                    <option>Kuartal 2 2023</option>
                                    <option>Kuartal 1 2023</option>
                                    <option>Kuartal 4 2022</option>
                                </select>
                                <button class="text-xs text-slate-500 hover:text-primary dark:text-slate-400 dark:hover:text-primary flex items-center gap-1">
                                    <span class="material-symbols-outlined text-[16px]">download</span>
                                    Ekspor
                                </button>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- KPI Card 1 -->
                            <div class="kpi-card kpi-positive bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-slate-600 dark:text-slate-400">Rata-rata Waktu Penyelesaian</span>
                                    <span class="material-symbols-outlined text-green-600 dark:text-green-400">trending_up</span>
                                </div>
                                <div class="text-2xl font-bold text-slate-900 dark:text-white mb-1">3.2 Hari</div>
                                <div class="text-xs text-green-600 dark:text-green-400">-0.8 hari dari target</div>
                                <div class="mt-3 h-1.5 w-full rounded-full bg-slate-200 dark:bg-slate-700">
                                    <div class="h-1.5 rounded-full bg-green-500" style="width: 85%"></div>
                                </div>
                            </div>
                            
                            <!-- KPI Card 2 -->
                            <div class="kpi-card kpi-negative bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-slate-600 dark:text-slate-400">Tingkat Keterlambatan</span>
                                    <span class="material-symbols-outlined text-red-600 dark:text-red-400">trending_up</span>
                                </div>
                                <div class="text-2xl font-bold text-slate-900 dark:text-white mb-1">12.4%</div>
                                <div class="text-xs text-red-600 dark:text-red-400">+2.4% dari target</div>
                                <div class="mt-3 h-1.5 w-full rounded-full bg-slate-200 dark:bg-slate-700">
                                    <div class="h-1.5 rounded-full bg-red-500" style="width: 30%"></div>
                                </div>
                            </div>
                            
                            <!-- KPI Card 3 -->
                            <div class="kpi-card kpi-positive bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-slate-600 dark:text-slate-400">Kepuasan Klien</span>
                                    <span class="material-symbols-outlined text-green-600 dark:text-green-400">trending_up</span>
                                </div>
                                <div class="text-2xl font-bold text-slate-900 dark:text-white mb-1">4.7/5.0</div>
                                <div class="text-xs text-green-600 dark:text-green-400">+0.2 dari target</div>
                                <div class="mt-3 h-1.5 w-full rounded-full bg-slate-200 dark:bg-slate-700">
                                    <div class="h-1.5 rounded-full bg-green-500" style="width: 94%"></div>
                                </div>
                            </div>
                            
                            <!-- KPI Card 4 -->
                            <div class="kpi-card kpi-neutral bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-slate-600 dark:text-slate-400">Utilisasi Sumber Daya</span>
                                    <span class="material-symbols-outlined text-amber-600 dark:text-amber-400">trending_flat</span>
                                </div>
                                <div class="text-2xl font-bold text-slate-900 dark:text-white mb-1">78.5%</div>
                                <div class="text-xs text-amber-600 dark:text-amber-400">-1.5% dari target</div>
                                <div class="mt-3 h-1.5 w-full rounded-full bg-slate-200 dark:bg-slate-700">
                                    <div class="h-1.5 rounded-full bg-amber-500" style="width: 78.5%"></div>
                                </div>
                            </div>
                            
                            <!-- KPI Card 5 -->
                            <div class="kpi-card kpi-positive bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-slate-600 dark:text-slate-400">Pertumbuhan Pendapatan</span>
                                    <span class="material-symbols-outlined text-green-600 dark:text-green-400">trending_up</span>
                                </div>
                                <div class="text-2xl font-bold text-slate-900 dark:text-white mb-1">18.7%</div>
                                <div class="text-xs text-green-600 dark:text-green-400">+3.7% dari target</div>
                                <div class="mt-3 h-1.5 w-full rounded-full bg-slate-200 dark:bg-slate-700">
                                    <div class="h-1.5 rounded-full bg-green-500" style="width: 93%"></div>
                                </div>
                            </div>
                            
                            <!-- KPI Card 6 -->
                            <div class="kpi-card kpi-positive bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700">
                                <div class="flex items-center justify-between mb-2">
                                    <span class="text-sm font-medium text-slate-600 dark:text-slate-400">Efisiensi Operasional</span>
                                    <span class="material-symbols-outlined text-green-600 dark:text-green-400">trending_up</span>
                                </div>
                                <div class="text-2xl font-bold text-slate-900 dark:text-white mb-1">91.2%</div>
                                <div class="text-xs text-green-600 dark:text-green-400">+1.2% dari target</div>
                                <div class="mt-3 h-1.5 w-full rounded-full bg-slate-200 dark:bg-slate-700">
                                    <div class="h-1.5 rounded-full bg-green-500" style="width: 91.2%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Performance Comparison -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Revenue Trend Chart -->
                        <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm p-6 border border-slate-200 dark:border-slate-700 animate-slide-up" style="animation-delay: 0.1s">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-bold text-slate-900 dark:text-white">Tren Pendapatan</h3>
                                <div class="flex items-center gap-2">
                                    <button class="text-xs text-slate-500 hover:text-primary dark:text-slate-400 dark:hover:text-primary">1M</button>
                                    <button class="text-xs font-medium text-primary dark:text-primary">3M</button>
                                    <button class="text-xs text-slate-500 hover:text-primary dark:text-slate-400 dark:hover:text-primary">6M</button>
                                    <button class="text-xs text-slate-500 hover:text-primary dark:text-slate-400 dark:hover:text-primary">1Y</button>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="revenueTrendChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Service Performance -->
                        <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm p-6 border border-slate-200 dark:border-slate-700 animate-slide-up" style="animation-delay: 0.2s">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-bold text-slate-900 dark:text-white">Performa Layanan</h3>
                                <button class="text-xs text-slate-500 hover:text-primary dark:text-slate-400 dark:hover:text-primary flex items-center gap-1">
                                    <span class="material-symbols-outlined text-[16px]">more_horiz</span>
                                </button>
                            </div>
                            <div class="chart-container">
                                <canvas id="servicePerformanceChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Top Performers Section -->
                    <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm p-6 border border-slate-200 dark:border-slate-700 animate-slide-up" style="animation-delay: 0.3s">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="text-xl font-bold text-slate-900 dark:text-white">Kinerja Staf Terbaik</h2>
                            <button class="text-xs text-slate-500 hover:text-primary dark:text-slate-400 dark:hover:text-primary flex items-center gap-1">
                                <span class="material-symbols-outlined text-[16px]">visibility</span>
                                Lihat Semua
                            </button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left text-sm">
                                <thead class="bg-slate-50 text-xs font-semibold uppercase text-slate-500 dark:bg-slate-800/50 dark:text-slate-400">
                                    <tr>
                                        <th class="px-4 py-3">Nama</th>
                                        <th class="px-4 py-3">Jabatan</th>
                                        <th class="px-4 py-3">File Selesai</th>
                                        <th class="px-4 py-3">Rata-rata Waktu</th>
                                        <th class="px-4 py-3">Kepuasan Klien</th>
                                        <th class="px-4 py-3">Performa</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                                    <tr class="staff-performance-row">
                                        <td class="px-4 py-3">
                                            <div class="flex items-center gap-3">
                                                <div class="h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center text-white text-xs font-bold">SW</div>
                                                <span class="font-medium text-slate-900 dark:text-white">Sarah Wijaya</span>
                                            </div>
                                        </td>
                                        <td class="px-4 py-3">Notaris Utama</td>
                                        <td class="px-4 py-3">47</td>
                                        <td class="px-4 py-3">2.8 hari</td>
                                        <td class="px-4 py-3">4.8/5.0</td>
                                        <td class="px-4 py-3">
                                            <div class="flex items-center gap-1">
                                                <div class="h-1.5 w-20 rounded-full bg-slate-200 dark:bg-slate-700">
                                                    <div class="h-1.5 rounded-full bg-green-500" style="width: 95%"></div>
                                                </div>
                                                <span class="text-xs font-medium text-green-600 dark:text-green-400">95%</span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="staff-performance-row">
                                        <td class="px-4 py-3">
                                            <div class="flex items-center gap-3">
                                                <div class="h-8 w-8 rounded-full bg-green-600 flex items-center justify-center text-white text-xs font-bold">BS</div>
                                                <span class="font-medium text-slate-900 dark:text-white">Bambang Santoso</span>
                                            </div>
                                        </td>
                                        <td class="px-4 py-3">Notaris Senior</td>
                                        <td class="px-4 py-3">52</td>
                                        <td class="px-4 py-3">3.1 hari</td>
                                        <td class="px-4 py-3">4.7/5.0</td>
                                        <td class="px-4 py-3">
                                            <div class="flex items-center gap-1">
                                                <div class="h-1.5 w-20 rounded-full bg-slate-200 dark:bg-slate-700">
                                                    <div class="h-1.5 rounded-full bg-green-500" style="width: 92%"></div>
                                                </div>
                                                <span class="text-xs font-medium text-green-600 dark:text-green-400">92%</span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="staff-performance-row">
                                        <td class="px-4 py-3">
                                            <div class="flex items-center gap-3">
                                                <div class="h-8 w-8 rounded-full bg-purple-600 flex items-center justify-center text-white text-xs font-bold">RA</div>
                                                <span class="font-medium text-slate-900 dark:text-white">Rina Anggraini</span>
                                            </div>
                                        </td>
                                        <td class="px-4 py-3">Notaris Junior</td>
                                        <td class="px-4 py-3">38</td>
                                        <td class="px-4 py-3">3.5 hari</td>
                                        <td class="px-4 py-3">4.6/5.0</td>
                                        <td class="px-4 py-3">
                                            <div class="flex items-center gap-1">
                                                <div class="h-1.5 w-20 rounded-full bg-slate-200 dark:bg-slate-700">
                                                    <div class="h-1.5 rounded-full bg-green-500" style="width: 88%"></div>
                                                </div>
                                                <span class="text-xs font-medium text-green-600 dark:text-green-400">88%</span>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Financial Reports Page -->
            <div id="financial_reports" class="page">
                <div class="mx-auto max-w-7xl space-y-6">
                    <!-- Financial Summary Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 animate-slide-up">
                        <div class="financial-metric bg-surface-light dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Pendapatan Bulan Ini</p>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">Rp 245.8M</p>
                                    <p class="text-xs text-success-green">+12.5% dari bulan lalu</p>
                                </div>
                                <div class="p-2 bg-green-100 dark:bg-green-900/30 rounded-lg">
                                    <span class="material-symbols-outlined text-green-600 dark:text-green-400">trending_up</span>
                                </div>
                            </div>
                        </div>
                        <div class="financial-metric bg-surface-light dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Biaya Operasional</p>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">Rp 142.3M</p>
                                    <p class="text-xs text-alert-red">+5.2% dari bulan lalu</p>
                                </div>
                                <div class="p-2 bg-red-100 dark:bg-red-900/30 rounded-lg">
                                    <span class="material-symbols-outlined text-red-600 dark:text-red-400">trending_up</span>
                                </div>
                            </div>
                        </div>
                        <div class="financial-metric bg-surface-light dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Laba Bersih</p>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">Rp 103.5M</p>
                                    <p class="text-xs text-success-green">+18.7% dari bulan lalu</p>
                                </div>
                                <div class="p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg">
                                    <span class="material-symbols-outlined text-blue-600 dark:text-blue-400">account_balance</span>
                                </div>
                            </div>
                        </div>
                        <div class="financial-metric bg-surface-light dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Piutang Usaha</p>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">Rp 67.2M</p>
                                    <p class="text-xs text-warning-yellow">-8.3% dari bulan lalu</p>
                                </div>
                                <div class="p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg">
                                    <span class="material-symbols-outlined text-amber-600 dark:text-amber-400">request_quote</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Financial Reports Tabs -->
                    <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 animate-slide-up" style="animation-delay: 0.1s">
                        <div class="border-b border-slate-200 dark:border-slate-800">
                            <nav class="flex space-x-8 px-6" aria-label="Financial Report Tabs">
                                <button class="tab-button active py-4 px-1 text-sm font-medium text-slate-900 dark:text-white" data-tab="revenue">
                                    Pendapatan
                                </button>
                                <button class="tab-button py-4 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" data-tab="expenses">
                                    Pengeluaran
                                </button>
                                <button class="tab-button py-4 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" data-tab="profit">
                                    Laba Rugi
                                </button>
                                <button class="tab-button py-4 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" data-tab="invoices">
                                    Tagihan
                                </button>
                            </nav>
                        </div>
                        
                        <!-- Tab Content -->
                        <div class="p-6">
                            <!-- Revenue Tab -->
                            <div id="revenue-tab" class="tab-content">
                                <div class="flex flex-wrap items-center justify-between gap-4 mb-6">
                                    <div class="flex flex-wrap items-center gap-2">
                                        <span class="text-sm font-medium text-slate-700 dark:text-slate-300">Periode:</span>
                                        <button class="px-3 py-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-xs font-medium hover:bg-slate-200 dark:hover:bg-slate-600">
                                            Bulan Ini
                                        </button>
                                        <button class="px-3 py-1.5 rounded-full bg-primary/10 text-primary text-xs font-medium">
                                            Kuartal Ini
                                        </button>
                                        <button class="px-3 py-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-xs font-medium hover:bg-slate-200 dark:hover:bg-slate-600">
                                            Tahun Ini
                                        </button>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <button class="text-xs text-slate-500 hover:text-primary dark:text-slate-400 dark:hover:text-primary flex items-center gap-1">
                                            <span class="material-symbols-outlined text-[16px]">download</span>
                                            Ekspor
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="chart-container mb-6">
                                    <canvas id="revenueChart"></canvas>
                                </div>
                                
                                <div class="overflow-x-auto">
                                    <table class="w-full text-left text-sm">
                                        <thead class="bg-slate-50 text-xs font-semibold uppercase text-slate-500 dark:bg-slate-800/50 dark:text-slate-400">
                                            <tr>
                                                <th class="px-6 py-4">Layanan</th>
                                                <th class="px-6 py-4">Jumlah Transaksi</th>
                                                <th class="px-6 py-4">Total Pendapatan</th>
                                                <th class="px-6 py-4">Rata-rata</th>
                                                <th class="px-6 py-4">% dari Total</th>
                                            </tr>
                                        </thead>
                                        <tbody class="divide-y divide-slate-100 dark:divide-slate-800">
                                            <tr>
                                                <td class="px-6 py-4 font-medium">AJB (Jual Beli)</td>
                                                <td class="px-6 py-4">47</td>
                                                <td class="px-6 py-4">Rp 118.5M</td>
                                                <td class="px-6 py-4">Rp 2.5M</td>
                                                <td class="px-6 py-4">48.2%</td>
                                            </tr>
                                            <tr>
                                                <td class="px-6 py-4 font-medium">SKMHT (Kuasa)</td>
                                                <td class="px-6 py-4">62</td>
                                                <td class="px-6 py-4">Rp 81.2M</td>
                                                <td class="px-6 py-4">Rp 1.3M</td>
                                                <td class="px-6 py-4">33.0%</td>
                                            </tr>
                                            <tr>
                                                <td class="px-6 py-4 font-medium">APHT (Jaminan)</td>
                                                <td class="px-6 py-4">28</td>
                                                <td class="px-6 py-4">Rp 46.1M</td>
                                                <td class="px-6 py-4">Rp 1.6M</td>
                                                <td class="px-6 py-4">18.8%</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            
                            <!-- Other tabs (hidden by default) -->
                            <div id="expenses-tab" class="tab-content hidden">
                                <div class="text-center py-12">
                                    <span class="material-symbols-outlined text-6xl text-slate-300 dark:text-slate-600">payments</span>
                                    <p class="mt-4 text-lg font-medium text-slate-900 dark:text-white">Laporan Pengeluaran</p>
                                    <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">Analisis biaya operasional dan pengeluaran lainnya</p>
                                </div>
                            </div>
                            
                            <div id="profit-tab" class="tab-content hidden">
                                <div class="text-center py-12">
                                    <span class="material-symbols-outlined text-6xl text-slate-300 dark:text-slate-600">account_balance</span>
                                    <p class="mt-4 text-lg font-medium text-slate-900 dark:text-white">Laporan Laba Rugi</p>
                                    <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">Analisis profitabilitas perusahaan</p>
                                </div>
                            </div>
                            
                            <div id="invoices-tab" class="tab-content hidden">
                                <div class="text-center py-12">
                                    <span class="material-symbols-outlined text-6xl text-slate-300 dark:text-slate-600">receipt_long</span>
                                    <p class="mt-4 text-lg font-medium text-slate-900 dark:text-white">Manajemen Tagihan</p>
                                    <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">Status pembayaran dan piutang usaha</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Staff Performance Page -->
            <div id="staff_performance" class="page">
                <div class="mx-auto max-w-7xl space-y-6">
                    <!-- Performance Overview -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 animate-slide-up">
                        <div class="bg-surface-light dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Total Staf</p>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">12</p>
                                    <p class="text-xs text-slate-500 dark:text-slate-400">8 Notaris, 4 Admin</p>
                                </div>
                                <div class="p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg">
                                    <span class="material-symbols-outlined text-blue-600 dark:text-blue-400">people</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-surface-light dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Rata-rata Performa</p>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">87.3%</p>
                                    <p class="text-xs text-success-green">+2.1% dari bulan lalu</p>
                                </div>
                                <div class="p-2 bg-green-100 dark:bg-green-900/30 rounded-lg">
                                    <span class="material-symbols-outlined text-green-600 dark:text-green-400">trending_up</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-surface-light dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Efisiensi Waktu</p>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">92.5%</p>
                                    <p class="text-xs text-success-green">+1.5% dari target</p>
                                </div>
                                <div class="p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg">
                                    <span class="material-symbols-outlined text-amber-600 dark:text-amber-400">schedule</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Staff Performance Table -->
                    <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 animate-slide-up" style="animation-delay: 0.1s">
                        <div class="flex flex-wrap items-center justify-between gap-4 border-b border-slate-200 p-4 dark:border-slate-800">
                            <h2 class="text-lg font-bold text-slate-900 dark:text-white">Kinerja Staf</h2>
                            <div class="flex items-center gap-2">
                                <div class="relative">
                                    <select class="h-9 appearance-none rounded-lg border border-slate-200 bg-white pl-3 pr-8 text-sm text-slate-700 focus:border-primary focus:ring-primary dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300">
                                        <option>Semua Departemen</option>
                                        <option>Notaris</option>
                                        <option>Admin</option>
                                    </select>
                                    <span class="material-symbols-outlined pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-sm text-slate-400">expand_more</span>
                                </div>
                                <div class="relative">
                                    <select class="h-9 appearance-none rounded-lg border border-slate-200 bg-white pl-3 pr-8 text-sm text-slate-700 focus:border-primary focus:ring-primary dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300">
                                        <option>Bulan Ini</option>
                                        <option>Kuartal Ini</option>
                                        <option>Tahun Ini</option>
                                    </select>
                                    <span class="material-symbols-outlined pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-sm text-slate-400">expand_more</span>
                                </div>
                            </div>
                        </div>
                        <div class="w-full overflow-x-auto">
                            <table class="w-full text-left text-sm">
                                <thead class="bg-slate-50 text-xs font-semibold uppercase text-slate-500 dark:bg-slate-800/50 dark:text-slate-400">
                                    <tr>
                                        <th class="px-6 py-4">Nama</th>
                                        <th class="px-6 py-4">Jabatan</th>
                                        <th class="px-6 py-4">File Selesai</th>
                                        <th class="px-6 py-4">Rata-rata Waktu</th>
                                        <th class="px-6 py-4">Kepuasan Klien</th>
                                        <th class="px-6 py-4">Efisiensi</th>
                                        <th class="px-6 py-4">Performa</th>
                                        <th class="px-6 py-4 text-right">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-100 dark:divide-slate-800">
                                    <tr class="staff-performance-row">
                                        <td class="px-6 py-4">
                                            <div class="flex items-center gap-3">
                                                <div class="h-10 w-10 rounded-full bg-blue-600 flex items-center justify-center text-white text-sm font-bold">SW</div>
                                                <div>
                                                    <p class="font-medium text-slate-900 dark:text-white">Sarah Wijaya</p>
                                                    <p class="text-xs text-slate-500 dark:text-slate-400">ID: STF-001</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4">
                                            <span class="inline-flex items-center rounded-md bg-purple-100 dark:bg-purple-900/30 px-2 py-1 text-xs font-medium text-purple-700 dark:text-purple-300">
                                                Notaris Utama
                                            </span>
                                        </td>
                                        <td class="px-6 py-4">47</td>
                                        <td class="px-6 py-4">2.8 hari</td>
                                        <td class="px-6 py-4">4.8/5.0</td>
                                        <td class="px-6 py-4">95.2%</td>
                                        <td class="px-6 py-4">
                                            <div class="flex items-center gap-1">
                                                <div class="h-1.5 w-20 rounded-full bg-slate-200 dark:bg-slate-700">
                                                    <div class="h-1.5 rounded-full bg-green-500" style="width: 95%"></div>
                                                </div>
                                                <span class="text-xs font-medium text-green-600 dark:text-green-400">95%</span>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 text-right">
                                            <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800">
                                                <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">visibility</span>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="staff-performance-row">
                                        <td class="px-6 py-4">
                                            <div class="flex items-center gap-3">
                                                <div class="h-10 w-10 rounded-full bg-green-600 flex items-center justify-center text-white text-sm font-bold">BS</div>
                                                <div>
                                                    <p class="font-medium text-slate-900 dark:text-white">Bambang Santoso</p>
                                                    <p class="text-xs text-slate-500 dark:text-slate-400">ID: STF-002</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4">
                                            <span class="inline-flex items-center rounded-md bg-purple-100 dark:bg-purple-900/30 px-2 py-1 text-xs font-medium text-purple-700 dark:text-purple-300">
                                                Notaris Senior
                                            </span>
                                        </td>
                                        <td class="px-6 py-4">52</td>
                                        <td class="px-6 py-4">3.1 hari</td>
                                        <td class="px-6 py-4">4.7/5.0</td>
                                        <td class="px-6 py-4">91.8%</td>
                                        <td class="px-6 py-4">
                                            <div class="flex items-center gap-1">
                                                <div class="h-1.5 w-20 rounded-full bg-slate-200 dark:bg-slate-700">
                                                    <div class="h-1.5 rounded-full bg-green-500" style="width: 92%"></div>
                                                </div>
                                                <span class="text-xs font-medium text-green-600 dark:text-green-400">92%</span>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 text-right">
                                            <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800">
                                                <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">visibility</span>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="staff-performance-row">
                                        <td class="px-6 py-4">
                                            <div class="flex items-center gap-3">
                                                <div class="h-10 w-10 rounded-full bg-purple-600 flex items-center justify-center text-white text-sm font-bold">RA</div>
                                                <div>
                                                    <p class="font-medium text-slate-900 dark:text-white">Rina Anggraini</p>
                                                    <p class="text-xs text-slate-500 dark:text-slate-400">ID: STF-003</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4">
                                            <span class="inline-flex items-center rounded-md bg-purple-100 dark:bg-purple-900/30 px-2 py-1 text-xs font-medium text-purple-700 dark:text-purple-300">
                                                Notaris Junior
                                            </span>
                                        </td>
                                        <td class="px-6 py-4">38</td>
                                        <td class="px-6 py-4">3.5 hari</td>
                                        <td class="px-6 py-4">4.6/5.0</td>
                                        <td class="px-6 py-4">87.3%</td>
                                        <td class="px-6 py-4">
                                            <div class="flex items-center gap-1">
                                                <div class="h-1.5 w-20 rounded-full bg-slate-200 dark:bg-slate-700">
                                                    <div class="h-1.5 rounded-full bg-green-500" style="width: 88%"></div>
                                                </div>
                                                <span class="text-xs font-medium text-green-600 dark:text-green-400">88%</span>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 text-right">
                                            <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800">
                                                <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">visibility</span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- Pagination -->
                        <div class="flex items-center justify-between border-t border-slate-200 px-6 py-4 dark:border-slate-800">
                            <div class="text-sm text-slate-500 dark:text-slate-400">
                                Menampilkan <span class="font-medium text-slate-900 dark:text-white">1</span> hingga <span class="font-medium text-slate-900 dark:text-white">3</span> dari <span class="font-medium text-slate-900 dark:text-white">12</span> hasil
                            </div>
                            <div class="flex items-center gap-2">
                                <button class="flex items-center justify-center rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-600 hover:bg-slate-50 disabled:opacity-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700" disabled="">
                                    Sebelumnya
                                </button>
                                <button class="flex items-center justify-center rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-600 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700">
                                    Selanjutnya
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- User Management Page -->
            <div id="user_management" class="page">
                <div class="mx-auto max-w-7xl space-y-6">
                    <!-- User Management Header -->
                    <div class="flex flex-wrap items-center justify-between gap-4">
                        <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Manajemen Pengguna</h2>
                        <div class="flex items-center gap-2">
                            <button id="addUserBtn" class="action-button flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white shadow-sm transition-all hover:bg-primary-dark hover:shadow-md active:scale-95">
                                <span class="material-symbols-outlined text-[20px]">person_add</span>
                                <span>Tambah Pengguna</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- User Management Table -->
                    <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 animate-slide-up">
                        <div class="flex flex-wrap items-center justify-between gap-4 border-b border-slate-200 p-4 dark:border-slate-800">
                            <div class="flex items-center gap-2">
                                <div class="relative">
                                    <input type="text" placeholder="Cari pengguna..." class="h-9 w-64 rounded-lg border border-slate-200 bg-white pl-10 pr-4 text-sm text-slate-700 focus:border-primary focus:ring-primary dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300">
                                    <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[18px] text-slate-400">search</span>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="relative">
                                    <select class="h-9 appearance-none rounded-lg border border-slate-200 bg-white pl-3 pr-8 text-sm text-slate-700 focus:border-primary focus:ring-primary dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300">
                                        <option>Semua Peran</option>
                                        <option>Executive</option>
                                        <option>Manager</option>
                                        <option>Staff</option>
                                    </select>
                                    <span class="material-symbols-outlined pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-sm text-slate-400">expand_more</span>
                                </div>
                                <div class="relative">
                                    <select class="h-9 appearance-none rounded-lg border border-slate-200 bg-white pl-3 pr-8 text-sm text-slate-700 focus:border-primary focus:ring-primary dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300">
                                        <option>Semua Status</option>
                                        <option>Aktif</option>
                                        <option>Nonaktif</option>
                                    </select>
                                    <span class="material-symbols-outlined pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-sm text-slate-400">expand_more</span>
                                </div>
                            </div>
                        </div>
                        <div class="w-full overflow-x-auto">
                            <table class="w-full text-left text-sm">
                                <thead class="bg-slate-50 text-xs font-semibold uppercase text-slate-500 dark:bg-slate-800/50 dark:text-slate-400">
                                    <tr>
                                        <th class="px-6 py-4">Pengguna</th>
                                        <th class="px-6 py-4">Peran</th>
                                        <th class="px-6 py-4">Departemen</th>
                                        <th class="px-6 py-4">Status</th>
                                        <th class="px-6 py-4">Terakhir Login</th>
                                        <th class="px-6 py-4">Izin</th>
                                        <th class="px-6 py-4 text-right">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-100 dark:divide-slate-800">
                                    <tr class="hover:bg-slate-50 dark:hover:bg-slate-800/50">
                                        <td class="px-6 py-4">
                                            <div class="flex items-center gap-3">
                                                <div class="h-10 w-10 rounded-full bg-blue-600 flex items-center justify-center text-white text-sm font-bold">SW</div>
                                                <div>
                                                    <p class="font-medium text-slate-900 dark:text-white">Sarah Wijaya</p>
                                                    <p class="text-xs text-slate-500 dark:text-slate-400">sarah.wijaya@notarydoc.com</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4">
                                            <span class="role-badge role-executive">Executive</span>
                                        </td>
                                        <td class="px-6 py-4">Manajemen</td>
                                        <td class="px-6 py-4">
                                            <span class="inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-300">
                                                Aktif
                                            </span>
                                        </td>
                                        <td class="px-6 py-4">2 jam yang lalu</td>
                                        <td class="px-6 py-4">
                                            <div class="flex flex-wrap gap-1">
                                                <span class="inline-flex items-center rounded-md bg-slate-100 px-2 py-1 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300">
                                                    Semua
                                                </span>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 text-right">
                                            <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800">
                                                <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">edit</span>
                                            </button>
                                            <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800">
                                                <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">more_vert</span>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-slate-50 dark:hover:bg-slate-800/50">
                                        <td class="px-6 py-4">
                                            <div class="flex items-center gap-3">
                                                <div class="h-10 w-10 rounded-full bg-green-600 flex items-center justify-center text-white text-sm font-bold">BS</div>
                                                <div>
                                                    <p class="font-medium text-slate-900 dark:text-white">Bambang Santoso</p>
                                                    <p class="text-xs text-slate-500 dark:text-slate-400">bambang.santoso@notarydoc.com</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4">
                                            <span class="role-badge role-manager">Manager</span>
                                        </td>
                                        <td class="px-6 py-4">Operasional</td>
                                        <td class="px-6 py-4">
                                            <span class="inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-300">
                                                Aktif
                                            </span>
                                        </td>
                                        <td class="px-6 py-4">1 hari yang lalu</td>
                                        <td class="px-6 py-4">
                                            <div class="flex flex-wrap gap-1">
                                                <span class="inline-flex items-center rounded-md bg-slate-100 px-2 py-1 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300">
                                                    File
                                                </span>
                                                <span class="inline-flex items-center rounded-md bg-slate-100 px-2 py-1 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300">
                                                    Klien
                                                </span>
                                                <span class="inline-flex items-center rounded-md bg-slate-100 px-2 py-1 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300">
                                                    Laporan
                                                </span>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 text-right">
                                            <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800">
                                                <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">edit</span>
                                            </button>
                                            <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800">
                                                <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">more_vert</span>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-slate-50 dark:hover:bg-slate-800/50">
                                        <td class="px-6 py-4">
                                            <div class="flex items-center gap-3">
                                                <div class="h-10 w-10 rounded-full bg-purple-600 flex items-center justify-center text-white text-sm font-bold">RA</div>
                                                <div>
                                                    <p class="font-medium text-slate-900 dark:text-white">Rina Anggraini</p>
                                                    <p class="text-xs text-slate-500 dark:text-slate-400">rina.anggraini@notarydoc.com</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4">
                                            <span class="role-badge role-staff">Staff</span>
                                        </td>
                                        <td class="px-6 py-4">Notaris</td>
                                        <td class="px-6 py-4">
                                            <span class="inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-300">
                                                Aktif
                                            </span>
                                        </td>
                                        <td class="px-6 py-4">3 hari yang lalu</td>
                                        <td class="px-6 py-4">
                                            <div class="flex flex-wrap gap-1">
                                                <span class="inline-flex items-center rounded-md bg-slate-100 px-2 py-1 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300">
                                                    File
                                                </span>
                                                <span class="inline-flex items-center rounded-md bg-slate-100 px-2 py-1 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300">
                                                    Klien
                                                </span>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4 text-right">
                                            <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800">
                                                <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">edit</span>
                                            </button>
                                            <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800">
                                                <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">more_vert</span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- Pagination -->
                        <div class="flex items-center justify-between border-t border-slate-200 px-6 py-4 dark:border-slate-800">
                            <div class="text-sm text-slate-500 dark:text-slate-400">
                                Menampilkan <span class="font-medium text-slate-900 dark:text-white">1</span> hingga <span class="font-medium text-slate-900 dark:text-white">3</span> dari <span class="font-medium text-slate-900 dark:text-white">12</span> hasil
                            </div>
                            <div class="flex items-center gap-2">
                                <button class="flex items-center justify-center rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-600 hover:bg-slate-50 disabled:opacity-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700" disabled="">
                                    Sebelumnya
                                </button>
                                <button class="flex items-center justify-center rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-600 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700">
                                    Selanjutnya
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Audit Logs Page -->
            <div id="audit_logs" class="page">
                <div class="mx-auto max-w-7xl space-y-6">
                    <!-- Audit Logs Header -->
                    <div class="flex flex-wrap items-center justify-between gap-4">
                        <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Log Audit</h2>
                        <div class="flex items-center gap-2">
                            <button class="text-xs text-slate-500 hover:text-primary dark:text-slate-400 dark:hover:text-primary flex items-center gap-1">
                                <span class="material-symbols-outlined text-[16px]">download</span>
                                Ekspor Log
                            </button>
                        </div>
                    </div>
                    
                    <!-- Audit Logs Table -->
                    <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 animate-slide-up">
                        <div class="flex flex-wrap items-center justify-between gap-4 border-b border-slate-200 p-4 dark:border-slate-800">
                            <div class="flex items-center gap-2">
                                <div class="relative">
                                    <input type="text" placeholder="Cari aktivitas..." class="h-9 w-64 rounded-lg border border-slate-200 bg-white pl-10 pr-4 text-sm text-slate-700 focus:border-primary focus:ring-primary dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300">
                                    <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[18px] text-slate-400">search</span>
                                </div>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="relative">
                                    <select class="h-9 appearance-none rounded-lg border border-slate-200 bg-white pl-3 pr-8 text-sm text-slate-700 focus:border-primary focus:ring-primary dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300">
                                        <option>Semua Tindakan</option>
                                        <option>Create</option>
                                        <option>Update</option>
                                        <option>Delete</option>
                                        <option>Login</option>
                                        <option>Export</option>
                                    </select>
                                    <span class="material-symbols-outlined pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-sm text-slate-400">expand_more</span>
                                </div>
                                <div class="relative">
                                    <select class="h-9 appearance-none rounded-lg border border-slate-200 bg-white pl-3 pr-8 text-sm text-slate-700 focus:border-primary focus:ring-primary dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300">
                                        <option>7 Hari Terakhir</option>
                                        <option>30 Hari Terakhir</option>
                                        <option>3 Bulan Terakhir</option>
                                        <option>Tahun Ini</option>
                                    </select>
                                    <span class="material-symbols-outlined pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 text-sm text-slate-400">expand_more</span>
                                </div>
                            </div>
                        </div>
                        <div class="w-full overflow-x-auto">
                            <table class="w-full text-left text-sm">
                                <thead class="bg-slate-50 text-xs font-semibold uppercase text-slate-500 dark:bg-slate-800/50 dark:text-slate-400">
                                    <tr>
                                        <th class="px-6 py-4">Waktu</th>
                                        <th class="px-6 py-4">Pengguna</th>
                                        <th class="px-6 py-4">Tindakan</th>
                                        <th class="px-6 py-4">Modul</th>
                                        <th class="px-6 py-4">Detail</th>
                                        <th class="px-6 py-4">IP Address</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-100 dark:divide-slate-800">
                                    <tr class="audit-log-row">
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="text-sm text-slate-900 dark:text-white">28 Okt 2023</div>
                                            <div class="text-xs text-slate-500 dark:text-slate-400">14:35:22</div>
                                        </td>
                                        <td class="px-6 py-4">
                                            <div class="flex items-center gap-2">
                                                <div class="h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center text-white text-xs font-bold">SW</div>
                                                <div>
                                                    <p class="text-sm font-medium text-slate-900 dark:text-white">Sarah Wijaya</p>
                                                    <p class="text-xs text-slate-500 dark:text-slate-400">Executive</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4">
                                            <span class="inline-flex items-center rounded-md bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-300">
                                                Create
                                            </span>
                                        </td>
                                        <td class="px-6 py-4">File</td>
                                        <td class="px-6 py-4">Membuat file baru #2024/05/043</td>
                                        <td class="px-6 py-4 text-sm text-slate-500 dark:text-slate-400">192.168.1.1</td>
                                    </tr>
                                    <tr class="audit-log-row">
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="text-sm text-slate-900 dark:text-white">28 Okt 2023</div>
                                            <div class="text-xs text-slate-500 dark:text-slate-400">13:22:15</div>
                                        </td>
                                        <td class="px-6 py-4">
                                            <div class="flex items-center gap-2">
                                                <div class="h-8 w-8 rounded-full bg-green-600 flex items-center justify-center text-white text-xs font-bold">BS</div>
                                                <div>
                                                    <p class="text-sm font-medium text-slate-900 dark:text-white">Bambang Santoso</p>
                                                    <p class="text-xs text-slate-500 dark:text-slate-400">Manager</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4">
                                            <span class="inline-flex items-center rounded-md bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-700 dark:bg-blue-900/30 dark:text-blue-300">
                                                Update
                                            </span>
                                        </td>
                                        <td class="px-6 py-4">Klien</td>
                                        <td class="px-6 py-4">Memperbarui informasi klien CLI-005</td>
                                        <td class="px-6 py-4 text-sm text-slate-500 dark:text-slate-400">192.168.1.2</td>
                                    </tr>
                                    <tr class="audit-log-row">
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="text-sm text-slate-900 dark:text-white">28 Okt 2023</div>
                                            <div class="text-xs text-slate-500 dark:text-slate-400">11:45:33</div>
                                        </td>
                                        <td class="px-6 py-4">
                                            <div class="flex items-center gap-2">
                                                <div class="h-8 w-8 rounded-full bg-purple-600 flex items-center justify-center text-white text-xs font-bold">RA</div>
                                                <div>
                                                    <p class="text-sm font-medium text-slate-900 dark:text-white">Rina Anggraini</p>
                                                    <p class="text-xs text-slate-500 dark:text-slate-400">Staff</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4">
                                            <span class="inline-flex items-center rounded-md bg-purple-100 px-2.5 py-0.5 text-xs font-medium text-purple-700 dark:bg-purple-900/30 dark:text-purple-300">
                                                Export
                                            </span>
                                        </td>
                                        <td class="px-6 py-4">Laporan</td>
                                        <td class="px-6 py-4">Mengekspor laporan bulanan</td>
                                        <td class="px-6 py-4 text-sm text-slate-500 dark:text-slate-400">192.168.1.3</td>
                                    </tr>
                                    <tr class="audit-log-row">
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <div class="text-sm text-slate-900 dark:text-white">27 Okt 2023</div>
                                            <div class="text-xs text-slate-500 dark:text-slate-400">16:12:08</div>
                                        </td>
                                        <td class="px-6 py-4">
                                            <div class="flex items-center gap-2">
                                                <div class="h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center text-white text-xs font-bold">SW</div>
                                                <div>
                                                    <p class="text-sm font-medium text-slate-900 dark:text-white">Sarah Wijaya</p>
                                                    <p class="text-xs text-slate-500 dark:text-slate-400">Executive</p>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="px-6 py-4">
                                            <span class="inline-flex items-center rounded-md bg-amber-100 px-2.5 py-0.5 text-xs font-medium text-amber-700 dark:bg-amber-900/30 dark:text-amber-300">
                                                Login
                                            </span>
                                        </td>
                                        <td class="px-6 py-4">Sistem</td>
                                        <td class="px-6 py-4">Login ke sistem</td>
                                        <td class="px-6 py-4 text-sm text-slate-500 dark:text-slate-400">192.168.1.1</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- Pagination -->
                        <div class="flex items-center justify-between border-t border-slate-200 px-6 py-4 dark:border-slate-800">
                            <div class="text-sm text-slate-500 dark:text-slate-400">
                                Menampilkan <span class="font-medium text-slate-900 dark:text-white">1</span> hingga <span class="font-medium text-slate-900 dark:text-white">4</span> dari <span class="font-medium text-slate-900 dark:text-white">247</span> hasil
                            </div>
                            <div class="flex items-center gap-2">
                                <button class="flex items-center justify-center rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-600 hover:bg-slate-50 disabled:opacity-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700" disabled="">
                                    Sebelumnya
                                </button>
                                <button class="flex items-center justify-center rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-600 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700">
                                    Selanjutnya
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Company Settings Page -->
            <div id="company_settings" class="page">
                <div class="mx-auto max-w-7xl space-y-6">
                    <!-- Company Settings Header -->
                    <div class="flex flex-wrap items-center justify-between gap-4">
                        <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Pengaturan Perusahaan</h2>
                        <div class="flex items-center gap-2">
                            <button class="action-button flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white shadow-sm transition-all hover:bg-primary-dark hover:shadow-md active:scale-95">
                                <span class="material-symbols-outlined text-[20px]">save</span>
                                <span>Simpan Perubahan</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Company Settings Tabs -->
                    <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 animate-slide-up">
                        <div class="border-b border-slate-200 dark:border-slate-800">
                            <nav class="flex space-x-8 px-6" aria-label="Company Settings Tabs">
                                <button class="tab-button active py-4 px-1 text-sm font-medium text-slate-900 dark:text-white" data-tab="general">
                                    Umum
                                </button>
                                <button class="tab-button py-4 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" data-tab="branding">
                                    Branding
                                </button>
                                <button class="tab-button py-4 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" data-tab="integrations">
                                    Integrasi
                                </button>
                                <button class="tab-button py-4 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" data-tab="security">
                                    Keamanan
                                </button>
                                <button class="tab-button py-4 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" data-tab="compliance">
                                    Kepatuhan
                                </button>
                            </nav>
                        </div>
                        
                        <!-- Tab Content -->
                        <div class="p-6">
                            <!-- General Tab -->
                            <div id="general-tab" class="tab-content">
                                <div class="space-y-6">
                                    <div>
                                        <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Informasi Perusahaan</h3>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                            <div>
                                                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Nama Perusahaan</label>
                                                <input type="text" value="NotaryDoc Tracker" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Nomor Telepon</label>
                                                <input type="tel" value="(021) 555-1234" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Email</label>
                                                <input type="email" value="info@notarydoc.com" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Website</label>
                                                <input type="url" value="https://notarydoc.com" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Alamat Perusahaan</h3>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                            <div class="md:col-span-2">
                                                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Alamat Lengkap</label>
                                                <textarea rows="3" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">Jl. Sudirman No. 123, Jakarta Pusat, 10110</textarea>
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Kota</label>
                                                <input type="text" value="Jakarta" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Kode Pos</label>
                                                <input type="text" value="10110" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Pengaturan Sistem</h3>
                                        <div class="space-y-4">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="font-medium text-slate-900 dark:text-white">Zona Waktu</p>
                                                    <p class="text-sm text-slate-500 dark:text-slate-400">Atur zona waktu default untuk sistem</p>
                                                </div>
                                                <select class="h-9 appearance-none rounded-lg border border-slate-200 bg-white pl-3 pr-8 text-sm text-slate-700 focus:border-primary focus:ring-primary dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300">
                                                    <option>Waktu Indonesia Barat (GMT+7)</option>
                                                    <option>Waktu Indonesia Tengah (GMT+8)</option>
                                                    <option>Waktu Indonesia Timur (GMT+9)</option>
                                                </select>
                                            </div>
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="font-medium text-slate-900 dark:text-white">Format Tanggal</p>
                                                    <p class="text-sm text-slate-500 dark:text-slate-400">Atur format tanggal default</p>
                                                </div>
                                                <select class="h-9 appearance-none rounded-lg border border-slate-200 bg-white pl-3 pr-8 text-sm text-slate-700 focus:border-primary focus:ring-primary dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300">
                                                    <option>DD/MM/YYYY</option>
                                                    <option>MM/DD/YYYY</option>
                                                    <option>YYYY-MM-DD</option>
                                                </select>
                                            </div>
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <p class="font-medium text-slate-900 dark:text-white">Mata Uang</p>
                                                    <p class="text-sm text-slate-500 dark:text-slate-400">Atur mata uang default untuk laporan keuangan</p>
                                                </div>
                                                <select class="h-9 appearance-none rounded-lg border border-slate-200 bg-white pl-3 pr-8 text-sm text-slate-700 focus:border-primary focus:ring-primary dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300">
                                                    <option>Rupiah (IDR)</option>
                                                    <option>Dollar Amerika (USD)</option>
                                                    <option>Euro (EUR)</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Other tabs (hidden by default) -->
                            <div id="branding-tab" class="tab-content hidden">
                                <div class="text-center py-12">
                                    <span class="material-symbols-outlined text-6xl text-slate-300 dark:text-slate-600">palette</span>
                                    <p class="mt-4 text-lg font-medium text-slate-900 dark:text-white">Pengaturan Branding</p>
                                    <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">Kustomisasi tampilan dan merek perusahaan</p>
                                </div>
                            </div>
                            
                            <div id="integrations-tab" class="tab-content hidden">
                                <div class="text-center py-12">
                                    <span class="material-symbols-outlined text-6xl text-slate-300 dark:text-slate-600">hub</span>
                                    <p class="mt-4 text-lg font-medium text-slate-900 dark:text-white">Integrasi</p>
                                    <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">Kelola integrasi dengan sistem lain</p>
                                </div>
                            </div>
                            
                            <div id="security-tab" class="tab-content hidden">
                                <div class="text-center py-12">
                                    <span class="material-symbols-outlined text-6xl text-slate-300 dark:text-slate-600">security</span>
                                    <p class="mt-4 text-lg font-medium text-slate-900 dark:text-white">Keamanan</p>
                                    <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">Pengaturan keamanan dan akses sistem</p>
                                </div>
                            </div>
                            
                            <div id="compliance-tab" class="tab-content hidden">
                                <div class="text-center py-12">
                                    <span class="material-symbols-outlined text-6xl text-slate-300 dark:text-slate-600">gavel</span>
                                    <p class="mt-4 text-lg font-medium text-slate-900 dark:text-white">Kepatuhan</p>
                                    <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">Pengaturan kepatuhan regulasi</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- All Files Page -->
            <div id="all_files" class="page">
                <div class="mx-auto max-w-7xl space-y-6">
                    <!-- Filter Section -->
                    <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm p-4 border border-slate-200 dark:border-slate-700 animate-slide-up">
                        <div class="flex flex-wrap items-center justify-between gap-4">
                            <div class="flex flex-wrap items-center gap-2">
                                <span class="text-sm font-medium text-slate-700 dark:text-slate-300">Filter:</span>
                                <button class="filter-chip px-3 py-1.5 rounded-full bg-primary/10 text-primary text-xs font-medium" data-filter="all">
                                    Semua Tipe
                                </button>
                                <button class="filter-chip px-3 py-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-xs font-medium hover:bg-slate-200 dark:hover:bg-slate-600" data-filter="AJB">
                                    AJB
                                </button>
                                <button class="filter-chip px-3 py-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-xs font-medium hover:bg-slate-200 dark:hover:bg-slate-600" data-filter="SKMHT">
                                    SKMHT
                                </button>
                                <button class="filter-chip px-3 py-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-xs font-medium hover:bg-slate-200 dark:hover:bg-slate-600" data-filter="APHT">
                                    APHT
                                </button>
                                <div class="h-6 w-px bg-slate-300 dark:bg-slate-600"></div>
                                <button class="filter-chip px-3 py-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-xs font-medium hover:bg-slate-200 dark:hover:bg-slate-600" data-filter="all-status">
                                    Semua Status
                                </button>
                                <button class="filter-chip px-3 py-1.5 rounded-full bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-xs font-medium hover:bg-red-100 dark:hover:bg-red-900/30" data-filter="overdue">
                                    <span class="h-2 w-2 rounded-full bg-red-500 inline-block mr-1"></span>
                                    Terlambat
                                </button>
                            </div>
                            <button id="moreFiltersBtn" class="text-xs text-slate-500 hover:text-primary dark:text-slate-400 dark:hover:text-primary flex items-center gap-1">
                                <span class="material-symbols-outlined text-[16px]">filter_alt</span>
                                Filter Lainnya
                            </button>
                        </div>
                    </div>
                    
                    <!-- View Toggle -->
                    <div class="flex justify-end">
                        <div class="hidden sm:flex items-center bg-slate-100 dark:bg-slate-800 rounded-lg p-1">
                            <button id="tableViewBtn" class="px-3 py-1.5 rounded-md bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm">
                                <span class="material-symbols-outlined text-[18px]">view_list</span>
                            </button>
                            <button id="cardViewBtn" class="px-3 py-1.5 rounded-md text-slate-600 dark:text-slate-400">
                                <span class="material-symbols-outlined text-[18px]">grid_view</span>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Table View (Default) -->
                    <div id="tableView" class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 animate-slide-up" style="animation-delay: 0.1s">
                        <!-- Table Header -->
                        <div class="flex flex-wrap items-center justify-between gap-4 border-b border-slate-200 p-4 dark:border-slate-800">
                            <h2 class="text-lg font-bold text-slate-900 dark:text-white">Registry File</h2>
                            <div class="flex items-center gap-2">
                                <button id="exportBtn" class="text-xs text-slate-500 hover:text-primary dark:text-slate-400 dark:hover:text-primary flex items-center gap-1">
                                    <span class="material-symbols-outlined text-[16px]">download</span>
                                    Ekspor
                                </button>
                                <button id="refreshBtn" class="text-xs text-slate-500 hover:text-primary dark:text-slate-400 dark:hover:text-primary flex items-center gap-1">
                                    <span class="material-symbols-outlined text-[16px]">refresh</span>
                                    Refresh
                                </button>
                            </div>
                        </div>
                        <!-- Table -->
                        <div class="w-full overflow-x-auto">
                            <table class="w-full text-left text-sm">
                                <thead class="bg-slate-50 text-xs font-semibold uppercase text-slate-500 dark:bg-slate-800/50 dark:text-slate-400">
                                    <tr>
                                        <th class="px-6 py-4">No. File</th>
                                        <th class="px-6 py-4">Nama Klien</th>
                                        <th class="px-6 py-4">Tipe Layanan</th>
                                        <th class="px-6 py-4 w-48">Progress</th>
                                        <th class="px-6 py-4">Perkiraan Selesai</th>
                                        <th class="px-6 py-4">Status</th>
                                        <th class="px-6 py-4 text-right">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="filesTableBody" class="divide-y divide-slate-100 dark:divide-slate-800">
                                    <!-- Table rows will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                        <!-- Pagination -->
                        <div class="flex items-center justify-between border-t border-slate-200 px-6 py-4 dark:border-slate-800">
                            <div class="text-sm text-slate-500 dark:text-slate-400">
                                Menampilkan <span class="font-medium text-slate-900 dark:text-white">1</span> hingga <span class="font-medium text-slate-900 dark:text-white">5</span> dari <span class="font-medium text-slate-900 dark:text-white">14</span> hasil
                            </div>
                            <div class="flex items-center gap-2">
                                <button class="flex items-center justify-center rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-600 hover:bg-slate-50 disabled:opacity-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700" disabled="">
                                    Sebelumnya
                                </button>
                                <button class="flex items-center justify-center rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-600 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700">
                                    Selanjutnya
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Card View (Hidden by default) -->
                    <div id="cardView" class="hidden">
                        <div id="filesCardContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- File cards will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Clients Page -->
            <div id="clients" class="page">
                <div class="mx-auto max-w-7xl space-y-6">
                    <!-- Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 animate-slide-up">
                        <div class="bg-surface-light dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Total Klien</p>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">247</p>
                                </div>
                                <div class="p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg">
                                    <span class="material-symbols-outlined text-blue-600 dark:text-blue-400">groups</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-surface-light dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Individu</p>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">189</p>
                                </div>
                                <div class="p-2 bg-green-100 dark:bg-green-900/30 rounded-lg">
                                    <span class="material-symbols-outlined text-green-600 dark:text-green-400">person</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-surface-light dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Perusahaan</p>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">58</p>
                                </div>
                                <div class="p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg">
                                    <span class="material-symbols-outlined text-purple-600 dark:text-purple-400">business</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-surface-light dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Baru Bulan Ini</p>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">12</p>
                                </div>
                                <div class="p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg">
                                    <span class="material-symbols-outlined text-amber-600 dark:text-amber-400">trending_up</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Tabs -->
                    <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 animate-slide-up" style="animation-delay: 0.1s">
                        <div class="border-b border-slate-200 dark:border-slate-800">
                            <nav class="flex space-x-8 px-6" aria-label="Tabs">
                                <button class="tab-button active py-4 px-1 text-sm font-medium text-slate-900 dark:text-white" data-tab="all">
                                    Semua Klien
                                </button>
                                <button class="tab-button py-4 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" data-tab="individuals">
                                    Individu
                                </button>
                                <button class="tab-button py-4 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" data-tab="companies">
                                    Perusahaan
                                </button>
                                <button class="tab-button py-4 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" data-tab="recent">
                                    Aktivitas Terkini
                                </button>
                            </nav>
                        </div>
                        
                        <!-- Tab Content -->
                        <div class="p-6">
                            <!-- All Clients Tab -->
                            <div id="all-tab" class="tab-content">
                                <!-- Filter Section -->
                                <div class="flex flex-wrap items-center justify-between gap-4 mb-6">
                                    <div class="flex flex-wrap items-center gap-2">
                                        <span class="text-sm font-medium text-slate-700 dark:text-slate-300">Filter berdasarkan:</span>
                                        <button class="px-3 py-1.5 rounded-full bg-primary/10 text-primary text-xs font-medium">
                                            Semua Tipe
                                        </button>
                                        <button class="px-3 py-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-xs font-medium hover:bg-slate-200 dark:hover:bg-slate-600">
                                            File Aktif
                                        </button>
                                        <button class="px-3 py-1.5 rounded-full bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 text-xs font-medium hover:bg-slate-200 dark:hover:bg-slate-600">
                                            Tanpa File
                                        </button>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <button class="text-xs text-slate-500 hover:text-primary dark:text-slate-400 dark:hover:text-primary flex items-center gap-1">
                                            <span class="material-symbols-outlined text-[16px]">download</span>
                                            Ekspor
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Clients Table -->
                                <div class="overflow-x-auto">
                                    <table class="w-full text-left text-sm">
                                        <thead class="bg-slate-50 text-xs font-semibold uppercase text-slate-500 dark:bg-slate-800/50 dark:text-slate-400">
                                            <tr>
                                                <th class="px-6 py-4">Klien</th>
                                                <th class="px-6 py-4">Kontak</th>
                                                <th class="px-6 py-4">Tipe</th>
                                                <th class="px-6 py-4">Total File</th>
                                                <th class="px-6 py-4">Aktivitas Terakhir</th>
                                                <th class="px-6 py-4">Status</th>
                                                <th class="px-6 py-4 text-right">Aksi</th>
                                            </tr>
                                        </thead>
                                        <tbody id="clientsTableBody" class="divide-y divide-slate-100 dark:divide-slate-800">
                                            <!-- Client rows will be populated by JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                                
                                <!-- Pagination -->
                                <div class="flex items-center justify-between border-t border-slate-200 px-6 py-4 dark:border-slate-800 mt-4">
                                    <div class="text-sm text-slate-500 dark:text-slate-400">
                                        Menampilkan <span class="font-medium text-slate-900 dark:text-white">1</span> hingga <span class="font-medium text-slate-900 dark:text-white">4</span> dari <span class="font-medium text-slate-900 dark:text-white">247</span> hasil
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <button class="flex items-center justify-center rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-600 hover:bg-slate-50 disabled:opacity-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700" disabled="">
                                            Sebelumnya
                                        </button>
                                        <button class="flex items-center justify-center rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-sm text-slate-600 hover:bg-slate-50 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-300 dark:hover:bg-slate-700">
                                            Selanjutnya
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Other tabs (hidden by default) -->
                            <div id="individuals-tab" class="tab-content hidden">
                                <div class="text-center py-12">
                                    <span class="material-symbols-outlined text-6xl text-slate-300 dark:text-slate-600">person</span>
                                    <p class="mt-4 text-lg font-medium text-slate-900 dark:text-white">Klien Individu</p>
                                    <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">Menampilkan 189 klien individu</p>
                                </div>
                            </div>
                            
                            <div id="companies-tab" class="tab-content hidden">
                                <div class="text-center py-12">
                                    <span class="material-symbols-outlined text-6xl text-slate-300 dark:text-slate-600">business</span>
                                    <p class="mt-4 text-lg font-medium text-slate-900 dark:text-white">Klien Perusahaan</p>
                                    <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">Menampilkan 58 klien perusahaan</p>
                                </div>
                            </div>
                            
                            <div id="recent-tab" class="tab-content hidden">
                                <div class="text-center py-12">
                                    <span class="material-symbols-outlined text-6xl text-slate-300 dark:text-slate-600">history</span>
                                    <p class="mt-4 text-lg font-medium text-slate-900 dark:text-white">Aktivitas Terkini</p>
                                    <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">Klien dengan aktivitas file terkini</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reports Page -->
            <div id="reports" class="page">
                <div class="mx-auto max-w-7xl space-y-6">
                    <!-- Summary Stats -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 animate-slide-up">
                        <div class="stat-card bg-surface-light dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Total File</p>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">142</p>
                                    <p class="text-xs text-success-green">+12% dari bulan lalu</p>
                                </div>
                                <div class="p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg">
                                    <span class="material-symbols-outlined text-blue-600 dark:text-blue-400">folder_open</span>
                                </div>
                            </div>
                        </div>
                        <div class="stat-card bg-surface-light dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Selesai</p>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">98</p>
                                    <p class="text-xs text-slate-500">69% tingkat penyelesaian</p>
                                </div>
                                <div class="p-2 bg-green-100 dark:bg-green-900/30 rounded-lg">
                                    <span class="material-symbols-outlined text-green-600 dark:text-green-400">check_circle</span>
                                </div>
                            </div>
                        </div>
                        <div class="stat-card bg-surface-light dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Terlambat</p>
                                    <p class="text-2xl font-bold text-alert-red">8</p>
                                    <p class="text-xs text-alert-red">5.6% tingkat keterlambatan</p>
                                </div>
                                <div class="p-2 bg-red-100 dark:bg-red-900/30 rounded-lg">
                                    <span class="material-symbols-outlined text-red-600 dark:text-red-400">warning</span>
                                </div>
                            </div>
                        </div>
                        <div class="stat-card bg-surface-light dark:bg-surface-dark rounded-xl p-4 border border-slate-200 dark:border-slate-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-slate-500 dark:text-slate-400">Rata-rata Proses</p>
                                    <p class="text-2xl font-bold text-slate-900 dark:text-white">4.2h</p>
                                    <p class="text-xs text-warning-yellow">+0.5h dari target</p>
                                </div>
                                <div class="p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg">
                                    <span class="material-symbols-outlined text-amber-600 dark:text-amber-400">schedule</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Report Tabs -->
                    <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 animate-slide-up" style="animation-delay: 0.1s">
                        <div class="border-b border-slate-200 dark:border-slate-800">
                            <nav class="flex space-x-8 px-6" aria-label="Report Tabs">
                                <button class="tab-button active py-4 px-1 text-sm font-medium text-slate-900 dark:text-white" data-tab="overview">
                                    Ikhtisar
                                </button>
                                <button class="tab-button py-4 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" data-tab="performance">
                                    Kinerja
                                </button>
                                <button class="tab-button py-4 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" data-tab="sla">
                                    Analisis SLA
                                </button>
                                <button class="tab-button py-4 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" data-tab="clients">
                                    Aktivitas Klien
                                </button>
                                <button class="tab-button py-4 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" data-tab="financial">
                                    Laporan Keuangan
                                </button>
                                <button class="tab-button py-4 px-1 text-sm font-medium text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300" data-tab="forecasting">
                                    Proyeksi
                                </button>
                            </nav>
                        </div>
                        
                        <!-- Tab Content -->
                        <div class="p-6">
                            <!-- Overview Tab -->
                            <div id="overview-tab" class="tab-content">
                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                    <!-- File Status Chart -->
                                    <div class="report-card bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                                        <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Distribusi Status File</h3>
                                        <div class="chart-container">
                                            <canvas id="statusChart"></canvas>
                                        </div>
                                    </div>
                                    <!-- Service Type Chart -->
                                    <div class="report-card bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                                        <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Tipe Layanan</h3>
                                        <div class="chart-container">
                                            <canvas id="serviceChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Monthly Trend -->
                                <div class="mt-6 report-card bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                                    <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Tren Bulanan</h3>
                                    <div class="chart-container" style="height: 250px;">
                                        <canvas id="trendChart"></canvas>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Other tabs (hidden by default) -->
                            <div id="performance-tab" class="tab-content hidden">
                                <div class="text-center py-12">
                                    <span class="material-symbols-outlined text-6xl text-slate-300 dark:text-slate-600">speed</span>
                                    <p class="mt-4 text-lg font-medium text-slate-900 dark:text-white">Analisis Kinerja</p>
                                    <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">Data kinerja staf dan proses</p>
                                </div>
                            </div>
                            
                            <div id="sla-tab" class="tab-content hidden">
                                <div class="text-center py-12">
                                    <span class="material-symbols-outlined text-6xl text-slate-300 dark:text-slate-600">assignment_late</span>
                                    <p class="mt-4 text-lg font-medium text-slate-900 dark:text-white">Analisis SLA</p>
                                    <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">Kepatuhan terhadap Service Level Agreement</p>
                                </div>
                            </div>
                            
                            <div id="clients-tab" class="tab-content hidden">
                                <div class="text-center py-12">
                                    <span class="material-symbols-outlined text-6xl text-slate-300 dark:text-slate-600">groups</span>
                                    <p class="mt-4 text-lg font-medium text-slate-900 dark:text-white">Aktivitas Klien</p>
                                    <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">Statistik dan aktivitas klien</p>
                                </div>
                            </div>
                            
                            <div id="financial-tab" class="tab-content hidden">
                                <div class="text-center py-12">
                                    <span class="material-symbols-outlined text-6xl text-slate-300 dark:text-slate-600">account_balance</span>
                                    <p class="mt-4 text-lg font-medium text-slate-900 dark:text-white">Laporan Keuangan</p>
                                    <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">Analisis pendapatan dan pengeluaran</p>
                                </div>
                            </div>
                            
                            <div id="forecasting-tab" class="tab-content hidden">
                                <div class="text-center py-12">
                                    <span class="material-symbols-outlined text-6xl text-slate-300 dark:text-slate-600">trending_up</span>
                                    <p class="mt-4 text-lg font-medium text-slate-900 dark:text-white">Proyeksi Bisnis</p>
                                    <p class="mt-2 text-sm text-slate-500 dark:text-slate-400">Prediksi pertumbuhan dan tren masa depan</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<!-- Add User Modal -->
<div id="addUserModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-xl w-full max-w-md mx-4 animate-slide-up">
        <div class="flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-800">
            <h3 class="text-lg font-bold text-slate-900 dark:text-white">Tambah Pengguna Baru</h3>
            <button id="closeAddUserModalBtn" class="p-1 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800">
                <span class="material-symbols-outlined text-slate-500 dark:text-slate-400">close</span>
            </button>
        </div>
        <div class="p-6 space-y-4">
            <div>
                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Nama Lengkap</label>
                <input type="text" id="newUserName" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4" placeholder="Masukkan nama lengkap">
            </div>
            <div>
                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Email</label>
                <input type="email" id="newUserEmail" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4" placeholder="email@example.com">
            </div>
            <div>
                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Peran</label>
                <select id="newUserRole" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                    <option value="staff">Staff</option>
                    <option value="manager">Manager</option>
                    <option value="executive">Executive</option>
                </select>
            </div>
            <div>
                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Departemen</label>
                <select id="newUserDepartment" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                    <option>Notaris</option>
                    <option>Admin</option>
                    <option>Operasional</option>
                    <option>Manajemen</option>
                </select>
            </div>
            <div>
                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Izin Akses</label>
                <div class="space-y-2">
                    <label class="flex items-center gap-2">
                        <input type="checkbox" id="permFile" class="rounded border-slate-300 text-primary focus:ring-primary dark:border-slate-600 dark:bg-slate-800" checked>
                        <span class="text-sm text-slate-700 dark:text-slate-300">Manajemen File</span>
                    </label>
                    <label class="flex items-center gap-2">
                        <input type="checkbox" id="permClient" class="rounded border-slate-300 text-primary focus:ring-primary dark:border-slate-600 dark:bg-slate-800" checked>
                        <span class="text-sm text-slate-700 dark:text-slate-300">Manajemen Klien</span>
                    </label>
                    <label class="flex items-center gap-2">
                        <input type="checkbox" id="permReport" class="rounded border-slate-300 text-primary focus:ring-primary dark:border-slate-600 dark:bg-slate-800">
                        <span class="text-sm text-slate-700 dark:text-slate-300">Akses Laporan</span>
                    </label>
                    <label class="flex items-center gap-2">
                        <input type="checkbox" id="permUser" class="rounded border-slate-300 text-primary focus:ring-primary dark:border-slate-600 dark:bg-slate-800">
                        <span class="text-sm text-slate-700 dark:text-slate-300">Manajemen Pengguna</span>
                    </label>
                    <label class="flex items-center gap-2">
                        <input type="checkbox" id="permSetting" class="rounded border-slate-300 text-primary focus:ring-primary dark:border-slate-600 dark:bg-slate-800">
                        <span class="text-sm text-slate-700 dark:text-slate-300">Pengaturan Perusahaan</span>
                    </label>
                </div>
            </div>
        </div>
        <div class="flex items-center justify-end gap-3 p-6 border-t border-slate-200 dark:border-slate-800">
            <button id="cancelAddUserBtn" class="px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-700">
                Batal
            </button>
            <button id="saveUserBtn" class="px-4 py-2 rounded-lg bg-primary text-white font-medium hover:bg-primary-dark">
                Tambah Pengguna
            </button>
        </div>
    </div>
</div>

<!-- Add Client Modal -->
<div id="addClientModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-xl w-full max-w-md mx-4 animate-slide-up">
        <div class="flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-800">
            <h3 class="text-lg font-bold text-slate-900 dark:text-white">Tambah Klien Baru</h3>
            <button id="closeModalBtn" class="p-1 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800">
                <span class="material-symbols-outlined text-slate-500 dark:text-slate-400">close</span>
            </button>
        </div>
        <div class="p-6 space-y-4">
            <div>
                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Tipe Klien</label>
                <select id="clientType" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                    <option>Individu</option>
                    <option>Perusahaan</option>
                </select>
            </div>
            <div>
                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Nama Lengkap / Nama Perusahaan</label>
                <input type="text" id="newClientName" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4" placeholder="Masukkan nama">
            </div>
            <div>
                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Nomor Telepon</label>
                <input type="tel" id="newClientPhone" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4" placeholder="+62 812-3456-7890">
            </div>
            <div>
                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Alamat Email</label>
                <input type="email" id="newClientEmail" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4" placeholder="email@example.com">
            </div>
            <div>
                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Alamat</label>
                <textarea id="newClientAddress" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4" rows="3" placeholder="Masukkan alamat"></textarea>
            </div>
        </div>
        <div class="flex items-center justify-end gap-3 p-6 border-t border-slate-200 dark:border-slate-800">
            <button id="cancelModalBtn" class="px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-700">
                Batal
            </button>
            <button id="saveClientBtn" class="px-4 py-2 rounded-lg bg-primary text-white font-medium hover:bg-primary-dark">
                Tambah Klien
            </button>
        </div>
    </div>
</div>

<!-- File Details Modal -->
<div id="fileDetailsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto animate-slide-up">
        <div class="flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-800">
            <h3 class="text-lg font-bold text-slate-900 dark:text-white">Detail File</h3>
            <button id="closeFileDetailsBtn" class="p-1 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800">
                <span class="material-symbols-outlined text-slate-500 dark:text-slate-400">close</span>
            </button>
        </div>
        <div id="fileDetailsContent" class="p-6">
            <!-- File details will be populated by JavaScript -->
        </div>
    </div>
</div>

<!-- Client Details Modal -->
<div id="clientDetailsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-xl w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto animate-slide-up">
        <div class="flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-800">
            <h3 class="text-lg font-bold text-slate-900 dark:text-white">Detail Klien</h3>
            <button id="closeClientDetailsBtn" class="p-1 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800">
                <span class="material-symbols-outlined text-slate-500 dark:text-slate-400">close</span>
            </button>
        </div>
        <div id="clientDetailsContent" class="p-6">
            <!-- Client details will be populated by JavaScript -->
        </div>
    </div>
</div>

<!-- Notification Panel -->
<div id="notificationPanel" class="fixed top-16 right-6 w-80 bg-surface-light dark:bg-surface-dark rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 p-4 hidden z-40 animate-slide-up">
    <div class="flex items-center justify-between mb-4">
        <h3 class="text-lg font-bold text-slate-900 dark:text-white">Notifikasi</h3>
        <button id="closeNotificationBtn" class="p-1 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800">
            <span class="material-symbols-outlined text-slate-500 dark:text-slate-400">close</span>
        </button>
    </div>
    <div id="notificationList" class="space-y-3 max-h-96 overflow-y-auto">
        <!-- Notifications will be populated by JavaScript -->
    </div>
</div>

<!-- Settings Modal -->
<div id="settingsModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
    <div class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-xl w-full max-w-md mx-4 animate-slide-up">
        <div class="flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-800">
            <h3 class="text-lg font-bold text-slate-900 dark:text-white">Pengaturan</h3>
            <button id="closeSettingsBtn" class="p-1 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800">
                <span class="material-symbols-outlined text-slate-500 dark:text-slate-400">close</span>
            </button>
        </div>
        <div class="p-6 space-y-4">
            <div class="flex items-center justify-between">
                <div>
                    <p class="font-medium text-slate-900 dark:text-white">Mode Gelap</p>
                    <p class="text-sm text-slate-500 dark:text-slate-400">Aktifkan tema gelap</p>
                </div>
                <label class="inline-flex items-center cursor-pointer">
                    <input id="darkModeToggleModal" class="sr-only peer" type="checkbox" value=""/>
                    <div class="relative w-9 h-5 bg-slate-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary/20 dark:peer-focus:ring-primary/30 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-slate-600 peer-checked:bg-primary"></div>
                </label>
            </div>
            <div class="flex items-center justify-between">
                <div>
                    <p class="font-medium text-slate-900 dark:text-white">Notifikasi</p>
                    <p class="text-sm text-slate-500 dark:text-slate-400">Terima notifikasi browser</p>
                </div>
                <label class="inline-flex items-center cursor-pointer">
                    <input id="notificationToggle" class="sr-only peer" type="checkbox" value="" checked/>
                    <div class="relative w-9 h-5 bg-slate-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-primary/20 dark:peer-focus:ring-primary/30 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-slate-600 peer-checked:bg-primary"></div>
                </label>
            </div>
            <div>
                <p class="font-medium text-slate-900 dark:text-white mb-2">Bahasa</p>
                <select class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                    <option>Bahasa Indonesia</option>
                    <option>English</option>
                </select>
            </div>
            <div>
                <p class="font-medium text-slate-900 dark:text-white mb-2">Format Tanggal</p>
                <select class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                    <option>DD/MM/YYYY</option>
                    <option>MM/DD/YYYY</option>
                    <option>YYYY-MM-DD</option>
                </select>
            </div>
        </div>
        <div class="flex items-center justify-end gap-3 p-6 border-t border-slate-200 dark:border-slate-800">
            <button id="cancelSettingsBtn" class="px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-700">
                Batal
            </button>
            <button id="saveSettingsBtn" class="px-4 py-2 rounded-lg bg-primary text-white font-medium hover:bg-primary-dark">
                Simpan
            </button>
        </div>
    </div>
</div>

<script>
    // Service Requirements Mapping
const serviceRequirements = {
    'skmht': [
        { name: 'KTP (Suami & Istri)', description: 'Asli / Salinan Legalisir', required: 'Mandatory', status: 'checked' },
        { name: 'NPWP', description: 'Tax ID yang Valid', required: 'Mandatory', status: 'checked' },
        { name: 'Sertifikat Asli (SHM/SHGB)', description: 'Bukti kepemilikan', required: 'Mandatory', status: 'unchecked', note: 'Saat ini dalam Penjagaan Bank', noteType: 'warning' },
        { name: 'PBB (Tahun Terakhir)', description: 'Bukti pembayaran pajak', required: 'Secondary', status: 'unchecked' },
        { name: 'Surat Kuasa dari Bank', description: 'Jika sertifikat dalam penjagaan bank', required: 'Secondary', status: 'unchecked' }
    ],
    'ajb': [
        { name: 'KTP (Pembeli & Penjual)', description: 'Asli / Salinan Legalisir', required: 'Mandatory', status: 'checked' },
        { name: 'Sertifikat Asli (SHM/SHGB)', description: 'Bukti kepemilikan', required: 'Mandatory', status: 'checked' },
        { name: 'PBB (Tahun Terakhir)', description: 'Bukti pembayaran pajak', required: 'Mandatory', status: 'unchecked' },
        { name: 'Surat Kuasa', description: 'Jika diwakilkan', required: 'Secondary', status: 'unchecked' },
        { name: 'Bukti Pembayaran BPHTB', description: 'Bukti pembayaran Bea Perolehan Hak', required: 'Mandatory', status: 'unchecked' }
    ],
    'apht': [
        { name: 'KTP (Debitur)', description: 'Asli / Salinan Legalisir', required: 'Mandatory', status: 'checked' },
        { name: 'NPWP', description: 'Tax ID yang Valid', required: 'Mandatory', status: 'checked' },
        { name: 'Sertifikat Asli (SHM/SHGB)', description: 'Bukti kepemilikan', required: 'Mandatory', status: 'unchecked' },
        { name: 'PBB (Tahun Terakhir)', description: 'Bukti pembayaran pajak', required: 'Mandatory', status: 'unchecked' },
        { name: 'Surat Pernyataan', description: 'Dari pemberi jaminan', required: 'Secondary', status: 'unchecked' },
        { name: 'Perjanjian Kredit', description: 'Dari pemberi kredit', required: 'Mandatory', status: 'unchecked' }
    ],
    'fidusia': [
        { name: 'KTP (Pemberi & Penerima Fidusia)', description: 'Asli / Salinan Legalisir', required: 'Mandatory', status: 'checked' },
        { name: 'NPWP', description: 'Tax ID yang Valid', required: 'Mandatory', status: 'checked' },
        { name: 'Akta Pendirian Perusahaan', description: 'Jika badan hukum', required: 'Mandatory', status: 'unchecked' },
        { name: 'Daftar Inventaris', description: 'Detail benda yang menjadi objek fidusia', required: 'Mandatory', status: 'unchecked' }
    ],
    'skmenjual': [
        { name: 'KTP Pemberi Kuasa', description: 'Asli / Salinan Legalisir', required: 'Mandatory', status: 'checked' },
        { name: 'Sertifikat Asli (SHM/SHGB)', description: 'Bukti kepemilikan', required: 'Mandatory', status: 'checked' },
        { name: 'PBB (Tahun Terakhir)', description: 'Bukti pembayaran pajak', required: 'Mandatory', status: 'unchecked' }
    ],
    'sewa': [
        { name: 'KTP (Penyewa & Pemilik)', description: 'Asli / Salinan Legalisir', required: 'Mandatory', status: 'checked' },
        { name: 'Sertifikat Asli (SHM/SHGB)', description: 'Bukti kepemilikan', required: 'Mandatory', status: 'checked' },
        { name: 'PBB (Tahun Terakhir)', description: 'Bukti pembayaran pajak', required: 'Mandatory', status: 'unchecked' }
    ],
    'royac': [
        { name: 'KTP Semua Pihak', description: 'Asli / Salinan Legalisir', required: 'Mandatory', status: 'checked' },
        { name: 'Sertifikat Asli (SHM/SHGB)', description: 'Bukti kepemilikan', required: 'Mandatory', status: 'checked' },
        { name: 'PBB (Tahun Terakhir)', description: 'Bukti pembayaran pajak', required: 'Mandatory', status: 'unchecked' }
    ],
    'pjkredit': [
        { name: 'KTP (Debitur & Penjamin)', description: 'Asli / Salinan Legalisir', required: 'Mandatory', status: 'checked' },
        { name: 'NPWP', description: 'Tax ID yang Valid', required: 'Mandatory', status: 'checked' },
        { name: 'Sertifikat Jaminan', description: 'Jika ada jaminan', required: 'Secondary', status: 'unchecked' }
    ],
    'yayasan': [
        { name: 'KTP Pendiri', description: 'Asli / Salinan Legalisir', required: 'Mandatory', status: 'checked' },
        { name: 'NPWP', description: 'Tax ID yang Valid', required: 'Mandatory', status: 'checked' },
        { name: 'Anggaran Dasar', description: 'AD Yayasan', required: 'Mandatory', status: 'unchecked' },
        { name: 'Surat Keterangan Domisili', description: 'Dari kelurahan setempat', required: 'Mandatory', status: 'unchecked' }
    ],
    'pt': [
        { name: 'KTP Pendiri', description: 'Asli / Salinan Legalisir', required: 'Mandatory', status: 'checked' },
        { name: 'NPWP', description: 'Tax ID yang Valid', required: 'Mandatory', status: 'checked' },
        { name: 'Akta Pendirian', description: 'Dari notaris', required: 'Mandatory', status: 'unchecked' },
        { name: 'Surat Keterangan Domisili Perusahaan', description: 'Dari kelurahan setempat', required: 'Mandatory', status: 'unchecked' },
        { name: 'NIB', description: 'Nomor Induk Berusaha', required: 'Mandatory', status: 'unchecked' }
    ],
    'cv': [
        { name: 'KTP Pendiri', description: 'Asli / Salinan Legalisir', required: 'Mandatory', status: 'checked' },
        { name: 'NPWP', description: 'Tax ID yang Valid', required: 'Mandatory', status: 'checked' },
        { name: 'Akta Pendirian', description: 'Dari notaris', required: 'Mandatory', status: 'unchecked' },
        { name: 'Surat Keterangan Domisili Usaha', description: 'Dari kelurahan setempat', required: 'Mandatory', status: 'unchecked' }
    ],
    'default': [
        { name: 'KTP', description: 'Asli / Salinan Legalisir', required: 'Mandatory', status: 'checked' },
        { name: 'NPWP', description: 'Tax ID yang Valid', required: 'Mandatory', status: 'unchecked' },
        { name: 'Dokumen Pendukung', description: 'Sesuai kebutuhan', required: 'Secondary', status: 'unchecked' }
    ]
};

// Workflow Steps Mapping
const workflowSteps = {
    'skmht': [
        { name: 'Entri & Verifikasi Data', status: 'current', description: 'Langkah Saat Ini' },
        { name: 'Pemeriksaan Kelengkapan Dokumen', status: 'pending', description: 'Perkiraan: 1 Hari' },
        { name: 'Verifikasi di BPN', status: 'pending', description: 'Perkiraan: 3-5 Hari' },
        { name: 'Validasi Pajak', status: 'pending', description: 'Menunggu pembayaran' },
        { name: 'Penandatanganan Akta', status: 'pending', description: 'Memerlukan Kehadiran Klien' },
        { name: 'Pengajuan ke BPN', status: 'pending', description: 'Proses pendaftaran' }
    ],
    'ajb': [
        { name: 'Entri & Verifikasi Data', status: 'current', description: 'Langkah Saat Ini' },
        { name: 'Pemeriksaan Dokumen', status: 'pending', description: 'Perkiraan: 1 Hari' },
        { name: 'Verifikasi Pajak (BPHTB)', status: 'pending', description: 'Perkiraan: 2-3 Hari' },
        { name: 'Penandatanganan Akta', status: 'pending', description: 'Memerlukan Kehadiran Kedua Belah Pihak' },
        { name: 'Balik Nama di BPN', status: 'pending', description: 'Perkiraan: 7-14 Hari' }
    ],
    'apht': [
        { name: 'Entri & Verifikasi Data', status: 'current', description: 'Langkah Saat Ini' },
        { name: 'Verifikasi Dokumen Jaminan', status: 'pending', description: 'Perkiraan: 1 Hari' },
        { name: 'Pemeriksaan di BPN', status: 'pending', description: 'Perkiraan: 2-3 Hari' },
        { name: 'Penandatanganan Akta', status: 'pending', description: 'Memerlukan Kehadiran Debitur' },
        { name: 'Pendaftaran di BPN', status: 'pending', description: 'Perkiraan: 3-5 Hari' }
    ],
    'fidusia': [
        { name: 'Entri & Verifikasi Data', status: 'current', description: 'Langkah Saat Ini' },
        { name: 'Pemeriksaan Kelengkapan Dokumen', status: 'pending', description: 'Perkiraan: 1 Hari' },
        { name: 'Verifikasi Benda Fidusia', status: 'pending', description: 'Perkiraan: 1-2 Hari' },
        { name: 'Penandatanganan Akta', status: 'pending', description: 'Memerlukan Kehadiran Kedua Belah Pihak' },
        { name: 'Pendaftaran Fidusia', status: 'pending', description: 'Perkiraan: 3 Hari' }
    ],
    'skmenjual': [
        { name: 'Entri & Verifikasi Data', status: 'current', description: 'Langkah Saat Ini' },
        { name: 'Verifikasi Dokumen', status: 'pending', description: 'Perkiraan: 1 Hari' },
        { name: 'Proses Persiapan Akta', status: 'pending', description: 'Perkiraan: 2 Hari' },
        { name: 'Penandatanganan Akta', status: 'pending', description: 'Memerlukan Kehadiran Pemberi Kuasa' }
    ],
    'sewa': [
        { name: 'Entri & Verifikasi Data', status: 'current', description: 'Langkah Saat Ini' },
        { name: 'Verifikasi Dokumen', status: 'pending', description: 'Perkiraan: 1 Hari' },
        { name: 'Penandatanganan Akta', status: 'pending', description: 'Memerlukan Kehadiran Kedua Belah Pihak' },
        { name: 'Pendaftaran (Jika Diperlukan)', status: 'pending', description: 'Opsional' }
    ],
    'royac': [
        { name: 'Entri & Verifikasi Data', status: 'current', description: 'Langkah Saat Ini' },
        { name: 'Verifikasi Dokumen', status: 'pending', description: 'Perkiraan: 1 Hari' },
        { name: 'Penandatanganan Akta', status: 'pending', description: 'Memerlukan Kehadiran Semua Pihak' },
        { name: 'Proses di BPN', status: 'pending', description: 'Perkiraan: 3-5 Hari' }
    ],
    'pjkredit': [
        { name: 'Entri & Verifikasi Data', status: 'current', description: 'Langkah Saat Ini' },
        { name: 'Verifikasi Dokumen', status: 'pending', description: 'Perkiraan: 1 Hari' },
        { name: 'Analisis Kredit', status: 'pending', description: 'Perkiraan: 2-3 Hari' },
        { name: 'Penandatanganan Akta', status: 'pending', description: 'Memerlukan Kehadiran Kedua Belah Pihak' }
    ],
    'yayasan': [
        { name: 'Entri & Verifikasi Data', status: 'current', description: 'Langkah Saat Ini' },
        { name: 'Verifikasi Kelengkapan Dokumen', status: 'pending', description: 'Perkiraan: 1 Hari' },
        { name: 'Proses Pembuatan Akta', status: 'pending', description: 'Perkiraan: 2-3 Hari' },
        { name: 'Penandatanganan Akta', status: 'pending', description: 'Memerlukan Kehadiran Pendiri' },
        { name: 'Pendaftaran ke Kemenkumham', status: 'pending', description: 'Perkiraan: 5-7 Hari' }
    ],
    'pt': [
        { name: 'Entri & Verifikasi Data', status: 'current', description: 'Langkah Saat Ini' },
        { name: 'Verifikasi Kelengkapan Dokumen', status: 'pending', description: 'Perkiraan: 1 Hari' },
        { name: 'Proses Pembuatan Akta', status: 'pending', description: 'Perkiraan: 3-4 Hari' },
        { name: 'Penandatanganan Akta', status: 'pending', description: 'Memerlukan Kehadiran Pendiri' },
        { name: 'Pendaftaran ke AHU', status: 'pending', description: 'Perkiraan: 3-5 Hari' }
    ],
    'cv': [
        { name: 'Entri & Verifikasi Data', status: 'current', description: 'Langkah Saat Ini' },
        { name: 'Verifikasi Kelengkapan Dokumen', status: 'pending', description: 'Perkiraan: 1 Hari' },
        { name: 'Proses Pembuatan Akta', status: 'pending', description: 'Perkiraan: 2-3 Hari' },
        { name: 'Penandatanganan Akta', status: 'pending', description: 'Memerlukan Kehadiran Pendiri' }
    ],
    'default': [
        { name: 'Entri & Verifikasi Data', status: 'current', description: 'Langkah Saat Ini' },
        { name: 'Verifikasi Dokumen', status: 'pending', description: 'Perkiraan: 1-2 Hari' },
        { name: 'Proses Sesuai Ketentuan', status: 'pending', description: 'Menyesuaikan jenis layanan' },
        { name: 'Penyelesaian', status: 'pending', description: 'Finalisasi dokumen' }
    ]
};

// Data Storage
let appData = {
    files: [
        {
            id: "2024/05/019",
            clientName: "PT. Maju Jaya",
            serviceType: "SKMHT",
            progress: 80,
            status: "Overdue",
            estimatedCompletion: "01 Oct 2024",
            daysOverdue: 3,
            currentStage: "Validation",
            stageStatus: "Stalled",
            assignedNotary: "Dr. Sarah Wijaya, S.H., M.Kn.",
            contactNumber: "+62 21-555-1234",
            email: "info@majujaya.com",
            objectAddress: "Jl. Sudirman No. 123, Jakarta Pusat",
            createdDate: "15 Sep 2024",
            lastUpdated: "28 Sep 2024",
            notes: "Menunggu dokumen tambahan dari klien"
        },
        {
            id: "2024/05/042",
            clientName: "Budi Santoso",
            serviceType: "AJB",
            progress: 40,
            status: "In Progress",
            estimatedCompletion: "12 Oct 2024",
            daysOverdue: 0,
            currentStage: "Drafting",
            stageStatus: "In Progress",
            assignedNotary: "Bambang Santoso, S.H.",
            contactNumber: "+62 812-3456-7890",
            email: "budi@email.com",
            objectAddress: "Jl. Gatot Subroto No. 456, Jakarta Selatan",
            createdDate: "20 Sep 2024",
            lastUpdated: "28 Sep 2024",
            notes: "Dokumen sedang disiapkan"
        },
        {
            id: "2024/05/041",
            clientName: "Dewi Lestari",
            serviceType: "SKMHT",
            progress: 90,
            status: "Reviewing",
            estimatedCompletion: "08 Oct 2024",
            daysOverdue: 0,
            currentStage: "Signing",
            stageStatus: "In Progress",
            assignedNotary: "Dr. Sarah Wijaya, S.H., M.Kn.",
            contactNumber: "+62 813-9876-5432",
            email: "dewi.les@email.com",
            objectAddress: "Jl. Thamrin No. 789, Jakarta Pusat",
            createdDate: "18 Sep 2024",
            lastUpdated: "27 Sep 2024",
            notes: "Menunggu jadwal penandatanganan"
        },
        {
            id: "2024/04/112",
            clientName: "CV. Abadi Sentosa",
            serviceType: "APHT",
            progress: 65,
            status: "Overdue",
            estimatedCompletion: "29 Sep 2024",
            daysOverdue: 5,
            currentStage: "Registration",
            stageStatus: "Blocked",
            assignedNotary: "Bambang Santoso, S.H.",
            contactNumber: "+62 22-765-4321",
            email: "admin@abadi.co.id",
            objectAddress: "Jl. Merdeka No. 321, Bandung",
            createdDate: "10 Sep 2024",
            lastUpdated: "25 Sep 2024",
            notes: "Proses pendaftaran terhambat karena masalah administratif"
        },
        {
            id: "2024/05/039",
            clientName: "Hendro Mulyono",
            serviceType: "AJB",
            progress: 25,
            status: "Waiting Client",
            estimatedCompletion: "15 Oct 2024",
            daysOverdue: 0,
            currentStage: "Tax Check",
            stageStatus: "In Progress",
            assignedNotary: "Dr. Sarah Wijaya, S.H., M.Kn.",
            contactNumber: "+62 811-222-3333",
            email: "hendro@email.com",
            objectAddress: "Jl. Rasuna Said No. 567, Jakarta Selatan",
            createdDate: "22 Sep 2024",
            lastUpdated: "28 Sep 2024",
            notes: "Menunggu dokumen pajak dari klien"
        },
        {
            id: "2024/05/040",
            clientName: "PT. Sejahtera Bersama",
            serviceType: "APHT",
            progress: 55,
            status: "In Progress",
            estimatedCompletion: "10 Oct 2024",
            daysOverdue: 0,
            currentStage: "Verification",
            stageStatus: "In Progress",
            assignedNotary: "Rina Anggraini, S.H.",
            contactNumber: "+62 31-123-4567",
            email: "info@sejahtera.co.id",
            objectAddress: "Jl. Ahmad Yani No. 89, Surabaya",
            createdDate: "21 Sep 2024",
            lastUpdated: "26 Sep 2024",
            notes: "Verifikasi dokumen sedang berlangsung"
        },
        {
            id: "2024/05/038",
            clientName: "Siti Nurhaliza",
            serviceType: "SKMHT",
            progress: 75,
            status: "In Progress",
            estimatedCompletion: "05 Oct 2024",
            daysOverdue: 0,
            currentStage: "Validation",
            stageStatus: "In Progress",
            assignedNotary: "Dr. Sarah Wijaya, S.H., M.Kn.",
            contactNumber: "+62 815-777-8888",
            email: "siti.n@email.com",
            objectAddress: "Jl. Sudirman No. 234, Jakarta Pusat",
            createdDate: "19 Sep 2024",
            lastUpdated: "27 Sep 2024",
            notes: "Dokumen hampir lengkap"
        },
        {
            id: "2024/05/037",
            clientName: "PT. Teknologi Maju",
            serviceType: "Fidusia",
            progress: 30,
            status: "In Progress",
            estimatedCompletion: "18 Oct 2024",
            daysOverdue: 0,
            currentStage: "Drafting",
            stageStatus: "In Progress",
            assignedNotary: "Bambang Santoso, S.H.",
            contactNumber: "+62 61-987-6543",
            email: "legal@teknologimaju.com",
            objectAddress: "Jl. Gatot Subroto No. 567, Medan",
            createdDate: "23 Sep 2024",
            lastUpdated: "28 Sep 2024",
            notes: "Menunggu daftar inventaris lengkap"
        },
        {
            id: "2024/05/036",
            clientName: "Ahmad Fadli",
            serviceType: "AJB",
            progress: 95,
            status: "Reviewing",
            estimatedCompletion: "02 Oct 2024",
            daysOverdue: 0,
            currentStage: "Final Review",
            stageStatus: "In Progress",
            assignedNotary: "Rina Anggraini, S.H.",
            contactNumber: "+62 812-555-6666",
            email: "ahmad.fadli@email.com",
            objectAddress: "Jl. MH Thamrin No. 345, Jakarta Pusat",
            createdDate: "17 Sep 2024",
            lastUpdated: "28 Sep 2024",
            notes: "Final review sebelum penandatanganan"
        },
        {
            id: "2024/05/035",
            clientName: "PT. Cipta Karya",
            serviceType: "SKMHT",
            progress: 45,
            status: "In Progress",
            estimatedCompletion: "14 Oct 2024",
            daysOverdue: 0,
            currentStage: "Verification",
            stageStatus: "In Progress",
            assignedNotary: "Dr. Sarah Wijaya, S.H., M.Kn.",
            contactNumber: "+62 22-345-6789",
            email: "legal@ciptakarya.co.id",
            objectAddress: "Jl. Asia Afrika No. 123, Bandung",
            createdDate: "24 Sep 2024",
            lastUpdated: "28 Sep 2024",
            notes: "Verifikasi data kepemilikan"
        },
        {
            id: "2024/05/034",
            clientName: "Ratna Sari",
            serviceType: "Hibah",
            progress: 60,
            status: "In Progress",
            estimatedCompletion: "09 Oct 2024",
            daysOverdue: 0,
            currentStage: "Validation",
            stageStatus: "In Progress",
            assignedNotary: "Bambang Santoso, S.H.",
            contactNumber: "+62 813-999-0000",
            email: "ratna.sari@email.com",
            objectAddress: "Jl. Sudirman No. 678, Jakarta Pusat",
            createdDate: "22 Sep 2024",
            lastUpdated: "27 Sep 2024",
            notes: "Proses validasi dokumen hibah"
        },
        {
            id: "2024/05/033",
            clientName: "PT. Mitra Sejati",
            serviceType: "APHT",
            progress: 85,
            status: "Reviewing",
            estimatedCompletion: "03 Oct 2024",
            daysOverdue: 0,
            currentStage: "Final Review",
            stageStatus: "In Progress",
            assignedNotary: "Rina Anggraini, S.H.",
            contactNumber: "+62 21-888-9999",
            email: "info@mitrasejati.com",
            objectAddress: "Jl. Rasuna Said No. 890, Jakarta Selatan",
            createdDate: "18 Sep 2024",
            lastUpdated: "28 Sep 2024",
            notes: "Review final sebelum pendaftaran"
        },
        {
            id: "2024/05/032",
            clientName: "Budi Pratama",
            serviceType: "AJB",
            progress: 70,
            status: "In Progress",
            estimatedCompletion: "07 Oct 2024",
            daysOverdue: 0,
            currentStage: "Tax Verification",
            stageStatus: "In Progress",
            assignedNotary: "Dr. Sarah Wijaya, S.H., M.Kn.",
            contactNumber: "+62 812-777-8888",
            email: "budi.pratama@email.com",
            objectAddress: "Jl. Gatot Subroto No. 234, Jakarta Selatan",
            createdDate: "20 Sep 2024",
            lastUpdated: "28 Sep 2024",
            notes: "Verifikasi BPHTB sedang berlangsung"
        },
        {
            id: "2024/05/031",
            clientName: "PT. Karya Mandiri",
            serviceType: "SKMHT",
            progress: 50,
            status: "In Progress",
            estimatedCompletion: "11 Oct 2024",
            daysOverdue: 0,
            currentStage: "Verification",
            stageStatus: "In Progress",
            assignedNotary: "Bambang Santoso, S.H.",
            contactNumber: "+62 31-456-7890",
            email: "legal@karyamandiri.com",
            objectAddress: "Jl. Ahmad Yani No. 345, Surabaya",
            createdDate: "23 Sep 2024",
            lastUpdated: "27 Sep 2024",
            notes: "Verifikasi dokumen di BPN"
        }
    ],
    clients: [
        {
            id: "CLI-001",
            name: "Budi Santoso",
            type: "Individual",
            contactNumber: "+62 812-3456-7890",
            email: "budi@email.com",
            address: "Jl. Gatot Subroto No. 456, Jakarta Selatan",
            totalFiles: 3,
            activeFiles: 2,
            lastActivity: "2 days ago",
            status: "Active"
        },
        {
            id: "CLI-002",
            name: "PT. Maju Jaya",
            type: "Company",
            contactNumber: "+62 21-555-1234",
            email: "info@majujaya.com",
            address: "Jl. Sudirman No. 123, Jakarta Pusat",
            totalFiles: 7,
            activeFiles: 3,
            lastActivity: "1 week ago",
            status: "Pending"
        },
        {
            id: "CLI-003",
            name: "Dewi Lestari",
            type: "Individual",
            contactNumber: "+62 813-9876-5432",
            email: "dewi.les@email.com",
            address: "Jl. Thamrin No. 789, Jakarta Pusat",
            totalFiles: 2,
            activeFiles: 1,
            lastActivity: "3 days ago",
            status: "Active"
        },
        {
            id: "CLI-004",
            name: "CV. Abadi Sentosa",
            type: "Company",
            contactNumber: "+62 22-765-4321",
            email: "admin@abadi.co.id",
            address: "Jl. Merdeka No. 321, Bandung",
            totalFiles: 5,
            activeFiles: 2,
            lastActivity: "2 weeks ago",
            status: "Inactive"
        },
        {
            id: "CLI-005",
            name: "Hendro Mulyono",
            type: "Individual",
            contactNumber: "+62 811-222-3333",
            email: "hendro@email.com",
            address: "Jl. Rasuna Said No. 567, Jakarta Selatan",
            totalFiles: 4,
            activeFiles: 1,
            lastActivity: "1 day ago",
            status: "Active"
        },
        {
            id: "CLI-006",
            name: "PT. Sejahtera Bersama",
            type: "Company",
            contactNumber: "+62 31-123-4567",
            email: "info@sejahtera.co.id",
            address: "Jl. Ahmad Yani No. 89, Surabaya",
            totalFiles: 6,
            activeFiles: 2,
            lastActivity: "5 days ago",
            status: "Active"
        },
        {
            id: "CLI-007",
            name: "Siti Nurhaliza",
            type: "Individual",
            contactNumber: "+62 815-777-8888",
            email: "siti.n@email.com",
            address: "Jl. Sudirman No. 234, Jakarta Pusat",
            totalFiles: 3,
            activeFiles: 1,
            lastActivity: "4 days ago",
            status: "Active"
        },
        {
            id: "CLI-008",
            name: "PT. Teknologi Maju",
            type: "Company",
            contactNumber: "+62 61-987-6543",
            email: "legal@teknologimaju.com",
            address: "Jl. Gatot Subroto No. 567, Medan",
            totalFiles: 2,
            activeFiles: 1,
            lastActivity: "3 days ago",
            status: "Active"
        },
        {
            id: "CLI-009",
            name: "Ahmad Fadli",
            type: "Individual",
            contactNumber: "+62 812-555-6666",
            email: "ahmad.fadli@email.com",
            address: "Jl. MH Thamrin No. 345, Jakarta Pusat",
            totalFiles: 5,
            activeFiles: 1,
            lastActivity: "1 day ago",
            status: "Active"
        },
        {
            id: "CLI-010",
            name: "PT. Cipta Karya",
            type: "Company",
            contactNumber: "+62 22-345-6789",
            email: "legal@ciptakarya.co.id",
            address: "Jl. Asia Afrika No. 123, Bandung",
            totalFiles: 4,
            activeFiles: 1,
            lastActivity: "2 days ago",
            status: "Active"
        },
        {
            id: "CLI-011",
            name: "Ratna Sari",
            type: "Individual",
            contactNumber: "+62 813-999-0000",
            email: "ratna.sari@email.com",
            address: "Jl. Sudirman No. 678, Jakarta Pusat",
            totalFiles: 2,
            activeFiles: 1,
            lastActivity: "5 days ago",
            status: "Active"
        },
        {
            id: "CLI-012",
            name: "PT. Mitra Sejati",
            type: "Company",
            contactNumber: "+62 21-888-9999",
            email: "info@mitrasejati.com",
            address: "Jl. Rasuna Said No. 890, Jakarta Selatan",
            totalFiles: 3,
            activeFiles: 1,
            lastActivity: "1 day ago",
            status: "Active"
        },
        {
            id: "CLI-013",
            name: "Budi Pratama",
            type: "Individual",
            contactNumber: "+62 812-777-8888",
            email: "budi.pratama@email.com",
            address: "Jl. Gatot Subroto No. 234, Jakarta Selatan",
            totalFiles: 4,
            activeFiles: 1,
            lastActivity: "3 days ago",
            status: "Active"
        },
        {
            id: "CLI-014",
            name: "PT. Karya Mandiri",
            type: "Company",
            contactNumber: "+62 31-456-7890",
            email: "legal@karyamandiri.com",
            address: "Jl. Ahmad Yani No. 345, Surabaya",
            totalFiles: 5,
            activeFiles: 1,
            lastActivity: "2 days ago",
            status: "Active"
        }
    ],
    notifications: [
        {
            id: 1,
            title: "File Terlambat",
            message: "File #2024/05/019 untuk PT. Maju Jaya terlambat 3 hari",
            type: "warning",
            read: false,
            timestamp: "2 hours ago"
        },
        {
            id: 2,
            title: "Dokumen Diperlukan",
            message: "File #2024/04/112 membutuhkan dokumen tambahan",
            type: "info",
            read: false,
            timestamp: "5 hours ago"
        },
        {
            id: 3,
            title: "File Selesai",
            message: "File #2024/05/041 untuk Dewi Lestari telah selesai",
            type: "success",
            read: true,
            timestamp: "1 day ago"
        },
        {
            id: 4,
            title: "Janji Temu",
            message: "Anda memiliki janji temu dengan Budi Santoso besok pukul 10:00",
            type: "info",
            read: false,
            timestamp: "6 hours ago"
        },
        {
            id: 5,
            title: "Pembayaran Diterima",
            message: "Pembayaran untuk file #2024/05/036 telah diterima",
            type: "success",
            read: true,
            timestamp: "2 days ago"
        }
    ],
    settings: {
        darkMode: false,
        notifications: true,
        language: "id",
        dateFormat: "DD/MM/YYYY"
    },
    currentUser: {
        id: "USR-001",
        name: "Sarah Wijaya",
        email: "sarah.wijaya@notarydoc.com",
        role: "executive", // executive, manager, staff
        department: "Manajemen",
        permissions: ["all"], // all, file, client, report, user, setting
        lastLogin: "2 hours ago"
    },
    // Additional data for reports
    performanceData: {
        staffPerformance: [
            { name: "Sarah Wijaya", filesCompleted: 47, avgTime: 2.8, satisfaction: 4.8, efficiency: 95.2 },
            { name: "Bambang Santoso", filesCompleted: 52, avgTime: 3.1, satisfaction: 4.7, efficiency: 91.8 },
            { name: "Rina Anggraini", filesCompleted: 38, avgTime: 3.5, satisfaction: 4.6, efficiency: 87.3 },
            { name: "Ahmad Fadli", filesCompleted: 42, avgTime: 3.2, satisfaction: 4.5, efficiency: 89.5 },
            { name: "Dewi Lestari", filesCompleted: 35, avgTime: 3.8, satisfaction: 4.4, efficiency: 85.7 },
            { name: "Hendro Mulyono", filesCompleted: 40, avgTime: 3.3, satisfaction: 4.6, efficiency: 90.1 }
        ],
        serviceTypePerformance: [
            { type: "AJB", avgTime: 4.2, satisfaction: 4.7, completionRate: 92.5 },
            { type: "SKMHT", avgTime: 3.5, satisfaction: 4.6, completionRate: 94.2 },
            { type: "APHT", avgTime: 5.1, satisfaction: 4.5, completionRate: 88.7 },
            { type: "Fidusia", avgTime: 3.8, satisfaction: 4.4, completionRate: 91.3 },
            { type: "Hibah", avgTime: 4.5, satisfaction: 4.6, completionRate: 90.8 }
        ]
    },
    slaData: {
        overallCompliance: 87.3,
        serviceTypeCompliance: [
            { type: "AJB", target: 7, actual: 6.5, compliance: 92.8 },
            { type: "SKMHT", target: 5, actual: 4.2, compliance: 84.0 },
            { type: "APHT", target: 7, actual: 6.8, compliance: 97.1 },
            { type: "Fidusia", target: 4, actual: 3.5, compliance: 87.5 },
            { type: "Hibah", target: 6, actual: 5.5, compliance: 91.7 }
        ],
        monthlyCompliance: [
            { month: "Jan", compliance: 85.2 },
            { month: "Feb", compliance: 87.6 },
            { month: "Mar", compliance: 89.3 },
            { month: "Apr", compliance: 86.7 },
            { month: "May", compliance: 88.9 },
            { month: "Jun", compliance: 90.1 },
            { month: "Jul", compliance: 87.8 },
            { month: "Aug", compliance: 89.5 },
            { month: "Sep", compliance: 87.3 }
        ]
    },
    clientActivityData: {
        newClientsByMonth: [
            { month: "Jan", count: 18 },
            { month: "Feb", count: 22 },
            { month: "Mar", count: 19 },
            { month: "Apr", count: 24 },
            { month: "May", count: 21 },
            { month: "Jun", count: 26 },
            { month: "Jul", count: 23 },
            { month: "Aug", count: 28 },
            { month: "Sep", count: 24 }
        ],
        clientRetention: {
            new: 24,
            returning: 187,
            churn: 36,
            retentionRate: 83.8
        },
        topClientsByRevenue: [
            { name: "PT. Maju Jaya", revenue: 45.2, files: 7 },
            { name: "PT. Sejahtera Bersama", revenue: 38.7, files: 6 },
            { name: "CV. Abadi Sentosa", revenue: 32.4, files: 5 },
            { name: "PT. Cipta Karya", revenue: 28.9, files: 4 },
            { name: "PT. Karya Mandiri", revenue: 25.6, files: 5 }
        ]
    },
    financialData: {
        monthlyRevenue: [
            { month: "Jan", revenue: 180, expenses: 120, profit: 60 },
            { month: "Feb", revenue: 195, expenses: 125, profit: 70 },
            { month: "Mar", revenue: 210, expenses: 130, profit: 80 },
            { month: "Apr", revenue: 225, expenses: 135, profit: 90 },
            { month: "May", revenue: 205, expenses: 128, profit: 77 },
            { month: "Jun", revenue: 220, expenses: 132, profit: 88 },
            { month: "Jul", revenue: 235, expenses: 140, profit: 95 },
            { month: "Aug", revenue: 245, expenses: 142, profit: 103 },
            { month: "Sep", revenue: 238, expenses: 138, profit: 100 }
        ],
        revenueByService: [
            { service: "AJB", q1: 95, q2: 105, q3: 118.5, total: 318.5 },
            { service: "SKMHT", q1: 75, q2: 80, q3: 81.2, total: 236.2 },
            { service: "APHT", q1: 55, q2: 60, q3: 46.1, total: 161.1 },
            { service: "Fidusia", q1: 30, q2: 35, q3: 20, total: 85 },
            { service: "Lainnya", q1: 25, q2: 30, q3: 15, total: 70 }
        ],
        expensesByCategory: [
            { category: "Gaji & Tunjangan", amount: 85.3, percentage: 60.0 },
            { category: "Sewa Kantor", amount: 21.4, percentage: 15.0 },
            { category: "Utilitas", amount: 7.1, percentage: 5.0 },
            { category: "Marketing", amount: 14.2, percentage: 10.0 },
            { category: "Lainnya", amount: 14.2, percentage: 10.0 }
        ]
    },
    forecastingData: {
        revenueForecast: [
            { month: "Oct", forecast: 250, actual: null },
            { month: "Nov", forecast: 255, actual: null },
            { month: "Dec", forecast: 260, actual: null },
            { month: "Jan", forecast: 265, actual: null },
            { month: "Feb", forecast: 270, actual: null },
            { month: "Mar", forecast: 275, actual: null }
        ],
        fileVolumeForecast: [
            { month: "Oct", forecast: 48 },
            { month: "Nov", forecast: 50 },
            { month: "Dec", forecast: 52 },
            { month: "Jan", forecast: 49 },
            { month: "Feb", forecast: 51 },
            { month: "Mar", forecast: 53 }
        ],
        resourceUtilization: [
            { month: "Oct", staff: 82, facilities: 75, systems: 88 },
            { month: "Nov", staff: 85, facilities: 78, systems: 90 },
            { month: "Dec", staff: 88, facilities: 82, systems: 92 },
            { month: "Jan", staff: 84, facilities: 76, systems: 89 },
            { month: "Feb", staff: 86, facilities: 79, systems: 91 },
            { month: "Mar", staff: 89, facilities: 83, systems: 93 }
        ]
    },
    companySettings: {
        general: {
            companyName: "NotaryDoc Tracker",
            phoneNumber: "(021) 555-1234",
            email: "info@notarydoc.com",
            website: "https://notarydoc.com",
            address: "Jl. Sudirman No. 123, Jakarta Pusat, 10110",
            city: "Jakarta",
            postalCode: "10110",
            timezone: "Waktu Indonesia Barat (GMT+7)",
            dateFormat: "DD/MM/YYYY",
            currency: "Rupiah (IDR)"
        },
        branding: {
            logo: "/logo.png",
            primaryColor: "#1f96ad",
            secondaryColor: "#6366f1",
            fontFamily: "Manrope",
            favicon: "/favicon.ico"
        },
        integrations: {
            bpn: { enabled: true, apiKey: "bpn-api-key-12345" },
            djkp: { enabled: true, apiKey: "djkp-api-key-67890" },
            email: { enabled: true, provider: "SMTP", server: "smtp.notarydoc.com" },
            sms: { enabled: true, provider: "Twilio", apiKey: "twilio-api-key-11111" }
        },
        security: {
            twoFactorAuth: true,
            sessionTimeout: 30,
            passwordPolicy: "strong",
            ipWhitelist: ["192.168.1.0/24", "10.0.0.0/8"],
            auditLogging: true
        },
        compliance: {
            dataRetention: 7,
            backupFrequency: "daily",
            encryption: "AES-256",
            gdprCompliant: true,
            auditFrequency: "monthly"
        }
    }
};

// Initialize app
document.addEventListener('DOMContentLoaded', function() {
    // Load data from localStorage if available
    const storedData = localStorage.getItem('notaryDocData');
    if (storedData) {
        try {
            appData = JSON.parse(storedData);
        } catch (e) {
            console.error('Error parsing stored data:', e);
            // Use default data if parsing fails
        }
    }
    
    // Ensure currentUser exists
    if (!appData.currentUser) {
        appData.currentUser = {
            id: "USR-001",
            name: "Sarah Wijaya",
            email: "sarah.wijaya@notarydoc.com",
            role: "executive", // executive, manager, staff
            department: "Manajemen",
            permissions: ["all"], // all, file, client, report, user, setting
            lastLogin: "2 hours ago"
        };
    }
        
    // Initialize UI
    initializeRouting();
    initializeEventListeners();
    updateFilesTable();
    updateClientsTable();
    updateNotifications();
    initializeCharts();
    
    // Apply settings
    applySettings();
    
    // Apply user role
    applyUserRole();
});

// Routing
function initializeRouting() {
    // Handle navigation clicks
    const navLinks = document.querySelectorAll('.sidebar-link[data-page]');
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const page = this.getAttribute('data-page');
            navigateToPage(page);
        });
    });
    
}

function navigateToPage(pageId) {
    // Check if user has permission to access this page
    if (!hasPagePermission(pageId)) {
        showNotification('Anda tidak memiliki izin untuk mengakses halaman ini', 'error');
        return;
    }
    
    // Hide all pages
    const pages = document.querySelectorAll('.page');
    pages.forEach(page => {
        page.classList.remove('active');
    });
    
    // Show selected page
    const selectedPage = document.getElementById(pageId);
    if (selectedPage) {
        selectedPage.classList.add('active');
    }
    
    // Update sidebar active state
    const navLinks = document.querySelectorAll('.sidebar-link[data-page]');
    navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('data-page') === pageId) {
            link.classList.add('active');
        }
    });
    
    // Update page title
    const pageTitle = document.getElementById('pageTitle');
    if (pageTitle) {
        const titles = {
            'dashboard': 'Dashboard',
            'executive_dashboard': 'Dashboard Eksekutif',
            'all_files': 'Semua File',
            'clients': 'Klien',
            'reports': 'Laporan',
            'financial_reports': 'Laporan Keuangan',
            'staff_performance': 'Kinerja Staf',
            'user_management': 'Manajemen Pengguna',
            'audit_logs': 'Log Audit',
            'company_settings': 'Pengaturan Perusahaan'
        };
        pageTitle.textContent = titles[pageId] || 'NotaryDoc';
    }
    
    // Initialize page-specific content
    if (pageId === 'dashboard') {
        updateDashboard();
    } else if (pageId === 'executive_dashboard') {
        initializeExecutiveDashboard();
    } else if (pageId === 'all_files') {
        updateFilesTable();
    } else if (pageId === 'clients') {
        updateClientsTable();
    } else if (pageId === 'reports') {
        initializeReports();
    } else if (pageId === 'financial_reports') {
        initializeFinancialReports();
    } else if (pageId === 'staff_performance') {
        updateStaffPerformanceTable();
    } else if (pageId === 'user_management') {
        updateUserManagementTable();
    } else if (pageId === 'audit_logs') {
        updateAuditLogsTable();
    } else if (pageId === 'company_settings') {
        updateCompanySettings();
    }
}

// Event Listeners
function initializeEventListeners() {
    // Dark mode toggle
    const darkModeToggle = document.getElementById('darkModeToggle');
    if (darkModeToggle) {
        darkModeToggle.addEventListener('click', function() {
            toggleDarkMode();
        });
    }
    
    const darkModeToggleModal = document.getElementById('darkModeToggleModal');
    if (darkModeToggleModal) {
        darkModeToggleModal.addEventListener('click', function() {
            toggleDarkMode();
        });
    }
    
    // Mobile menu toggle
    const mobileMenuToggle = document.getElementById('mobileMenuToggle');
    if (mobileMenuToggle) {
        mobileMenuToggle.addEventListener('click', function() {
            const sidebar = document.getElementById('sidebar');
            if (sidebar) {
                sidebar.classList.toggle('hidden');
            }
        });
    }
    
    // View toggle buttons
    const staffViewBtn = document.getElementById('staffViewBtn');
    if (staffViewBtn) {
        staffViewBtn.addEventListener('click', function() {
            toggleView('staff');
        });
    }
    
    const executiveViewBtn = document.getElementById('executiveViewBtn');
    if (executiveViewBtn) {
        executiveViewBtn.addEventListener('click', function() {
            toggleView('executive');
        });
    }
    
    // Notification panel
    const notificationBtn = document.getElementById('notificationBtn');
    if (notificationBtn) {
        notificationBtn.addEventListener('click', function() {
            toggleNotificationPanel();
        });
    }
    
    const closeNotificationBtn = document.getElementById('closeNotificationBtn');
    if (closeNotificationBtn) {
        closeNotificationBtn.addEventListener('click', function() {
            const notificationPanel = document.getElementById('notificationPanel');
            if (notificationPanel) {
                notificationPanel.classList.add('hidden');
            }
        });
    }
    
    // Settings modal
    const settingsBtn = document.getElementById('settingsBtn');
    if (settingsBtn) {
        settingsBtn.addEventListener('click', function() {
            const settingsModal = document.getElementById('settingsModal');
            if (settingsModal) {
                settingsModal.classList.remove('hidden');
                settingsModal.classList.add('flex');
            }
        });
    }
    
    const closeSettingsBtn = document.getElementById('closeSettingsBtn');
    if (closeSettingsBtn) {
        closeSettingsBtn.addEventListener('click', function() {
            const settingsModal = document.getElementById('settingsModal');
            if (settingsModal) {
                settingsModal.classList.add('hidden');
                settingsModal.classList.remove('flex');
            }
        });
    }
    
    const cancelSettingsBtn = document.getElementById('cancelSettingsBtn');
    if (cancelSettingsBtn) {
        cancelSettingsBtn.addEventListener('click', function() {
            const settingsModal = document.getElementById('settingsModal');
            if (settingsModal) {
                settingsModal.classList.add('hidden');
                settingsModal.classList.remove('flex');
            }
        });
    }
    
    const saveSettingsBtn = document.getElementById('saveSettingsBtn');
    if (saveSettingsBtn) {
        saveSettingsBtn.addEventListener('click', function() {
            saveSettings();
            const settingsModal = document.getElementById('settingsModal');
            if (settingsModal) {
                settingsModal.classList.add('hidden');
                settingsModal.classList.remove('flex');
            }
        });
    }
    
    // Add client modal
    const addClientBtn = document.getElementById('addClientBtn');
    if (addClientBtn) {
        addClientBtn.addEventListener('click', function() {
            const addClientModal = document.getElementById('addClientModal');
            if (addClientModal) {
                addClientModal.classList.remove('hidden');
                addClientModal.classList.add('flex');
            }
        });
    }
    
    const closeModalBtn = document.getElementById('closeModalBtn');
    if (closeModalBtn) {
        closeModalBtn.addEventListener('click', function() {
            const addClientModal = document.getElementById('addClientModal');
            if (addClientModal) {
                addClientModal.classList.add('hidden');
                addClientModal.classList.remove('flex');
            }
        });
    }
    
    const cancelModalBtn = document.getElementById('cancelModalBtn');
    if (cancelModalBtn) {
        cancelModalBtn.addEventListener('click', function() {
            const addClientModal = document.getElementById('addClientModal');
            if (addClientModal) {
                addClientModal.classList.add('hidden');
                addClientModal.classList.remove('flex');
            }
        });
    }
    
    const saveClientBtn = document.getElementById('saveClientBtn');
    if (saveClientBtn) {
        saveClientBtn.addEventListener('click', function() {
            addNewClient();
            const addClientModal = document.getElementById('addClientModal');
            if (addClientModal) {
                addClientModal.classList.add('hidden');
                addClientModal.classList.remove('flex');
            }
        });
    }
    
    // Add user modal
    const addUserBtn = document.getElementById('addUserBtn');
    if (addUserBtn) {
        addUserBtn.addEventListener('click', function() {
            const addUserModal = document.getElementById('addUserModal');
            if (addUserModal) {
                addUserModal.classList.remove('hidden');
                addUserModal.classList.add('flex');
            }
        });
    }
    
    const closeAddUserModalBtn = document.getElementById('closeAddUserModalBtn');
    if (closeAddUserModalBtn) {
        closeAddUserModalBtn.addEventListener('click', function() {
            const addUserModal = document.getElementById('addUserModal');
            if (addUserModal) {
                addUserModal.classList.add('hidden');
                addUserModal.classList.remove('flex');
            }
        });
    }
    
    const cancelAddUserBtn = document.getElementById('cancelAddUserBtn');
    if (cancelAddUserBtn) {
        cancelAddUserBtn.addEventListener('click', function() {
            const addUserModal = document.getElementById('addUserModal');
            if (addUserModal) {
                addUserModal.classList.add('hidden');
                addUserModal.classList.remove('flex');
            }
        });
    }
    
    const saveUserBtn = document.getElementById('saveUserBtn');
    if (saveUserBtn) {
        saveUserBtn.addEventListener('click', function() {
            addNewUser();
            const addUserModal = document.getElementById('addUserModal');
            if (addUserModal) {
                addUserModal.classList.add('hidden');
                addUserModal.classList.remove('flex');
            }
        });
    }
    
    // File details modal
    const closeFileDetailsBtn = document.getElementById('closeFileDetailsBtn');
    if (closeFileDetailsBtn) {
        closeFileDetailsBtn.addEventListener('click', function() {
            const fileDetailsModal = document.getElementById('fileDetailsModal');
            if (fileDetailsModal) {
                fileDetailsModal.classList.add('hidden');
                fileDetailsModal.classList.remove('flex');
            }
        });
    }
    
    // Client details modal
    const closeClientDetailsBtn = document.getElementById('closeClientDetailsBtn');
    if (closeClientDetailsBtn) {
        closeClientDetailsBtn.addEventListener('click', function() {
            const clientDetailsModal = document.getElementById('clientDetailsModal');
            if (clientDetailsModal) {
                clientDetailsModal.classList.add('hidden');
                clientDetailsModal.classList.remove('flex');
            }
        });
    }
    
    // New file form
    const serviceType = document.getElementById('serviceType');
    if (serviceType) {
        serviceType.addEventListener('change', function() {
            updateDocumentRequirements(this.value);
            updateWorkflowPreview(this.value);
        });
    }
    
    const createFileBtn = document.getElementById('createFileBtn');
    if (createFileBtn) {
        createFileBtn.addEventListener('click', function() {
            createNewFile();
        });
    }
    
    const saveDraftBtn = document.getElementById('saveDraftBtn');
    if (saveDraftBtn) {
        saveDraftBtn.addEventListener('click', function() {
            saveDraftFile();
        });
    }
    
    const addCustomDocBtn = document.getElementById('addCustomDocBtn');
    if (addCustomDocBtn) {
        addCustomDocBtn.addEventListener('click', function() {
            addCustomDocument();
        });
    }
    
    // View toggle for files page
    const tableViewBtn = document.getElementById('tableViewBtn');
    if (tableViewBtn) {
        tableViewBtn.addEventListener('click', function() {
            const tableView = document.getElementById('tableView');
            const cardView = document.getElementById('cardView');
            const cardViewBtn = document.getElementById('cardViewBtn');
            
            if (tableView && cardView && cardViewBtn) {
                tableView.classList.remove('hidden');
                cardView.classList.add('hidden');
                
                this.classList.add('bg-white', 'dark:bg-slate-700', 'text-slate-900', 'dark:text-white', 'shadow-sm');
                this.classList.remove('text-slate-600', 'dark:text-slate-400');
                cardViewBtn.classList.remove('bg-white', 'dark:bg-slate-700', 'text-slate-900', 'dark:text-white', 'shadow-sm');
                cardViewBtn.classList.add('text-slate-600', 'dark:text-slate-400');
            }
        });
    }
    
    const cardViewBtn = document.getElementById('cardViewBtn');
    if (cardViewBtn) {
        cardViewBtn.addEventListener('click', function() {
            const tableView = document.getElementById('tableView');
            const cardView = document.getElementById('cardView');
            const tableViewBtn = document.getElementById('tableViewBtn');
            
            if (tableView && cardView && tableViewBtn) {
                tableView.classList.add('hidden');
                cardView.classList.remove('hidden');
                
                this.classList.add('bg-white', 'dark:bg-slate-700', 'text-slate-900', 'dark:text-white', 'shadow-sm');
                this.classList.remove('text-slate-600', 'dark:text-slate-400');
                tableViewBtn.classList.remove('bg-white', 'dark:bg-slate-700', 'text-slate-900', 'dark:text-white', 'shadow-sm');
                tableViewBtn.classList.add('text-slate-600', 'dark:text-slate-400');
                
                updateFilesCardView();
            }
        });
    }
    
    // Filter chips for files page
    const filterChips = document.querySelectorAll('.filter-chip');
    filterChips.forEach(chip => {
        chip.addEventListener('click', function() {
            // Remove active state from all chips
            filterChips.forEach(c => {
                c.classList.remove('bg-primary/10', 'text-primary');
                c.classList.add('bg-slate-100', 'dark:bg-slate-700', 'text-slate-600', 'dark:text-slate-300');
            });
            
            // Add active state to clicked chip
            this.classList.remove('bg-slate-100', 'dark:bg-slate-700', 'text-slate-600', 'dark:text-slate-300');
            this.classList.add('bg-primary/10', 'text-primary');
            
            // Filter files
            const filterType = this.getAttribute('data-filter');
            filterFiles(filterType);
        });
    });
    
    // Tabs for reports page
    const reportTabButtons = document.querySelectorAll('#reports .tab-button');
    reportTabButtons.forEach(button => {
        button.addEventListener('click', function() {
            const targetTab = this.getAttribute('data-tab');
            
            // Update button states
            reportTabButtons.forEach(btn => {
                btn.classList.remove('active');
                btn.classList.add('text-slate-500', 'hover:text-slate-700', 'dark:text-slate-400', 'dark:hover:text-slate-300');
                btn.classList.remove('text-slate-900', 'dark:text-white');
            });
            
            this.classList.add('active');
            this.classList.remove('text-slate-500', 'hover:text-slate-700', 'dark:text-slate-400', 'dark:hover:text-slate-300');
            this.classList.add('text-slate-900', 'dark:text-white');
            
            // Show/hide tab content
            const tabContents = document.querySelectorAll('#reports .tab-content');
            tabContents.forEach(content => {
                content.classList.add('hidden');
            });
            
            const targetTabElement = document.getElementById(`${targetTab}-tab`);
            if (targetTabElement) {
                targetTabElement.classList.remove('hidden');
                
                // Initialize tab-specific content
                if (targetTab === 'performance') {
                    initializePerformanceTab();
                } else if (targetTab === 'sla') {
                    initializeSlaTab();
                } else if (targetTab === 'clients') {
                    initializeClientsTab();
                } else if (targetTab === 'financial') {
                    initializeFinancialTab();
                } else if (targetTab === 'forecasting') {
                    initializeForecastingTab();
                }
            }
        });
    });
    
    // Tabs for clients page
    const clientTabButtons = document.querySelectorAll('#clients .tab-button');
    clientTabButtons.forEach(button => {
        button.addEventListener('click', function() {
            const targetTab = this.getAttribute('data-tab');
            
            // Update button states
            clientTabButtons.forEach(btn => {
                btn.classList.remove('active');
                btn.classList.add('text-slate-500', 'hover:text-slate-700', 'dark:text-slate-400', 'dark:hover:text-slate-300');
                btn.classList.remove('text-slate-900', 'dark:text-white');
            });
            
            this.classList.add('active');
            this.classList.remove('text-slate-500', 'hover:text-slate-700', 'dark:text-slate-400', 'dark:hover:text-slate-300');
            this.classList.add('text-slate-900', 'dark:text-white');
            
            // Show/hide tab content
            const tabContents = document.querySelectorAll('#clients .tab-content');
            tabContents.forEach(content => {
                content.classList.add('hidden');
            });
            
            const targetTabElement = document.getElementById(`${targetTab}-tab`);
            if (targetTabElement) {
                targetTabElement.classList.remove('hidden');
                
                // Initialize tab-specific content
                if (targetTab === 'individuals') {
                    initializeIndividualsTab();
                } else if (targetTab === 'companies') {
                    initializeCompaniesTab();
                } else if (targetTab === 'recent') {
                    initializeRecentTab();
                }
            }
        });
    });
    
    // Tabs for financial reports page
    const financialTabButtons = document.querySelectorAll('#financial_reports .tab-button');
    financialTabButtons.forEach(button => {
        button.addEventListener('click', function() {
            const targetTab = this.getAttribute('data-tab');
            
            // Update button states
            financialTabButtons.forEach(btn => {
                btn.classList.remove('active');
                btn.classList.add('text-slate-500', 'hover:text-slate-700', 'dark:text-slate-400', 'dark:hover:text-slate-300');
                btn.classList.remove('text-slate-900', 'dark:text-white');
            });
            
            this.classList.add('active');
            this.classList.remove('text-slate-500', 'hover:text-slate-700', 'dark:text-slate-400', 'dark:hover:text-slate-300');
            this.classList.add('text-slate-900', 'dark:text-white');
            
            // Show/hide tab content
            const tabContents = document.querySelectorAll('#financial_reports .tab-content');
            tabContents.forEach(content => {
                content.classList.add('hidden');
            });
            
            const targetTabElement = document.getElementById(`${targetTab}-tab`);
            if (targetTabElement) {
                targetTabElement.classList.remove('hidden');
                
                // Initialize tab-specific content
                if (targetTab === 'expenses') {
                    initializeExpensesTab();
                } else if (targetTab === 'profit') {
                    initializeProfitTab();
                } else if (targetTab === 'invoices') {
                    initializeInvoicesTab();
                }
            }
        });
    });
    
    // Tabs for company settings page
    const companyTabButtons = document.querySelectorAll('#company_settings .tab-button');
    companyTabButtons.forEach(button => {
        button.addEventListener('click', function() {
            const targetTab = this.getAttribute('data-tab');
            
            // Update button states
            companyTabButtons.forEach(btn => {
                btn.classList.remove('active');
                btn.classList.add('text-slate-500', 'hover:text-slate-700', 'dark:text-slate-400', 'dark:hover:text-slate-300');
                btn.classList.remove('text-slate-900', 'dark:text-white');
            });
            
            this.classList.add('active');
            this.classList.remove('text-slate-500', 'hover:text-slate-700', 'dark:text-slate-400', 'dark:hover:text-slate-300');
            this.classList.add('text-slate-900', 'dark:text-white');
            
            // Show/hide tab content
            const tabContents = document.querySelectorAll('#company_settings .tab-content');
            tabContents.forEach(content => {
                content.classList.add('hidden');
            });
            
            const targetTabElement = document.getElementById(`${targetTab}-tab`);
            if (targetTabElement) {
                targetTabElement.classList.remove('hidden');
                
                // Initialize tab-specific content
                if (targetTab === 'branding') {
                    initializeBrandingTab();
                } else if (targetTab === 'integrations') {
                    initializeIntegrationsTab();
                } else if (targetTab === 'security') {
                    initializeSecurityTab();
                } else if (targetTab === 'compliance') {
                    initializeComplianceTab();
                }
            }
        });
    });
    
    // Timeline toggle for tracking page
    const toggleTimeline = document.getElementById('toggleTimeline');
    if (toggleTimeline) {
        toggleTimeline.addEventListener('click', function() {
            const timelineContent = document.getElementById('timelineContent');
            if (timelineContent) {
                const isHidden = timelineContent.classList.contains('hidden');
                
                if (isHidden) {
                    timelineContent.classList.remove('hidden');
                    timelineContent.classList.add('animate-slide-up');
                    this.querySelector('.material-symbols-outlined').textContent = 'expand_less';
                } else {
                    timelineContent.classList.add('hidden');
                    this.querySelector('.material-symbols-outlined').textContent = 'expand_more';
                }
            }
        });
    }
    
    // Global search
    const globalSearch = document.getElementById('globalSearch');
    if (globalSearch) {
        globalSearch.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();
            globalSearch(searchTerm);
        });
    }
    
    // Dashboard filters
    const dashboardTypeFilter = document.getElementById('dashboardTypeFilter');
    if (dashboardTypeFilter) {
        dashboardTypeFilter.addEventListener('change', function() {
            filterDashboardTable();
        });
    }
    
    const dashboardStatusFilter = document.getElementById('dashboardStatusFilter');
    if (dashboardStatusFilter) {
        dashboardStatusFilter.addEventListener('change', function() {
            filterDashboardTable();
        });
    }
    
    // Export and refresh buttons
    const exportBtn = document.getElementById('exportBtn');
    if (exportBtn) {
        exportBtn.addEventListener('click', function() {
            showNotification('Fitur ekspor akan segera tersedia', 'info');
        });
    }
    
    const refreshBtn = document.getElementById('refreshBtn');
    if (refreshBtn) {
        refreshBtn.addEventListener('click', function() {
            updateFilesTable();
            showNotification('Data berhasil diperbarui', 'success');
        });
    }
    
    const moreFiltersBtn = document.getElementById('moreFiltersBtn');
    if (moreFiltersBtn) {
        moreFiltersBtn.addEventListener('click', function() {
            showNotification('Filter lanjutan akan segera tersedia', 'info');
        });
    }
}

// Executive Dashboard Functions
function initializeExecutiveDashboard() {
    // Initialize executive charts
    initializeExecutiveCharts();
}

function initializeExecutiveCharts() {
    // Revenue Trend Chart
    const revenueTrendCtx = document.getElementById('revenueTrendChart');
    if (revenueTrendCtx) {
        // Destroy existing chart if it exists
        if (revenueTrendCtx.chart) {
            revenueTrendCtx.chart.destroy();
        }
        
        revenueTrendCtx.chart = new Chart(revenueTrendCtx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'Mei', 'Jun', 'Jul', 'Agu', 'Sep', 'Okt', 'Nov', 'Des'],
                datasets: [{
                    label: 'Pendapatan',
                    data: [180, 195, 210, 225, 205, 220, 235, 245, 238, 245, 250, 260],
                    borderColor: '#6366f1',
                    backgroundColor: 'rgba(99, 102, 241, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: false,
                        ticks: {
                            callback: function(value) {
                                return 'Rp ' + value + 'M';
                            }
                        }
                    }
                }
            }
        });
    }
    
    // Service Performance Chart
    const servicePerformanceCtx = document.getElementById('servicePerformanceChart');
    if (servicePerformanceCtx) {
        // Destroy existing chart if it exists
        if (servicePerformanceCtx.chart) {
            servicePerformanceCtx.chart.destroy();
        }
        
        servicePerformanceCtx.chart = new Chart(servicePerformanceCtx, {
            type: 'radar',
            data: {
                labels: ['AJB', 'SKMHT', 'APHT', 'Fidusia', 'Lainnya'],
                datasets: [{
                    label: 'Target',
                    data: [90, 85, 80, 75, 70],
                    borderColor: '#10b981',
                    backgroundColor: 'rgba(16, 185, 129, 0.2)',
                    pointBackgroundColor: '#10b981',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: '#10b981'
                }, {
                    label: 'Aktual',
                    data: [85, 90, 75, 80, 65],
                    borderColor: '#6366f1',
                    backgroundColor: 'rgba(99, 102, 241, 0.2)',
                    pointBackgroundColor: '#6366f1',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: '#6366f1'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: {
                            display: true
                        },
                        suggestedMin: 50,
                        suggestedMax: 100
                    }
                }
            }
        });
    }
}

// Financial Reports Functions
function initializeFinancialReports() {
    // Initialize financial charts
    initializeFinancialCharts();
}

function initializeFinancialCharts() {
    // Revenue Chart
    const revenueCtx = document.getElementById('revenueChart');
    if (revenueCtx) {
        // Destroy existing chart if it exists
        if (revenueCtx.chart) {
            revenueCtx.chart.destroy();
        }
        
        revenueCtx.chart = new Chart(revenueCtx, {
            type: 'bar',
            data: {
                labels: ['AJB', 'SKMHT', 'APHT', 'Lainnya'],
                datasets: [{
                    label: 'Q1',
                    data: [95, 75, 55, 30],
                    backgroundColor: '#6366f1'
                }, {
                    label: 'Q2',
                    data: [105, 80, 60, 35],
                    backgroundColor: '#8b5cf6'
                }, {
                    label: 'Q3',
                    data: [118.5, 81.2, 46.1, 20],
                    backgroundColor: '#a78bfa'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return 'Rp ' + value + 'M';
                            }
                        }
                    }
                }
            }
        });
    }
}

// Reports Page Functions
function initializeReports() {
    // Initialize charts for the overview tab
    initializeCharts();
}

function initializeCharts() {
    // Status Chart
    const statusCtx = document.getElementById('statusChart');
    if (statusCtx) {
        // Destroy existing chart if it exists
        if (statusCtx.chart) {
            statusCtx.chart.destroy();
        }
        
        statusCtx.chart = new Chart(statusCtx, {
            type: 'doughnut',
            data: {
                labels: ['Selesai', 'Dalam Proses', 'Terlambat', 'Menunggu'],
                datasets: [{
                    data: [98, 28, 8, 8],
                    backgroundColor: [
                        '#10b981',
                        '#1f96ad',
                        '#dc2626',
                        '#f59e0b'
                    ]
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });
    }
    
    // Service Type Chart
    const serviceCtx = document.getElementById('serviceChart');
    if (serviceCtx) {
        // Destroy existing chart if it exists
        if (serviceCtx.chart) {
            serviceCtx.chart.destroy();
        }
        
        serviceCtx.chart = new Chart(serviceCtx, {
            type: 'bar',
            data: {
                labels: ['AJB', 'SKMHT', 'APHT', 'Hibah'],
                datasets: [{
                    label: 'File',
                    data: [45, 38, 32, 27],
                    backgroundColor: '#1f96ad'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    }
    
    // Trend Chart
    const trendCtx = document.getElementById('trendChart');
    if (trendCtx) {
        // Destroy existing chart if it exists
        if (trendCtx.chart) {
            trendCtx.chart.destroy();
        }
        
        trendCtx.chart = new Chart(trendCtx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'Mei', 'Jun'],
                datasets: [{
                    label: 'Selesai',
                    data: [12, 19, 15, 25, 22, 30],
                    borderColor: '#10b981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    tension: 0.4
                }, {
                    label: 'File Baru',
                    data: [15, 22, 18, 28, 25, 32],
                    borderColor: '#1f96ad',
                    backgroundColor: 'rgba(31, 150, 173, 0.1)',
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });
    }
}

// Performance Tab Functions
function initializePerformanceTab() {
    const performanceTab = document.getElementById('performance-tab');
    if (!performanceTab) return;
    
    // Clear existing content
    performanceTab.innerHTML = '';
    
    // Create performance content
    performanceTab.innerHTML = `
        <div class="space-y-6">
            <!-- Staff Performance Section -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Kinerja Staf</h3>
                <div class="chart-container mb-6">
                    <canvas id="staffPerformanceChart"></canvas>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-slate-100 dark:bg-slate-700 text-xs font-semibold uppercase text-slate-500 dark:text-slate-400">
                            <tr>
                                <th class="px-4 py-3">Nama</th>
                                <th class="px-4 py-3">File Selesai</th>
                                <th class="px-4 py-3">Rata-rata Waktu</th>
                                <th class="px-4 py-3">Kepuasan Klien</th>
                                <th class="px-4 py-3">Efisiensi</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                            ${appData.performanceData.staffPerformance.map(staff => `
                                <tr class="hover:bg-slate-100 dark:hover:bg-slate-700">
                                    <td class="px-4 py-3 font-medium">${staff.name}</td>
                                    <td class="px-4 py-3">${staff.filesCompleted}</td>
                                    <td class="px-4 py-3">${staff.avgTime} hari</td>
                                    <td class="px-4 py-3">${staff.satisfaction}/5.0</td>
                                    <td class="px-4 py-3">
                                        <div class="flex items-center gap-1">
                                            <div class="h-1.5 w-20 rounded-full bg-slate-200 dark:bg-slate-700">
                                                <div class="h-1.5 rounded-full bg-green-500" style="width: ${staff.efficiency}%"></div>
                                            </div>
                                            <span class="text-xs font-medium text-green-600 dark:text-green-400">${staff.efficiency}%</span>
                                        </div>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Service Type Performance Section -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Performa Tipe Layanan</h3>
                <div class="chart-container mb-6">
                    <canvas id="serviceTypePerformanceChart"></canvas>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-slate-100 dark:bg-slate-700 text-xs font-semibold uppercase text-slate-500 dark:text-slate-400">
                            <tr>
                                <th class="px-4 py-3">Tipe Layanan</th>
                                <th class="px-4 py-3">Rata-rata Waktu</th>
                                <th class="px-4 py-3">Kepuasan Klien</th>
                                <th class="px-4 py-3">Tingkat Penyelesaian</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                            ${appData.performanceData.serviceTypePerformance.map(service => `
                                <tr class="hover:bg-slate-100 dark:hover:bg-slate-700">
                                    <td class="px-4 py-3 font-medium">${service.type}</td>
                                    <td class="px-4 py-3">${service.avgTime} hari</td>
                                    <td class="px-4 py-3">${service.satisfaction}/5.0</td>
                                    <td class="px-4 py-3">
                                        <div class="flex items-center gap-1">
                                            <div class="h-1.5 w-20 rounded-full bg-slate-200 dark:bg-slate-700">
                                                <div class="h-1.5 rounded-full bg-blue-500" style="width: ${service.completionRate}%"></div>
                                            </div>
                                            <span class="text-xs font-medium text-blue-600 dark:text-blue-400">${service.completionRate}%</span>
                                        </div>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    `;
    
    // Initialize charts
    setTimeout(() => {
        initializeStaffPerformanceChart();
        initializeServiceTypePerformanceChart();
    }, 100);
}

function initializeStaffPerformanceChart() {
    const ctx = document.getElementById('staffPerformanceChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    ctx.chart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: appData.performanceData.staffPerformance.map(staff => staff.name),
            datasets: [
                {
                    label: 'File Selesai',
                    data: appData.performanceData.staffPerformance.map(staff => staff.filesCompleted),
                    backgroundColor: '#1f96ad',
                    yAxisID: 'y'
                },
                {
                    label: 'Efisiensi (%)',
                    data: appData.performanceData.staffPerformance.map(staff => staff.efficiency),
                    type: 'line',
                    borderColor: '#10b981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    yAxisID: 'y1'
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    type: 'linear',
                    display: true,
                    position: 'left',
                    title: {
                        display: true,
                        text: 'File Selesai'
                    }
                },
                y1: {
                    type: 'linear',
                    display: true,
                    position: 'right',
                    title: {
                        display: true,
                        text: 'Efisiensi (%)'
                    },
                    grid: {
                        drawOnChartArea: false
                    },
                    min: 0,
                    max: 100
                }
            }
        }
    });
}

function initializeServiceTypePerformanceChart() {
    const ctx = document.getElementById('serviceTypePerformanceChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    ctx.chart = new Chart(ctx, {
        type: 'radar',
        data: {
            labels: appData.performanceData.serviceTypePerformance.map(service => service.type),
            datasets: [
                {
                    label: 'Rata-rata Waktu (hari)',
                    data: appData.performanceData.serviceTypePerformance.map(service => service.avgTime),
                    borderColor: '#f59e0b',
                    backgroundColor: 'rgba(245, 158, 11, 0.2)',
                    pointBackgroundColor: '#f59e0b',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: '#f59e0b'
                },
                {
                    label: 'Tingkat Penyelesaian (%)',
                    data: appData.performanceData.serviceTypePerformance.map(service => service.completionRate),
                    borderColor: '#1f96ad',
                    backgroundColor: 'rgba(31, 150, 173, 0.2)',
                    pointBackgroundColor: '#1f96ad',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: '#1f96ad'
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                r: {
                    angleLines: {
                        display: true
                    },
                    suggestedMin: 0
                }
            }
        }
    });
}

// SLA Tab Functions
function initializeSlaTab() {
    const slaTab = document.getElementById('sla-tab');
    if (!slaTab) return;
    
    // Clear existing content
    slaTab.innerHTML = '';
    
    // Create SLA content
    slaTab.innerHTML = `
        <div class="space-y-6">
            <!-- Overall SLA Compliance -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Kepatuhan SLA Keseluruhan</h3>
                <div class="flex items-center justify-center mb-6">
                    <div class="relative">
                        <div class="text-5xl font-bold text-slate-900 dark:text-white">${appData.slaData.overallCompliance}%</div>
                        <div class="text-sm text-slate-500 dark:text-slate-400 text-center">Kepatuhan SLA</div>
                        <div class="absolute -top-2 -right-2">
                            <span class="inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-300">
                                <span class="material-symbols-outlined text-[12px] mr-1">trending_up</span>
                                +2.1%
                            </span>
                        </div>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="slaComplianceChart"></canvas>
                </div>
            </div>
            
            <!-- Service Type SLA Compliance -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Kepatuhan SLA per Tipe Layanan</h3>
                <div class="chart-container mb-6">
                    <canvas id="serviceTypeSlaChart"></canvas>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-slate-100 dark:bg-slate-700 text-xs font-semibold uppercase text-slate-500 dark:text-slate-400">
                            <tr>
                                <th class="px-4 py-3">Tipe Layanan</th>
                                <th class="px-4 py-3">Target (hari)</th>
                                <th class="px-4 py-3">Aktual (hari)</th>
                                <th class="px-4 py-3">Kepatuhan (%)</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                            ${appData.slaData.serviceTypeCompliance.map(service => `
                                <tr class="hover:bg-slate-100 dark:hover:bg-slate-700">
                                    <td class="px-4 py-3 font-medium">${service.type}</td>
                                    <td class="px-4 py-3">${service.target}</td>
                                    <td class="px-4 py-3">${service.actual}</td>
                                    <td class="px-4 py-3">
                                        <div class="flex items-center gap-1">
                                            <div class="h-1.5 w-20 rounded-full bg-slate-200 dark:bg-slate-700">
                                                <div class="h-1.5 rounded-full ${service.compliance >= 90 ? 'bg-green-500' : service.compliance >= 80 ? 'bg-amber-500' : 'bg-red-500'}" style="width: ${service.compliance}%"></div>
                                            </div>
                                            <span class="text-xs font-medium ${service.compliance >= 90 ? 'text-green-600 dark:text-green-400' : service.compliance >= 80 ? 'text-amber-600 dark:text-amber-400' : 'text-red-600 dark:text-red-400'}">${service.compliance}%</span>
                                        </div>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Monthly SLA Compliance Trend -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Tren Kepatuhan SLA Bulanan</h3>
                <div class="chart-container">
                    <canvas id="monthlySlaChart"></canvas>
                </div>
            </div>
        </div>
    `;
    
    // Initialize charts
    setTimeout(() => {
        initializeSlaComplianceChart();
        initializeServiceTypeSlaChart();
        initializeMonthlySlaChart();
    }, 100);
}

function initializeSlaComplianceChart() {
    const ctx = document.getElementById('slaComplianceChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    ctx.chart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ['Memenuhi SLA', 'Tidak Memenuhi SLA'],
            datasets: [{
                data: [appData.slaData.overallCompliance, 100 - appData.slaData.overallCompliance],
                backgroundColor: [
                    '#10b981',
                    '#ef4444'
                ]
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom'
                }
            }
        }
    });
}

function initializeServiceTypeSlaChart() {
    const ctx = document.getElementById('serviceTypeSlaChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    ctx.chart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: appData.slaData.serviceTypeCompliance.map(service => service.type),
            datasets: [
                {
                    label: 'Target (hari)',
                    data: appData.slaData.serviceTypeCompliance.map(service => service.target),
                    backgroundColor: '#94a3b8'
                },
                {
                    label: 'Aktual (hari)',
                    data: appData.slaData.serviceTypeCompliance.map(service => service.actual),
                    backgroundColor: '#1f96ad'
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Hari'
                    }
                }
            }
        }
    });
}

function initializeMonthlySlaChart() {
    const ctx = document.getElementById('monthlySlaChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    ctx.chart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: appData.slaData.monthlyCompliance.map(item => item.month),
            datasets: [{
                label: 'Kepatuhan SLA (%)',
                data: appData.slaData.monthlyCompliance.map(item => item.compliance),
                borderColor: '#1f96ad',
                backgroundColor: 'rgba(31, 150, 173, 0.1)',
                tension: 0.4,
                fill: true
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: false,
                    min: 80,
                    max: 100,
                    title: {
                        display: true,
                        text: 'Kepatuhan (%)'
                    }
                }
            }
        }
    });
}

// Clients Tab Functions
function initializeClientsTab() {
    const clientsTab = document.getElementById('clients-tab');
    if (!clientsTab) return;
    
    // Clear existing content
    clientsTab.innerHTML = '';
    
    // Create client activity content
    clientsTab.innerHTML = `
        <div class="space-y-6">
            <!-- New Clients by Month -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Klien Baru per Bulan</h3>
                <div class="chart-container">
                    <canvas id="newClientsChart"></canvas>
                </div>
            </div>
            
            <!-- Client Retention -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Retensi Klien</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                    <div class="text-center">
                        <div class="text-3xl font-bold text-slate-900 dark:text-white">${appData.clientActivityData.clientRetention.new}</div>
                        <div class="text-sm text-slate-500 dark:text-slate-400">Klien Baru</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-slate-900 dark:text-white">${appData.clientActivityData.clientRetention.returning}</div>
                        <div class="text-sm text-slate-500 dark:text-slate-400">Klien Kembali</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-slate-900 dark:text-white">${appData.clientActivityData.clientRetention.retentionRate}%</div>
                        <div class="text-sm text-slate-500 dark:text-slate-400">Tingkat Retensi</div>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="clientRetentionChart"></canvas>
                </div>
            </div>
            
            <!-- Top Clients by Revenue -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Klien Teratas berdasarkan Pendapatan</h3>
                <div class="chart-container mb-6">
                    <canvas id="topClientsChart"></canvas>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-slate-100 dark:bg-slate-700 text-xs font-semibold uppercase text-slate-500 dark:text-slate-400">
                            <tr>
                                <th class="px-4 py-3">Nama Klien</th>
                                <th class="px-4 py-3">Total Pendapatan (Juta Rp)</th>
                                <th class="px-4 py-3">Jumlah File</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                            ${appData.clientActivityData.topClientsByRevenue.map(client => `
                                <tr class="hover:bg-slate-100 dark:hover:bg-slate-700">
                                    <td class="px-4 py-3 font-medium">${client.name}</td>
                                    <td class="px-4 py-3">${client.revenue}</td>
                                    <td class="px-4 py-3">${client.files}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    `;
    
    // Initialize charts
    setTimeout(() => {
        initializeNewClientsChart();
        initializeClientRetentionChart();
        initializeTopClientsChart();
    }, 100);
}

function initializeNewClientsChart() {
    const ctx = document.getElementById('newClientsChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    ctx.chart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: appData.clientActivityData.newClientsByMonth.map(item => item.month),
            datasets: [{
                label: 'Klien Baru',
                data: appData.clientActivityData.newClientsByMonth.map(item => item.count),
                borderColor: '#1f96ad',
                backgroundColor: 'rgba(31, 150, 173, 0.1)',
                tension: 0.4,
                fill: true
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Jumlah Klien'
                    }
                }
            }
        }
    });
}

function initializeClientRetentionChart() {
    const ctx = document.getElementById('clientRetentionChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    ctx.chart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ['Klien Baru', 'Klien Kembali', 'Churn'],
            datasets: [{
                data: [
                    appData.clientActivityData.clientRetention.new,
                    appData.clientActivityData.clientRetention.returning,
                    appData.clientActivityData.clientRetention.churn
                ],
                backgroundColor: [
                    '#1f96ad',
                    '#10b981',
                    '#ef4444'
                ]
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom'
                }
            }
        }
    });
}

function initializeTopClientsChart() {
    const ctx = document.getElementById('topClientsChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    ctx.chart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: appData.clientActivityData.topClientsByRevenue.map(client => client.name),
            datasets: [{
                label: 'Pendapatan (Juta Rp)',
                data: appData.clientActivityData.topClientsByRevenue.map(client => client.revenue),
                backgroundColor: '#1f96ad'
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Pendapatan (Juta Rp)'
                    }
                }
            }
        }
    });
}

// Financial Tab Functions
function initializeFinancialTab() {
    const financialTab = document.getElementById('financial-tab');
    if (!financialTab) return;
    
    // Clear existing content
    financialTab.innerHTML = '';
    
    // Create financial report content
    financialTab.innerHTML = `
        <div class="space-y-6">
            <!-- Monthly Revenue and Profit -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Pendapatan dan Laba Bulanan</h3>
                <div class="chart-container">
                    <canvas id="monthlyRevenueChart"></canvas>
                </div>
            </div>
            
            <!-- Revenue by Service Type -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Pendapatan berdasarkan Tipe Layanan</h3>
                <div class="chart-container mb-6">
                    <canvas id="revenueByServiceChart"></canvas>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-slate-100 dark:bg-slate-700 text-xs font-semibold uppercase text-slate-500 dark:text-slate-400">
                            <tr>
                                <th class="px-4 py-3">Tipe Layanan</th>
                                <th class="px-4 py-3">Q1 (Juta Rp)</th>
                                <th class="px-4 py-3">Q2 (Juta Rp)</th>
                                <th class="px-4 py-3">Q3 (Juta Rp)</th>
                                <th class="px-4 py-3">Total (Juta Rp)</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                            ${appData.financialData.revenueByService.map(service => `
                                <tr class="hover:bg-slate-100 dark:hover:bg-slate-700">
                                    <td class="px-4 py-3 font-medium">${service.service}</td>
                                    <td class="px-4 py-3">${service.q1}</td>
                                    <td class="px-4 py-3">${service.q2}</td>
                                    <td class="px-4 py-3">${service.q3}</td>
                                    <td class="px-4 py-3 font-bold">${service.total}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Expenses by Category -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Pengeluaran berdasarkan Kategori</h3>
                <div class="chart-container mb-6">
                    <canvas id="expensesByCategoryChart"></canvas>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-slate-100 dark:bg-slate-700 text-xs font-semibold uppercase text-slate-500 dark:text-slate-400">
                            <tr>
                                <th class="px-4 py-3">Kategori</th>
                                <th class="px-4 py-3">Jumlah (Juta Rp)</th>
                                <th class="px-4 py-3">Persentase</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                            ${appData.financialData.expensesByCategory.map(expense => `
                                <tr class="hover:bg-slate-100 dark:hover:bg-slate-700">
                                    <td class="px-4 py-3 font-medium">${expense.category}</td>
                                    <td class="px-4 py-3">${expense.amount}</td>
                                    <td class="px-4 py-3">
                                        <div class="flex items-center gap-1">
                                            <div class="h-1.5 w-20 rounded-full bg-slate-200 dark:bg-slate-700">
                                                <div class="h-1.5 rounded-full bg-amber-500" style="width: ${expense.percentage}%"></div>
                                            </div>
                                            <span class="text-xs font-medium text-amber-600 dark:text-amber-400">${expense.percentage}%</span>
                                        </div>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    `;
    
    // Initialize charts
    setTimeout(() => {
        initializeMonthlyRevenueChart();
        initializeRevenueByServiceChart();
        initializeExpensesByCategoryChart();
    }, 100);
}

function initializeMonthlyRevenueChart() {
    const ctx = document.getElementById('monthlyRevenueChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    ctx.chart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: appData.financialData.monthlyRevenue.map(item => item.month),
            datasets: [
                {
                    label: 'Pendapatan',
                    data: appData.financialData.monthlyRevenue.map(item => item.revenue),
                    backgroundColor: '#1f96ad'
                },
                {
                    label: 'Laba',
                    data: appData.financialData.monthlyRevenue.map(item => item.profit),
                    backgroundColor: '#10b981'
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Juta Rp'
                    }
                }
            }
        }
    });
}

function initializeRevenueByServiceChart() {
    const ctx = document.getElementById('revenueByServiceChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    ctx.chart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: appData.financialData.revenueByService.map(service => service.service),
            datasets: [
                {
                    label: 'Q1',
                    data: appData.financialData.revenueByService.map(service => service.q1),
                    backgroundColor: '#6366f1'
                },
                {
                    label: 'Q2',
                    data: appData.financialData.revenueByService.map(service => service.q2),
                    backgroundColor: '#8b5cf6'
                },
                {
                    label: 'Q3',
                    data: appData.financialData.revenueByService.map(service => service.q3),
                    backgroundColor: '#a78bfa'
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Juta Rp'
                    }
                }
            }
        }
    });
}

function initializeExpensesByCategoryChart() {
    const ctx = document.getElementById('expensesByCategoryChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    ctx.chart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: appData.financialData.expensesByCategory.map(expense => expense.category),
            datasets: [{
                data: appData.financialData.expensesByCategory.map(expense => expense.amount),
                backgroundColor: [
                    '#6366f1',
                    '#8b5cf6',
                    '#a78bfa',
                    '#c4b5fd',
                    '#ddd6fe'
                ]
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom'
                }
            }
        }
    });
}

// Forecasting Tab Functions
function initializeForecastingTab() {
    const forecastingTab = document.getElementById('forecasting-tab');
    if (!forecastingTab) return;
    
    // Clear existing content
    forecastingTab.innerHTML = '';
    
    // Create forecasting content
    forecastingTab.innerHTML = `
        <div class="space-y-6">
            <!-- Revenue Forecast -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Proyeksi Pendapatan</h3>
                <div class="chart-container">
                    <canvas id="revenueForecastChart"></canvas>
                </div>
            </div>
            
            <!-- File Volume Forecast -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Proyeksi Volume File</h3>
                <div class="chart-container">
                    <canvas id="fileVolumeForecastChart"></canvas>
                </div>
            </div>
            
            <!-- Resource Utilization Forecast -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Proyeksi Utilisasi Sumber Daya</h3>
                <div class="chart-container">
                    <canvas id="resourceUtilizationChart"></canvas>
                </div>
                <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-white dark:bg-slate-700 rounded-lg p-4 text-center">
                        <div class="text-2xl font-bold text-slate-900 dark:text-white">86%</div>
                        <div class="text-sm text-slate-500 dark:text-slate-400">Rata-rata Utilisasi Staf</div>
                    </div>
                    <div class="bg-white dark:bg-slate-700 rounded-lg p-4 text-center">
                        <div class="text-2xl font-bold text-slate-900 dark:text-white">79%</div>
                        <div class="text-sm text-slate-500 dark:text-slate-400">Rata-rata Utilisasi Fasilitas</div>
                    </div>
                    <div class="bg-white dark:bg-slate-700 rounded-lg p-4 text-center">
                        <div class="text-2xl font-bold text-slate-900 dark:text-white">90%</div>
                        <div class="text-sm text-slate-500 dark:text-slate-400">Rata-rata Utilisasi Sistem</div>
                    </div>
                </div>
            </div>
        </div>
    `;
    
    // Initialize charts
    setTimeout(() => {
        initializeRevenueForecastChart();
        initializeFileVolumeForecastChart();
        initializeResourceUtilizationChart();
    }, 100);
}

function initializeRevenueForecastChart() {
    const ctx = document.getElementById('revenueForecastChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    // Combine actual and forecast data
    const actualMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep'];
    const actualRevenue = appData.financialData.monthlyRevenue.map(item => item.revenue);
    const forecastMonths = appData.forecastingData.revenueForecast.map(item => item.month);
    const forecastRevenue = appData.forecastingData.revenueForecast.map(item => item.forecast);
    
    ctx.chart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: [...actualMonths, ...forecastMonths],
            datasets: [
                {
                    label: 'Aktual',
                    data: [...actualRevenue, ...Array(forecastMonths.length).fill(null)],
                    borderColor: '#1f96ad',
                    backgroundColor: 'rgba(31, 150, 173, 0.1)',
                    tension: 0.4,
                    fill: true
                },
                {
                    label: 'Proyeksi',
                    data: [...Array(actualMonths.length).fill(null), ...forecastRevenue],
                    borderColor: '#6366f1',
                    backgroundColor: 'rgba(99, 102, 241, 0.1)',
                    borderDash: [5, 5],
                    tension: 0.4,
                    fill: true
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: false,
                    title: {
                        display: true,
                        text: 'Juta Rp'
                    }
                }
            }
        }
    });
}

function initializeFileVolumeForecastChart() {
    const ctx = document.getElementById('fileVolumeForecastChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    // Get actual file volume data
    const actualMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep'];
    const actualFiles = [15, 22, 18, 28, 25, 32, 29, 35, 31]; // Sample data
    const forecastMonths = appData.forecastingData.fileVolumeForecast.map(item => item.month);
    const forecastFiles = appData.forecastingData.fileVolumeForecast.map(item => item.forecast);
    
    ctx.chart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: [...actualMonths, ...forecastMonths],
            datasets: [
                {
                    label: 'Aktual',
                    data: [...actualFiles, ...Array(forecastMonths.length).fill(null)],
                    backgroundColor: '#1f96ad'
                },
                {
                    label: 'Proyeksi',
                    data: [...Array(actualMonths.length).fill(null), ...forecastFiles],
                    backgroundColor: '#6366f1'
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Jumlah File'
                    }
                }
            }
        }
    });
}

function initializeResourceUtilizationChart() {
    const ctx = document.getElementById('resourceUtilizationChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    const months = appData.forecastingData.resourceUtilization.map(item => item.month);
    const staffUtilization = appData.forecastingData.resourceUtilization.map(item => item.staff);
    const facilitiesUtilization = appData.forecastingData.resourceUtilization.map(item => item.facilities);
    const systemsUtilization = appData.forecastingData.resourceUtilization.map(item => item.systems);
    
    ctx.chart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: months,
            datasets: [
                {
                    label: 'Utilisasi Staf (%)',
                    data: staffUtilization,
                    borderColor: '#1f96ad',
                    backgroundColor: 'rgba(31, 150, 173, 0.1)',
                    tension: 0.4,
                    fill: true
                },
                {
                    label: 'Utilisasi Fasilitas (%)',
                    data: facilitiesUtilization,
                    borderColor: '#10b981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    tension: 0.4,
                    fill: true
                },
                {
                    label: 'Utilisasi Sistem (%)',
                    data: systemsUtilization,
                    borderColor: '#f59e0b',
                    backgroundColor: 'rgba(245, 158, 11, 0.1)',
                    tension: 0.4,
                    fill: true
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: false,
                    min: 70,
                    max: 100,
                    title: {
                        display: true,
                        text: 'Utilisasi (%)'
                    }
                }
            }
        }
    });
}

// Individuals Tab Functions
function initializeIndividualsTab() {
    const individualsTab = document.getElementById('individuals-tab');
    if (!individualsTab) return;
    
    // Clear existing content
    individualsTab.innerHTML = '';
    
    // Get individual clients
    const individualClients = appData.clients.filter(client => client.type === 'Individual');
    
    // Create individuals content
    individualsTab.innerHTML = `
        <div class="space-y-6">
            <!-- Individual Clients Stats -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">Total Klien Individu</p>
                            <p class="text-2xl font-bold text-slate-900 dark:text-white">${individualClients.length}</p>
                        </div>
                        <div class="p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg">
                            <span class="material-symbols-outlined text-blue-600 dark:text-blue-400">person</span>
                        </div>
                    </div>
                </div>
                <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">File Aktif</p>
                            <p class="text-2xl font-bold text-slate-900 dark:text-white">${individualClients.reduce((sum, client) => sum + client.activeFiles, 0)}</p>
                        </div>
                        <div class="p-2 bg-green-100 dark:bg-green-900/30 rounded-lg">
                            <span class="material-symbols-outlined text-green-600 dark:text-green-400">folder_open</span>
                        </div>
                    </div>
                </div>
                <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">Rata-rata File per Klien</p>
                            <p class="text-2xl font-bold text-slate-900 dark:text-white">${(individualClients.reduce((sum, client) => sum + client.totalFiles, 0) / individualClients.length).toFixed(1)}</p>
                        </div>
                        <div class="p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg">
                            <span class="material-symbols-outlined text-amber-600 dark:text-amber-400">analytics</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Individual Clients Table -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Daftar Klien Individu</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-slate-100 dark:bg-slate-700 text-xs font-semibold uppercase text-slate-500 dark:text-slate-400">
                            <tr>
                                <th class="px-4 py-3">Nama</th>
                                <th class="px-4 py-3">Kontak</th>
                                <th class="px-4 py-3">Total File</th>
                                <th class="px-4 py-3">File Aktif</th>
                                <th class="px-4 py-3">Aktivitas Terakhir</th>
                                <th class="px-4 py-3">Status</th>
                                <th class="px-4 py-3 text-right">Aksi</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                            ${individualClients.map(client => `
                                <tr class="hover:bg-slate-100 dark:hover:bg-slate-700">
                                    <td class="px-4 py-3">
                                        <div class="flex items-center gap-3">
                                            <div class="h-8 w-8 rounded-full ${getAvatarColor(client.name)} flex items-center justify-center text-white text-xs font-bold">
                                                ${getClientInitials(client.name)}
                                            </div>
                                            <div>
                                                <p class="font-medium text-slate-900 dark:text-white">${client.name}</p>
                                                <p class="text-xs text-slate-500 dark:text-slate-400">ID: ${client.id}</p>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-4 py-3">
                                        <div class="text-sm">
                                            <p class="text-slate-900 dark:text-white">${client.contactNumber}</p>
                                            <p class="text-xs text-slate-500 dark:text-slate-400">${client.email}</p>
                                        </div>
                                    </td>
                                    <td class="px-4 py-3">${client.totalFiles}</td>
                                    <td class="px-4 py-3">${client.activeFiles}</td>
                                    <td class="px-4 py-3">${client.lastActivity}</td>
                                    <td class="px-4 py-3">
                                        ${createStatusBadge(client.status)}
                                    </td>
                                    <td class="px-4 py-3 text-right">
                                        <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800 view-client-btn" data-id="${client.id}">
                                            <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">visibility</span>
                                        </button>
                                        <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800 edit-client-btn" data-id="${client.id}">
                                            <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">edit</span>
                                        </button>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    `;
    
    // Add event listeners to buttons
    setTimeout(() => {
        const viewButtons = individualsTab.querySelectorAll('.view-client-btn');
        viewButtons.forEach(button => {
            button.addEventListener('click', function() {
                const clientId = this.getAttribute('data-id');
                showClientDetails(clientId);
            });
        });
        
        const editButtons = individualsTab.querySelectorAll('.edit-client-btn');
        editButtons.forEach(button => {
            button.addEventListener('click', function() {
                const clientId = this.getAttribute('data-id');
                console.log('Edit client:', clientId);
            });
        });
    }, 100);
}

// Companies Tab Functions
function initializeCompaniesTab() {
    const companiesTab = document.getElementById('companies-tab');
    if (!companiesTab) return;
    
    // Clear existing content
    companiesTab.innerHTML = '';
    
    // Get company clients
    const companyClients = appData.clients.filter(client => client.type === 'Company');
    
    // Create companies content
    companiesTab.innerHTML = `
        <div class="space-y-6">
            <!-- Company Clients Stats -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">Total Klien Perusahaan</p>
                            <p class="text-2xl font-bold text-slate-900 dark:text-white">${companyClients.length}</p>
                        </div>
                        <div class="p-2 bg-purple-100 dark:bg-purple-900/30 rounded-lg">
                            <span class="material-symbols-outlined text-purple-600 dark:text-purple-400">business</span>
                        </div>
                    </div>
                </div>
                <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">File Aktif</p>
                            <p class="text-2xl font-bold text-slate-900 dark:text-white">${companyClients.reduce((sum, client) => sum + client.activeFiles, 0)}</p>
                        </div>
                        <div class="p-2 bg-green-100 dark:bg-green-900/30 rounded-lg">
                            <span class="material-symbols-outlined text-green-600 dark:text-green-400">folder_open</span>
                        </div>
                    </div>
                </div>
                <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">Rata-rata File per Klien</p>
                            <p class="text-2xl font-bold text-slate-900 dark:text-white">${(companyClients.reduce((sum, client) => sum + client.totalFiles, 0) / companyClients.length).toFixed(1)}</p>
                        </div>
                        <div class="p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg">
                            <span class="material-symbols-outlined text-amber-600 dark:text-amber-400">analytics</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Company Clients Table -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Daftar Klien Perusahaan</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-slate-100 dark:bg-slate-700 text-xs font-semibold uppercase text-slate-500 dark:text-slate-400">
                            <tr>
                                <th class="px-4 py-3">Nama Perusahaan</th>
                                <th class="px-4 py-3">Kontak</th>
                                <th class="px-4 py-3">Total File</th>
                                <th class="px-4 py-3">File Aktif</th>
                                <th class="px-4 py-3">Aktivitas Terakhir</th>
                                <th class="px-4 py-3">Status</th>
                                <th class="px-4 py-3 text-right">Aksi</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                            ${companyClients.map(client => `
                                <tr class="hover:bg-slate-100 dark:hover:bg-slate-700">
                                    <td class="px-4 py-3">
                                        <div class="flex items-center gap-3">
                                            <div class="h-8 w-8 rounded-full ${getAvatarColor(client.name)} flex items-center justify-center text-white text-xs font-bold">
                                                ${getClientInitials(client.name)}
                                            </div>
                                            <div>
                                                <p class="font-medium text-slate-900 dark:text-white">${client.name}</p>
                                                <p class="text-xs text-slate-500 dark:text-slate-400">ID: ${client.id}</p>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="px-4 py-3">
                                        <div class="text-sm">
                                            <p class="text-slate-900 dark:text-white">${client.contactNumber}</p>
                                            <p class="text-xs text-slate-500 dark:text-slate-400">${client.email}</p>
                                        </div>
                                    </td>
                                    <td class="px-4 py-3">${client.totalFiles}</td>
                                    <td class="px-4 py-3">${client.activeFiles}</td>
                                    <td class="px-4 py-3">${client.lastActivity}</td>
                                    <td class="px-4 py-3">
                                        ${createStatusBadge(client.status)}
                                    </td>
                                    <td class="px-4 py-3 text-right">
                                        <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800 view-client-btn" data-id="${client.id}">
                                            <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">visibility</span>
                                        </button>
                                        <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800 edit-client-btn" data-id="${client.id}">
                                            <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">edit</span>
                                        </button>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    `;
    
    // Add event listeners to buttons
    setTimeout(() => {
        const viewButtons = companiesTab.querySelectorAll('.view-client-btn');
        viewButtons.forEach(button => {
            button.addEventListener('click', function() {
                const clientId = this.getAttribute('data-id');
                showClientDetails(clientId);
            });
        });
        
        const editButtons = companiesTab.querySelectorAll('.edit-client-btn');
        editButtons.forEach(button => {
            button.addEventListener('click', function() {
                const clientId = this.getAttribute('data-id');
                console.log('Edit client:', clientId);
            });
        });
    }, 100);
}

// Recent Tab Functions
function initializeRecentTab() {
    const recentTab = document.getElementById('recent-tab');
    if (!recentTab) return;
    
    // Clear existing content
    recentTab.innerHTML = '';
    
    // Get recent client activities
    const recentActivities = [
        { client: "Budi Santoso", activity: "File #2024/05/042 diperbarui", time: "2 hours ago", type: "file" },
        { client: "PT. Maju Jaya", activity: "File #2024/05/019 terlambat", time: "3 hours ago", type: "alert" },
        { client: "Dewi Lestari", activity: "File #2024/05/041 selesai", time: "1 day ago", type: "success" },
        { client: "CV. Abadi Sentosa", activity: "File #2024/04/112 diblokir", time: "2 days ago", type: "alert" },
        { client: "Hendro Mulyono", activity: "File #2024/05/039 dibuat", time: "3 days ago", type: "file" },
        { client: "PT. Sejahtera Bersama", activity: "File #2024/05/040 diperbarui", time: "4 days ago", type: "file" },
        { client: "Siti Nurhaliza", activity: "File #2024/05/038 diperbarui", time: "5 days ago", type: "file" },
        { client: "PT. Teknologi Maju", activity: "File #2024/05/037 dibuat", time: "6 days ago", type: "file" }
    ];
    
    // Create recent content
    recentTab.innerHTML = `
        <div class="space-y-6">
            <!-- Recent Activities Timeline -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Aktivitas Klien Terkini</h3>
                <div class="space-y-4">
                    ${recentActivities.map((activity, index) => {
                        let icon = 'description';
                        let iconColor = 'text-blue-600 dark:text-blue-400';
                        
                        if (activity.type === 'alert') {
                            icon = 'warning';
                            iconColor = 'text-amber-600 dark:text-amber-400';
                        } else if (activity.type === 'success') {
                            icon = 'check_circle';
                            iconColor = 'text-green-600 dark:text-green-400';
                        }
                        
                        return `
                            <div class="flex gap-3">
                                <div class="flex-shrink-0">
                                    <span class="material-symbols-outlined ${iconColor}">${icon}</span>
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm font-medium text-slate-900 dark:text-white">${activity.client}</p>
                                    <p class="text-sm text-slate-600 dark:text-slate-400">${activity.activity}</p>
                                    <p class="text-xs text-slate-500 dark:text-slate-500 mt-1">${activity.time}</p>
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            </div>
            
            <!-- Recent Files Table -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">File Terkini</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-slate-100 dark:bg-slate-700 text-xs font-semibold uppercase text-slate-500 dark:text-slate-400">
                            <tr>
                                <th class="px-4 py-3">No. File</th>
                                <th class="px-4 py-3">Klien</th>
                                <th class="px-4 py-3">Tipe Layanan</th>
                                <th class="px-4 py-3">Status</th>
                                <th class="px-4 py-3">Terakhir Diperbarui</th>
                                <th class="px-4 py-3 text-right">Aksi</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                            ${appData.files.slice(0, 5).map(file => `
                                <tr class="hover:bg-slate-100 dark:hover:bg-slate-700">
                                    <td class="px-4 py-3 font-mono">${file.id}</td>
                                    <td class="px-4 py-3">${file.clientName}</td>
                                    <td class="px-4 py-3">
                                        <span class="inline-flex items-center rounded-md ${getServiceTypeColor(file.serviceType)} px-2 py-1 text-xs font-medium">
                                            ${file.serviceType}
                                        </span>
                                    </td>
                                    <td class="px-4 py-3">
                                        ${createStatusBadge(file.status)}
                                    </td>
                                    <td class="px-4 py-3">${file.lastUpdated}</td>
                                    <td class="px-4 py-3 text-right">
                                        <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800 view-file-btn" data-id="${file.id}">
                                            <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">visibility</span>
                                        </button>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    `;
    
    // Add event listeners to buttons
    setTimeout(() => {
        const viewButtons = recentTab.querySelectorAll('.view-file-btn');
        viewButtons.forEach(button => {
            button.addEventListener('click', function() {
                const fileId = this.getAttribute('data-id');
                showFileDetails(fileId);
            });
        });
    }, 100);
}

// Expenses Tab Functions
function initializeExpensesTab() {
    const expensesTab = document.getElementById('expenses-tab');
    if (!expensesTab) return;
    
    // Clear existing content
    expensesTab.innerHTML = '';
    
    // Create expenses content
    expensesTab.innerHTML = `
        <div class="space-y-6">
            <!-- Expenses Summary -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">Total Pengeluaran Bulan Ini</p>
                            <p class="text-2xl font-bold text-slate-900 dark:text-white">Rp 142.3M</p>
                            <p class="text-xs text-alert-red">+5.2% dari bulan lalu</p>
                        </div>
                        <div class="p-2 bg-red-100 dark:bg-red-900/30 rounded-lg">
                            <span class="material-symbols-outlined text-red-600 dark:text-red-400">trending_up</span>
                        </div>
                    </div>
                </div>
                <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">Pengeluaran Tertinggi</p>
                            <p class="text-2xl font-bold text-slate-900 dark:text-white">Gaji & Tunjangan</p>
                            <p class="text-xs text-slate-500 dark:text-slate-400">60% dari total</p>
                        </div>
                        <div class="p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg">
                            <span class="material-symbols-outlined text-amber-600 dark:text-amber-400">payments</span>
                        </div>
                    </div>
                </div>
                <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">Rata-rata Pengeluaran Harian</p>
                            <p class="text-2xl font-bold text-slate-900 dark:text-white">Rp 4.7M</p>
                            <p class="text-xs text-slate-500 dark:text-slate-400">Bulan ini</p>
                        </div>
                        <div class="p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg">
                            <span class="material-symbols-outlined text-blue-600 dark:text-blue-400">calendar_today</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Expenses by Category Chart -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Pengeluaran berdasarkan Kategori</h3>
                <div class="chart-container mb-6">
                    <canvas id="expensesCategoryChart"></canvas>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-slate-100 dark:bg-slate-700 text-xs font-semibold uppercase text-slate-500 dark:text-slate-400">
                            <tr>
                                <th class="px-4 py-3">Kategori</th>
                                <th class="px-4 py-3">Jumlah (Juta Rp)</th>
                                <th class="px-4 py-3">Persentase</th>
                                <th class="px-4 py-3">Perubahan dari Bulan Lalu</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                            ${appData.financialData.expensesByCategory.map(expense => {
                                let change = Math.floor(Math.random() * 20) - 10; // Random change between -10 and 10
                                let changeClass = change > 0 ? 'text-red-600 dark:text-red-400' : 'text-green-600 dark:text-green-400';
                                let changeIcon = change > 0 ? 'trending_up' : 'trending_down';
                                
                                return `
                                    <tr class="hover:bg-slate-100 dark:hover:bg-slate-700">
                                        <td class="px-4 py-3 font-medium">${expense.category}</td>
                                        <td class="px-4 py-3">${expense.amount}</td>
                                        <td class="px-4 py-3">
                                            <div class="flex items-center gap-1">
                                                <div class="h-1.5 w-20 rounded-full bg-slate-200 dark:bg-slate-700">
                                                    <div class="h-1.5 rounded-full bg-amber-500" style="width: ${expense.percentage}%"></div>
                                                </div>
                                                <span class="text-xs font-medium text-amber-600 dark:text-amber-400">${expense.percentage}%</span>
                                            </div>
                                        </td>
                                        <td class="px-4 py-3">
                                            <div class="flex items-center gap-1">
                                                <span class="material-symbols-outlined text-[14px] ${changeClass}">${changeIcon}</span>
                                                <span class="text-xs font-medium ${changeClass}">${Math.abs(change)}%</span>
                                            </div>
                                        </td>
                                    </tr>
                                `;
                            }).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Monthly Expenses Trend -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Tren Pengeluaran Bulanan</h3>
                <div class="chart-container">
                    <canvas id="monthlyExpensesChart"></canvas>
                </div>
            </div>
        </div>
    `;
    
    // Initialize charts
    setTimeout(() => {
        initializeExpensesCategoryChart();
        initializeMonthlyExpensesChart();
    }, 100);
}

function initializeExpensesCategoryChart() {
    const ctx = document.getElementById('expensesCategoryChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    ctx.chart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: appData.financialData.expensesByCategory.map(expense => expense.category),
            datasets: [{
                data: appData.financialData.expensesByCategory.map(expense => expense.amount),
                backgroundColor: [
                    '#ef4444',
                    '#f59e0b',
                    '#10b981',
                    '#3b82f6',
                    '#8b5cf6'
                ]
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom'
                }
            }
        }
    });
}

function initializeMonthlyExpensesChart() {
    const ctx = document.getElementById('monthlyExpensesChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    // Generate sample monthly expenses data
    const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep'];
    const expenses = [110, 115, 120, 125, 118, 122, 130, 135, 142];
    
    ctx.chart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: months,
            datasets: [{
                label: 'Pengeluaran',
                data: expenses,
                borderColor: '#ef4444',
                backgroundColor: 'rgba(239, 68, 68, 0.1)',
                tension: 0.4,
                fill: true
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: false,
                    title: {
                        display: true,
                        text: 'Juta Rp'
                    }
                }
            }
        }
    });
}

// Profit Tab Functions
function initializeProfitTab() {
    const profitTab = document.getElementById('profit-tab');
    if (!profitTab) return;
    
    // Clear existing content
    profitTab.innerHTML = '';
    
    // Create profit content
    profitTab.innerHTML = `
        <div class="space-y-6">
            <!-- Profit Summary -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">Laba Bersih Bulan Ini</p>
                            <p class="text-2xl font-bold text-slate-900 dark:text-white">Rp 103.5M</p>
                            <p class="text-xs text-success-green">+18.7% dari bulan lalu</p>
                        </div>
                        <div class="p-2 bg-green-100 dark:bg-green-900/30 rounded-lg">
                            <span class="material-symbols-outlined text-green-600 dark:text-green-400">trending_up</span>
                        </div>
                    </div>
                </div>
                <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">Margin Laba</p>
                            <p class="text-2xl font-bold text-slate-900 dark:text-white">42.3%</p>
                            <p class="text-xs text-success-green">+3.2% dari kuartal lalu</p>
                        </div>
                        <div class="p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg">
                            <span class="material-symbols-outlined text-blue-600 dark:text-blue-400">show_chart</span>
                        </div>
                    </div>
                </div>
                <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">Laba Tahun Berjalan</p>
                            <p class="text-2xl font-bold text-slate-900 dark:text-white">Rp 763M</p>
                            <p class="text-xs text-slate-500 dark:text-slate-400">Dari Jan hingga Sep</p>
                        </div>
                        <div class="p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg">
                            <span class="material-symbols-outlined text-amber-600 dark:text-amber-400">account_balance</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Profit & Loss Chart -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Laba Rugi</h3>
                <div class="chart-container mb-6">
                    <canvas id="profitLossChart"></canvas>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-slate-100 dark:bg-slate-700 text-xs font-semibold uppercase text-slate-500 dark:text-slate-400">
                            <tr>
                                <th class="px-4 py-3">Bulan</th>
                                <th class="px-4 py-3">Pendapatan (Juta Rp)</th>
                                <th class="px-4 py-3">Pengeluaran (Juta Rp)</th>
                                <th class="px-4 py-3">Laba (Juta Rp)</th>
                                <th class="px-4 py-3">Margin Laba (%)</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                            ${appData.financialData.monthlyRevenue.map(item => {
                                const margin = ((item.profit / item.revenue) * 100).toFixed(1);
                                let marginClass = margin >= 40 ? 'text-green-600 dark:text-green-400' : margin >= 30 ? 'text-amber-600 dark:text-amber-400' : 'text-red-600 dark:text-red-400';
                                
                                return `
                                    <tr class="hover:bg-slate-100 dark:hover:bg-slate-700">
                                        <td class="px-4 py-3 font-medium">${item.month}</td>
                                        <td class="px-4 py-3">${item.revenue}</td>
                                        <td class="px-4 py-3">${item.expenses}</td>
                                        <td class="px-4 py-3 font-medium">${item.profit}</td>
                                        <td class="px-4 py-3">
                                            <span class="font-medium ${marginClass}">${margin}%</span>
                                        </td>
                                    </tr>
                                `;
                            }).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Profit by Service Type -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Laba berdasarkan Tipe Layanan</h3>
                <div class="chart-container">
                    <canvas id="profitByServiceChart"></canvas>
                </div>
            </div>
        </div>
    `;
    
    // Initialize charts
    setTimeout(() => {
        initializeProfitLossChart();
        initializeProfitByServiceChart();
    }, 100);
}

function initializeProfitLossChart() {
    const ctx = document.getElementById('profitLossChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    const months = appData.financialData.monthlyRevenue.map(item => item.month);
    const revenue = appData.financialData.monthlyRevenue.map(item => item.revenue);
    const expenses = appData.financialData.monthlyRevenue.map(item => item.expenses);
    const profit = appData.financialData.monthlyRevenue.map(item => item.profit);
    
    ctx.chart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: months,
            datasets: [
                {
                    label: 'Pendapatan',
                    data: revenue,
                    backgroundColor: '#10b981'
                },
                {
                    label: 'Pengeluaran',
                    data: expenses,
                    backgroundColor: '#ef4444'
                },
                {
                    label: 'Laba',
                    data: profit,
                    backgroundColor: '#3b82f6'
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Juta Rp'
                    }
                }
            }
        }
    });
}

function initializeProfitByServiceChart() {
    const ctx = document.getElementById('profitByServiceChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    // Calculate profit for each service type (assuming 40-50% profit margin)
    const services = appData.financialData.revenueByService.map(service => {
        const profitMargin = 0.4 + Math.random() * 0.1; // Random between 40-50%
        return {
            name: service.service,
            revenue: service.total,
            profit: Math.round(service.total * profitMargin)
        };
    });
    
    ctx.chart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: services.map(service => service.name),
            datasets: [
                {
                    label: 'Pendapatan',
                    data: services.map(service => service.revenue),
                    backgroundColor: '#10b981'
                },
                {
                    label: 'Laba',
                    data: services.map(service => service.profit),
                    backgroundColor: '#3b82f6'
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Juta Rp'
                    }
                }
            }
        }
    });
}

// Invoices Tab Functions
function initializeInvoicesTab() {
    const invoicesTab = document.getElementById('invoices-tab');
    if (!invoicesTab) return;
    
    // Clear existing content
    invoicesTab.innerHTML = '';
    
    // Create invoices content
    invoicesTab.innerHTML = `
        <div class="space-y-6">
            <!-- Invoices Summary -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">Total Tagihan</p>
                            <p class="text-2xl font-bold text-slate-900 dark:text-white">Rp 67.2M</p>
                            <p class="text-xs text-warning-yellow">-8.3% dari bulan lalu</p>
                        </div>
                        <div class="p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg">
                            <span class="material-symbols-outlined text-amber-600 dark:text-amber-400">request_quote</span>
                        </div>
                    </div>
                </div>
                <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">Tagihan Terbayar</p>
                            <p class="text-2xl font-bold text-slate-900 dark:text-white">Rp 45.8M</p>
                            <p class="text-xs text-slate-500 dark:text-slate-400">68.2% dari total</p>
                        </div>
                        <div class="p-2 bg-green-100 dark:bg-green-900/30 rounded-lg">
                            <span class="material-symbols-outlined text-green-600 dark:text-green-400">check_circle</span>
                        </div>
                    </div>
                </div>
                <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">Tagihan Menunggu</p>
                            <p class="text-2xl font-bold text-slate-900 dark:text-white">Rp 18.5M</p>
                            <p class="text-xs text-slate-500 dark:text-slate-400">27.5% dari total</p>
                        </div>
                        <div class="p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg">
                            <span class="material-symbols-outlined text-blue-600 dark:text-blue-400">schedule</span>
                        </div>
                    </div>
                </div>
                <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-slate-500 dark:text-slate-400">Tagihan Terlambat</p>
                            <p class="text-2xl font-bold text-slate-900 dark:text-white">Rp 2.9M</p>
                            <p class="text-xs text-alert-red">4.3% dari total</p>
                        </div>
                        <div class="p-2 bg-red-100 dark:bg-red-900/30 rounded-lg">
                            <span class="material-symbols-outlined text-red-600 dark:text-red-400">warning</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Invoices Table -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Daftar Tagihan</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-slate-100 dark:bg-slate-700 text-xs font-semibold uppercase text-slate-500 dark:text-slate-400">
                            <tr>
                                <th class="px-4 py-3">No. Tagihan</th>
                                <th class="px-4 py-3">Klien</th>
                                <th class="px-4 py-3">File</th>
                                <th class="px-4 py-3">Jumlah (Rp)</th>
                                <th class="px-4 py-3">Tanggal Jatuh Tempo</th>
                                <th class="px-4 py-3">Status</th>
                                <th class="px-4 py-3 text-right">Aksi</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                            ${generateInvoicesData().map(invoice => {
                                let statusBadge = '';
                                if (invoice.status === 'Paid') {
                                    statusBadge = '<span class="inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-300">Dibayar</span>';
                                } else if (invoice.status === 'Pending') {
                                    statusBadge = '<span class="inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-700 dark:bg-blue-900/30 dark:text-blue-300">Menunggu</span>';
                                } else if (invoice.status === 'Overdue') {
                                    statusBadge = '<span class="inline-flex items-center rounded-full bg-red-100 px-2.5 py-0.5 text-xs font-medium text-red-700 dark:bg-red-900/30 dark:text-red-300">Terlambat</span>';
                                }
                                
                                return `
                                    <tr class="hover:bg-slate-100 dark:hover:bg-slate-700">
                                        <td class="px-4 py-3 font-mono">${invoice.id}</td>
                                        <td class="px-4 py-3">${invoice.client}</td>
                                        <td class="px-4 py-3 font-mono">${invoice.fileId}</td>
                                        <td class="px-4 py-3">${invoice.amount}</td>
                                        <td class="px-4 py-3">${invoice.dueDate}</td>
                                        <td class="px-4 py-3">${statusBadge}</td>
                                        <td class="px-4 py-3 text-right">
                                            <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800">
                                                <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">visibility</span>
                                            </button>
                                            <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800">
                                                <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">download</span>
                                            </button>
                                        </td>
                                    </tr>
                                `;
                            }).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- Invoice Aging Chart -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-4">Usia Tagihan</h3>
                <div class="chart-container">
                    <canvas id="invoiceAgingChart"></canvas>
                </div>
            </div>
        </div>
    `;
    
    // Initialize charts
    setTimeout(() => {
        initializeInvoiceAgingChart();
    }, 100);
}

function generateInvoicesData() {
    // Generate sample invoices data
    const clients = appData.clients.map(client => client.name);
    const files = appData.files.map(file => file.id);
    const statuses = ['Paid', 'Pending', 'Overdue'];
    const invoices = [];
    
    for (let i = 1; i <= 15; i++) {
        const randomClient = clients[Math.floor(Math.random() * clients.length)];
        const randomFile = files[Math.floor(Math.random() * files.length)];
        const randomStatus = statuses[Math.floor(Math.random() * statuses.length)];
        const randomAmount = Math.floor(Math.random() * 10) + 1; // 1-10 million
        
        // Generate due date
        const today = new Date();
        const dueDate = new Date(today);
        dueDate.setDate(today.getDate() + Math.floor(Math.random() * 60) - 30); // -30 to +30 days
        
        invoices.push({
            id: `INV-2024-${String(i).padStart(3, '0')}`,
            client: randomClient,
            fileId: randomFile,
            amount: `Rp ${randomAmount}.0M`,
            dueDate: formatDate(dueDate),
            status: randomStatus
        });
    }
    
    return invoices;
}

function initializeInvoiceAgingChart() {
    const ctx = document.getElementById('invoiceAgingChart');
    if (!ctx) return;
    
    // Destroy existing chart if it exists
    if (ctx.chart) {
        ctx.chart.destroy();
    }
    
    ctx.chart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['0-30 Hari', '31-60 Hari', '61-90 Hari', '> 90 Hari'],
            datasets: [{
                label: 'Jumlah Tagihan (Juta Rp)',
                data: [45.8, 15.2, 2.5, 0.4],
                backgroundColor: [
                    '#10b981',
                    '#3b82f6',
                    '#f59e0b',
                    '#ef4444'
                ]
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Juta Rp'
                    }
                }
            }
        }
    });
}

// Branding Tab Functions
function initializeBrandingTab() {
    const brandingTab = document.getElementById('branding-tab');
    if (!brandingTab) return;
    
    // Clear existing content
    brandingTab.innerHTML = '';
    
    // Create branding content
    brandingTab.innerHTML = `
        <div class="space-y-6">
            <!-- Logo Upload -->
            <div>
                <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Logo Perusahaan</h3>
                <div class="flex items-center gap-6">
                    <div class="h-24 w-24 rounded-lg bg-slate-100 dark:bg-slate-800 flex items-center justify-center border-2 border-dashed border-slate-300 dark:border-slate-600">
                        <span class="material-symbols-outlined text-3xl text-slate-400">add_photo_alternate</span>
                    </div>
                    <div>
                        <p class="text-sm text-slate-600 dark:text-slate-400 mb-2">Unggah logo perusahaan Anda</p>
                        <p class="text-xs text-slate-500 dark:text-slate-500 mb-4">Format yang didukung: PNG, JPG, SVG. Maksimal 2MB.</p>
                        <button class="px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary-dark">
                            Pilih File
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Color Scheme -->
            <div>
                <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Skema Warna</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Warna Primer</label>
                        <div class="flex items-center gap-3">
                            <div class="h-10 w-10 rounded-lg bg-primary border border-slate-200 dark:border-slate-700"></div>
                            <input type="text" value="${appData.companySettings.branding.primaryColor}" class="flex-1 rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Warna Sekunder</label>
                        <div class="flex items-center gap-3">
                            <div class="h-10 w-10 rounded-lg bg-executive border border-slate-200 dark:border-slate-700"></div>
                            <input type="text" value="${appData.companySettings.branding.secondaryColor}" class="flex-1 rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Typography -->
            <div>
                <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Tipografi</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Font Keluarga</label>
                        <select class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                            <option ${appData.companySettings.branding.fontFamily === 'Manrope' ? 'selected' : ''}>Manrope</option>
                            <option ${appData.companySettings.branding.fontFamily === 'Inter' ? 'selected' : ''}>Inter</option>
                            <option ${appData.companySettings.branding.fontFamily === 'Roboto' ? 'selected' : ''}>Roboto</option>
                            <option ${appData.companySettings.branding.fontFamily === 'Poppins' ? 'selected' : ''}>Poppins</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Ukuran Font Dasar</label>
                        <select class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                            <option>12px</option>
                            <option selected>14px</option>
                            <option>16px</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- Favicon -->
            <div>
                <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Favicon</h3>
                <div class="flex items-center gap-6">
                    <div class="h-16 w-16 rounded-lg bg-slate-100 dark:bg-slate-800 flex items-center justify-center border-2 border-dashed border-slate-300 dark:border-slate-600">
                        <span class="material-symbols-outlined text-2xl text-slate-400">add_photo_alternate</span>
                    </div>
                    <div>
                        <p class="text-sm text-slate-600 dark:text-slate-400 mb-2">Unggah favicon untuk browser</p>
                        <p class="text-xs text-slate-500 dark:text-slate-500 mb-4">Format yang didukung: PNG, ICO. Ukuran yang disarankan: 32x32px.</p>
                        <button class="px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary-dark">
                            Pilih File
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Preview -->
            <div>
                <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Pratinjau</h3>
                <div class="border border-slate-200 dark:border-slate-700 rounded-lg p-6">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="h-10 w-10 rounded-lg bg-primary flex items-center justify-center text-white font-bold">ND</div>
                        <h4 class="text-xl font-bold text-slate-900 dark:text-white">NotaryDoc Tracker</h4>
                    </div>
                    <p class="text-slate-600 dark:text-slate-400 mb-4">Sistem Pelacakan Dokumen Notaris</p>
                    <button class="px-4 py-2 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary-dark">
                        Tombol Primer
                    </button>
                    <button class="px-4 py-2 bg-executive text-white rounded-lg text-sm font-medium hover:bg-executive-dark ml-2">
                        Tombol Sekunder
                    </button>
                </div>
            </div>
            
            <div class="flex justify-end">
                <button class="px-4 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark">
                    Simpan Perubahan
                </button>
            </div>
        </div>
    `;
}

// Integrations Tab Functions
function initializeIntegrationsTab() {
    const integrationsTab = document.getElementById('integrations-tab');
    if (!integrationsTab) return;
    
    // Clear existing content
    integrationsTab.innerHTML = '';
    
    // Create integrations content
    integrationsTab.innerHTML = `
        <div class="space-y-6">
            <!-- BPN Integration -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-slate-900 dark:text-white">Integrasi BPN</h3>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer" ${appData.companySettings.integrations.bpn.enabled ? 'checked' : ''}>
                        <div class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 dark:peer-focus:ring-primary/30 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"></div>
                    </label>
                </div>
                <p class="text-sm text-slate-600 dark:text-slate-400 mb-4">Terhubung dengan sistem Badan Pertanahan Nasional untuk verifikasi data sertifikat secara otomatis.</p>
                <div class="space-y-3">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">API Key</label>
                        <div class="flex gap-2">
                            <input type="password" value="${appData.companySettings.integrations.bpn.apiKey}" class="flex-1 rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                            <button class="px-4 py-2 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-medium hover:bg-slate-300 dark:hover:bg-slate-600">
                                Uji
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- DJKP Integration -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-slate-900 dark:text-white">Integrasi DJKP</h3>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer" ${appData.companySettings.integrations.djkp.enabled ? 'checked' : ''}>
                        <div class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 dark:peer-focus:ring-primary/30 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"></div>
                    </label>
                </div>
                <p class="text-sm text-slate-600 dark:text-slate-400 mb-4">Terhubung dengan sistem Direktorat Jenderal Kekayaan Negara untuk verifikasi data pajak.</p>
                <div class="space-y-3">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">API Key</label>
                        <div class="flex gap-2">
                            <input type="password" value="${appData.companySettings.integrations.djkp.apiKey}" class="flex-1 rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                            <button class="px-4 py-2 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-medium hover:bg-slate-300 dark:hover:bg-slate-600">
                                Uji
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Email Integration -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-slate-900 dark:text-white">Integrasi Email</h3>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer" ${appData.companySettings.integrations.email.enabled ? 'checked' : ''}>
                        <div class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 dark:peer-focus:ring-primary/30 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"></div>
                    </label>
                </div>
                <p class="text-sm text-slate-600 dark:text-slate-400 mb-4">Konfigurasi pengiriman email otomatis untuk notifikasi dan dokumen.</p>
                <div class="space-y-3">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Provider</label>
                        <select class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                            <option ${appData.companySettings.integrations.email.provider === 'SMTP' ? 'selected' : ''}>SMTP</option>
                            <option ${appData.companySettings.integrations.email.provider === 'SendGrid' ? 'selected' : ''}>SendGrid</option>
                            <option ${appData.companySettings.integrations.email.provider === 'Mailgun' ? 'selected' : ''}>Mailgun</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Server SMTP</label>
                        <input type="text" value="${appData.companySettings.integrations.email.server}" class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                    </div>
                </div>
            </div>
            
            <!-- SMS Integration -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-slate-900 dark:text-white">Integrasi SMS</h3>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer" ${appData.companySettings.integrations.sms.enabled ? 'checked' : ''}>
                        <div class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 dark:peer-focus:ring-primary/30 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"></div>
                    </label>
                </div>
                <p class="text-sm text-slate-600 dark:text-slate-400 mb-4">Konfigurasi pengiriman SMS otomatis untuk notifikasi penting.</p>
                <div class="space-y-3">
                    <div>
                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">Provider</label>
                        <select class="w-full rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                            <option ${appData.companySettings.integrations.sms.provider === 'Twilio' ? 'selected' : ''}>Twilio</option>
                            <option ${appData.companySettings.integrations.sms.provider === 'Nexmo' ? 'selected' : ''}>Nexmo</option>
                            <option ${appData.companySettings.integrations.sms.provider === 'WhatsApp Business' ? 'selected' : ''}>WhatsApp Business</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">API Key</label>
                        <div class="flex gap-2">
                            <input type="password" value="${appData.companySettings.integrations.sms.apiKey}" class="flex-1 rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                            <button class="px-4 py-2 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-medium hover:bg-slate-300 dark:hover:bg-slate-600">
                                Uji
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="flex justify-end">
                <button class="px-4 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark">
                    Simpan Perubahan
                </button>
            </div>
        </div>
    `;
}

// Security Tab Functions
function initializeSecurityTab() {
    const securityTab = document.getElementById('security-tab');
    if (!securityTab) return;
    
    // Clear existing content
    securityTab.innerHTML = '';
    
    // Create security content
    securityTab.innerHTML = `
        <div class="space-y-6">
            <!-- Two-Factor Authentication -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-slate-900 dark:text-white">Autentikasi Dua Faktor</h3>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer" ${appData.companySettings.security.twoFactorAuth ? 'checked' : ''}>
                        <div class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 dark:peer-focus:ring-primary/30 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"></div>
                    </label>
                </div>
                <p class="text-sm text-slate-600 dark:text-slate-400">Tambahkan lapisan keamanan ekstra dengan meminta kode verifikasi saat login.</p>
            </div>
            
            <!-- Session Timeout -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Timeout Sesi</h3>
                <p class="text-sm text-slate-600 dark:text-slate-400 mb-4">Atur durasi sesi pengguna sebelum otomatis logout karena tidak ada aktivitas.</p>
                <div class="flex items-center gap-4">
                    <input type="range" min="5" max="120" value="${appData.companySettings.security.sessionTimeout}" class="flex-1">
                    <div class="w-20 text-center">
                        <span class="text-sm font-medium text-slate-900 dark:text-white">${appData.companySettings.security.sessionTimeout} menit</span>
                    </div>
                </div>
            </div>
            
            <!-- Password Policy -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Kebijakan Kata Sandi</h3>
                <p class="text-sm text-slate-600 dark:text-slate-400 mb-4">Atur persyaratan kata sandi untuk semua pengguna.</p>
                <div class="space-y-3">
                    <label class="flex items-center gap-3">
                        <input type="radio" name="passwordPolicy" value="weak" class="text-primary focus:ring-primary">
                        <div>
                            <span class="text-sm font-medium text-slate-900 dark:text-white">Lemah</span>
                            <p class="text-xs text-slate-500 dark:text-slate-400">Minimal 6 karakter</p>
                        </div>
                    </label>
                    <label class="flex items-center gap-3">
                        <input type="radio" name="passwordPolicy" value="medium" class="text-primary focus:ring-primary">
                        <div>
                            <span class="text-sm font-medium text-slate-900 dark:text-white">Sedang</span>
                            <p class="text-xs text-slate-500 dark:text-slate-400">Minimal 8 karakter, kombinasi huruf dan angka</p>
                        </div>
                    </label>
                    <label class="flex items-center gap-3">
                        <input type="radio" name="passwordPolicy" value="strong" class="text-primary focus:ring-primary" ${appData.companySettings.security.passwordPolicy === 'strong' ? 'checked' : ''}>
                        <div>
                            <span class="text-sm font-medium text-slate-900 dark:text-white">Kuat</span>
                            <p class="text-xs text-slate-500 dark:text-slate-400">Minimal 8 karakter, kombinasi huruf, angka, dan simbol</p>
                        </div>
                    </label>
                </div>
            </div>
            
            <!-- IP Whitelist -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Whitelist IP</h3>
                <p class="text-sm text-slate-600 dark:text-slate-400 mb-4">Batasi akses hanya dari alamat IP yang diizinkan.</p>
                <div class="space-y-3">
                    ${appData.companySettings.security.ipWhitelist.map((ip, index) => `
                        <div class="flex items-center gap-2">
                            <input type="text" value="${ip}" class="flex-1 rounded-lg border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm focus:border-primary focus:ring-primary py-2.5 px-4">
                            <button class="p-2 rounded-lg bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600">
                                <span class="material-symbols-outlined">delete</span>
                            </button>
                        </div>
                    `).join('')}
                    <button class="px-4 py-2 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-medium hover:bg-slate-300 dark:hover:bg-slate-600">
                        <span class="material-symbols-outlined text-[18px] align-middle mr-1">add</span>
                        Tambah IP
                    </button>
                </div>
            </div>
            
            <!-- Audit Logging -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-slate-900 dark:text-white">Log Audit</h3>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer" ${appData.companySettings.security.auditLogging ? 'checked' : ''}>
                        <div class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 dark:peer-focus:ring-primary/30 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"></div>
                    </label>
                </div>
                <p class="text-sm text-slate-600 dark:text-slate-400">Catat semua aktivitas pengguna untuk tujuan audit dan keamanan.</p>
            </div>
            
            <div class="flex justify-end">
                <button class="px-4 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark">
                    Simpan Perubahan
                </button>
            </div>
        </div>
    `;
}

// Compliance Tab Functions
function initializeComplianceTab() {
    const complianceTab = document.getElementById('compliance-tab');
    if (!complianceTab) return;
    
    // Clear existing content
    complianceTab.innerHTML = '';
    
    // Create compliance content
    complianceTab.innerHTML = `
        <div class="space-y-6">
            <!-- Data Retention -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Retensi Data</h3>
                <p class="text-sm text-slate-600 dark:text-slate-400 mb-4">Atur periode retensi data untuk dokumen klien sesuai regulasi.</p>
                <div class="flex items-center gap-4">
                    <input type="range" min="1" max="10" value="${appData.companySettings.compliance.dataRetention}" class="flex-1">
                    <div class="w-20 text-center">
                        <span class="text-sm font-medium text-slate-900 dark:text-white">${appData.companySettings.compliance.dataRetention} tahun</span>
                    </div>
                </div>
            </div>
            
            <!-- Backup Frequency -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Frekuensi Backup</h3>
                <p class="text-sm text-slate-600 dark:text-slate-400 mb-4">Atur seberapa sering sistem melakukan backup otomatis.</p>
                <div class="space-y-3">
                    <label class="flex items-center gap-3">
                        <input type="radio" name="backupFrequency" value="hourly" class="text-primary focus:ring-primary">
                        <div>
                            <span class="text-sm font-medium text-slate-900 dark:text-white">Setiap Jam</span>
                        </div>
                    </label>
                    <label class="flex items-center gap-3">
                        <input type="radio" name="backupFrequency" value="daily" class="text-primary focus:ring-primary" ${appData.companySettings.compliance.backupFrequency === 'daily' ? 'checked' : ''}>
                        <div>
                            <span class="text-sm font-medium text-slate-900 dark:text-white">Harian</span>
                        </div>
                    </label>
                    <label class="flex items-center gap-3">
                        <input type="radio" name="backupFrequency" value="weekly" class="text-primary focus:ring-primary">
                        <div>
                            <span class="text-sm font-medium text-slate-900 dark:text-white">Mingguan</span>
                        </div>
                    </label>
                    <label class="flex items-center gap-3">
                        <input type="radio" name="backupFrequency" value="monthly" class="text-primary focus:ring-primary">
                        <div>
                            <span class="text-sm font-medium text-slate-900 dark:text-white">Bulanan</span>
                        </div>
                    </label>
                </div>
            </div>
            
            <!-- Encryption -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Enkripsi</h3>
                <p class="text-sm text-slate-600 dark:text-slate-400 mb-4">Pilih standar enkripsi untuk data sensitif.</p>
                <div class="space-y-3">
                    <label class="flex items-center gap-3">
                        <input type="radio" name="encryption" value="AES-128" class="text-primary focus:ring-primary">
                        <div>
                            <span class="text-sm font-medium text-slate-900 dark:text-white">AES-128</span>
                            <p class="text-xs text-slate-500 dark:text-slate-400">Standar industri yang baik</p>
                        </div>
                    </label>
                    <label class="flex items-center gap-3">
                        <input type="radio" name="encryption" value="AES-256" class="text-primary focus:ring-primary" ${appData.companySettings.compliance.encryption === 'AES-256' ? 'checked' : ''}>
                        <div>
                            <span class="text-sm font-medium text-slate-900 dark:text-white">AES-256</span>
                            <p class="text-xs text-slate-500 dark:text-slate-400">Keamanan tingkat tertinggi</p>
                        </div>
                    </label>
                </div>
            </div>
            
            <!-- GDPR Compliance -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-slate-900 dark:text-white">Kepatuhan GDPR</h3>
                    <label class="inline-flex items-center cursor-pointer">
                        <input type="checkbox" class="sr-only peer" ${appData.companySettings.compliance.gdprCompliant ? 'checked' : ''}>
                        <div class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 dark:peer-focus:ring-primary/30 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"></div>
                    </label>
                </div>
                <p class="text-sm text-slate-600 dark:text-slate-400">Aktifkan fitur kepatuhan GDPR untuk perlindungan data pelanggan Eropa.</p>
            </div>
            
            <!-- Audit Frequency -->
            <div class="bg-slate-50 dark:bg-slate-800 rounded-xl p-6">
                <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Frekuensi Audit</h3>
                <p class="text-sm text-slate-600 dark:text-slate-400 mb-4">Atur seberapa sering sistem melakukan audit kepatuhan.</p>
                <div class="space-y-3">
                    <label class="flex items-center gap-3">
                        <input type="radio" name="auditFrequency" value="weekly" class="text-primary focus:ring-primary">
                        <div>
                            <span class="text-sm font-medium text-slate-900 dark:text-white">Mingguan</span>
                        </div>
                    </label>
                    <label class="flex items-center gap-3">
                        <input type="radio" name="auditFrequency" value="monthly" class="text-primary focus:ring-primary" ${appData.companySettings.compliance.auditFrequency === 'monthly' ? 'checked' : ''}>
                        <div>
                            <span class="text-sm font-medium text-slate-900 dark:text-white">Bulanan</span>
                        </div>
                    </label>
                    <label class="flex items-center gap-3">
                        <input type="radio" name="auditFrequency" value="quarterly" class="text-primary focus:ring-primary">
                        <div>
                            <span class="text-sm font-medium text-slate-900 dark:text-white">Kuartalan</span>
                        </div>
                    </label>
                </div>
            </div>
            
            <div class="flex justify-end">
                <button class="px-4 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary-dark">
                    Simpan Perubahan
                </button>
            </div>
        </div>
    `;
}

// Company Settings Functions
function updateCompanySettings() {
    // This function is called when navigating to the company settings page
    // It ensures the general tab is properly populated with data
    
    const generalTab = document.getElementById('general-tab');
    if (!generalTab) return;
    
    // Update form fields with current data
    const companyNameInput = generalTab.querySelector('input[value="NotaryDoc Tracker"]');
    if (companyNameInput) companyNameInput.value = appData.companySettings.general.companyName;
    
    const phoneInput = generalTab.querySelector('input[value="(021) 555-1234"]');
    if (phoneInput) phoneInput.value = appData.companySettings.general.phoneNumber;
    
    const emailInput = generalTab.querySelector('input[value="info@notarydoc.com"]');
    if (emailInput) emailInput.value = appData.companySettings.general.email;
    
    const websiteInput = generalTab.querySelector('input[value="https://notarydoc.com"]');
    if (websiteInput) websiteInput.value = appData.companySettings.general.website;
    
    const addressTextarea = generalTab.querySelector('textarea');
    if (addressTextarea) addressTextarea.value = appData.companySettings.general.address;
    
    const cityInput = generalTab.querySelector('input[value="Jakarta"]');
    if (cityInput) cityInput.value = appData.companySettings.general.city;
    
    const postalCodeInput = generalTab.querySelector('input[value="10110"]');
    if (postalCodeInput) postalCodeInput.value = appData.companySettings.general.postalCode;
    
    // Update select elements
    const timezoneSelect = generalTab.querySelector('select');
    if (timezoneSelect) {
        for (let i = 0; i < timezoneSelect.options.length; i++) {
            if (timezoneSelect.options[i].text === appData.companySettings.general.timezone) {
                timezoneSelect.selectedIndex = i;
                break;
            }
        }
    }
    
    const dateFormatSelect = generalTab.querySelectorAll('select')[1];
    if (dateFormatSelect) {
        for (let i = 0; i < dateFormatSelect.options.length; i++) {
            if (dateFormatSelect.options[i].value === appData.companySettings.general.dateFormat) {
                dateFormatSelect.selectedIndex = i;
                break;
            }
        }
    }
    
    const currencySelect = generalTab.querySelectorAll('select')[2];
    if (currencySelect) {
        for (let i = 0; i < currencySelect.options.length; i++) {
            if (currencySelect.options[i].text === appData.companySettings.general.currency) {
                currencySelect.selectedIndex = i;
                break;
            }
        }
    }
}

// Staff Performance Functions
function updateStaffPerformanceTable() {
    // This function is called when navigating to the staff performance page
    // It ensures the staff performance table is properly populated with data
    
    const tableBody = document.querySelector('#staff_performance tbody');
    if (!tableBody) return;
    
    // Clear existing content
    tableBody.innerHTML = '';
    
    // Populate table with staff performance data
    appData.performanceData.staffPerformance.forEach(staff => {
        const row = document.createElement('tr');
        row.className = 'staff-performance-row';
        
        // Get staff initials
        const initials = staff.name.split(' ').map(n => n[0]).join('');
        
        // Create row content
        row.innerHTML = `
            <td class="px-6 py-4">
                <div class="flex items-center gap-3">
                    <div class="h-10 w-10 rounded-full bg-blue-600 flex items-center justify-center text-white text-sm font-bold">${initials}</div>
                    <div>
                        <p class="font-medium text-slate-900 dark:text-white">${staff.name}</p>
                        <p class="text-xs text-slate-500 dark:text-slate-400">ID: STF-${Math.floor(Math.random() * 1000).toString().padStart(3, '0')}</p>
                    </div>
                </div>
            </td>
            <td class="px-6 py-4">
                <span class="inline-flex items-center rounded-md bg-purple-100 dark:bg-purple-900/30 px-2 py-1 text-xs font-medium text-purple-700 dark:text-purple-300">
                    ${Math.random() > 0.5 ? 'Notaris Senior' : 'Notaris Junior'}
                </span>
            </td>
            <td class="px-6 py-4">${staff.filesCompleted}</td>
            <td class="px-6 py-4">${staff.avgTime} hari</td>
            <td class="px-6 py-4">${staff.satisfaction}/5.0</td>
            <td class="px-6 py-4">${staff.efficiency}%</td>
            <td class="px-6 py-4">
                <div class="flex items-center gap-1">
                    <div class="h-1.5 w-20 rounded-full bg-slate-200 dark:bg-slate-700">
                        <div class="h-1.5 rounded-full bg-green-500" style="width: ${staff.efficiency}%"></div>
                    </div>
                    <span class="text-xs font-medium text-green-600 dark:text-green-400">${staff.efficiency}%</span>
                </div>
            </td>
            <td class="px-6 py-4 text-right">
                <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800">
                    <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">visibility</span>
                </button>
            </td>
        `;
        
        tableBody.appendChild(row);
    });
}

// User Management Functions
function updateUserManagementTable() {
    // This function is called when navigating to the user management page
    // It ensures the user management table is properly populated with data
    
    const tableBody = document.querySelector('#user_management tbody');
    if (!tableBody) return;
    
    // Clear existing content
    tableBody.innerHTML = '';
    
    // Generate sample users
    const users = [
        { name: 'Sarah Wijaya', email: 'sarah.wijaya@notarydoc.com', role: 'Executive', department: 'Manajemen', status: 'Aktif', lastLogin: '2 jam yang lalu', permissions: ['Semua'] },
        { name: 'Bambang Santoso', email: 'bambang.santoso@notarydoc.com', role: 'Manager', department: 'Operasional', status: 'Aktif', lastLogin: '1 hari yang lalu', permissions: ['File', 'Klien', 'Laporan'] },
        { name: 'Rina Anggraini', email: 'rina.anggraini@notarydoc.com', role: 'Staff', department: 'Notaris', status: 'Aktif', lastLogin: '3 hari yang lalu', permissions: ['File', 'Klien'] },
        { name: 'Ahmad Fadli', email: 'ahmad.fadli@notarydoc.com', role: 'Staff', department: 'Notaris', status: 'Aktif', lastLogin: '5 jam yang lalu', permissions: ['File', 'Klien'] },
        { name: 'Dewi Lestari', email: 'dewi.lestari@notarydoc.com', role: 'Manager', department: 'Keuangan', status: 'Aktif', lastLogin: '1 jam yang lalu', permissions: ['Laporan Keuangan', 'Laporan'] },
        { name: 'Hendro Mulyono', email: 'hendro.mulyono@notarydoc.com', role: 'Staff', department: 'Admin', status: 'Nonaktif', lastLogin: '2 minggu yang lalu', permissions: ['File'] }
    ];
    
    // Populate table with user data
    users.forEach(user => {
        const row = document.createElement('tr');
        row.className = 'hover:bg-slate-50 dark:hover:bg-slate-800/50';
        
        // Get user initials
        const initials = user.name.split(' ').map(n => n[0]).join('');
        
        // Determine role badge class
        let roleBadgeClass = 'role-badge role-staff';
        if (user.role === 'Executive') {
            roleBadgeClass = 'role-badge role-executive';
        } else if (user.role === 'Manager') {
            roleBadgeClass = 'role-badge role-manager';
        }
        
        // Create row content
        row.innerHTML = `
            <td class="px-6 py-4">
                <div class="flex items-center gap-3">
                    <div class="h-10 w-10 rounded-full bg-blue-600 flex items-center justify-center text-white text-sm font-bold">${initials}</div>
                    <div>
                        <p class="font-medium text-slate-900 dark:text-white">${user.name}</p>
                        <p class="text-xs text-slate-500 dark:text-slate-400">${user.email}</p>
                    </div>
                </div>
            </td>
            <td class="px-6 py-4">
                <span class="${roleBadgeClass}">${user.role}</span>
            </td>
            <td class="px-6 py-4">${user.department}</td>
            <td class="px-6 py-4">
                <span class="inline-flex items-center rounded-full ${user.status === 'Aktif' ? 'bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-300' : 'bg-slate-100 px-2.5 py-0.5 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300'}">
                    ${user.status}
                </span>
            </td>
            <td class="px-6 py-4">${user.lastLogin}</td>
            <td class="px-6 py-4">
                <div class="flex flex-wrap gap-1">
                    ${user.permissions.map(perm => `
                        <span class="inline-flex items-center rounded-md bg-slate-100 px-2 py-1 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300">
                            ${perm}
                        </span>
                    `).join('')}
                </div>
            </td>
            <td class="px-6 py-4 text-right">
                <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800">
                    <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">edit</span>
                </button>
                <button class="p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800">
                    <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">more_vert</span>
                </button>
            </td>
        `;
        
        tableBody.appendChild(row);
    });
}

// Audit Logs Functions
function updateAuditLogsTable() {
    // This function is called when navigating to the audit logs page
    // It ensures the audit logs table is properly populated with data
    
    const tableBody = document.querySelector('#audit_logs tbody');
    if (!tableBody) return;
    
    // Clear existing content
    tableBody.innerHTML = '';
    
    // Generate sample audit logs
    const auditLogs = [
        { date: '28 Okt 2023', time: '14:35:22', user: 'Sarah Wijaya', userRole: 'Executive', action: 'Create', module: 'File', detail: 'Membuat file baru #2024/05/043', ipAddress: '192.168.1.1' },
        { date: '28 Okt 2023', time: '13:22:15', user: 'Bambang Santoso', userRole: 'Manager', action: 'Update', module: 'Klien', detail: 'Memperbarui informasi klien CLI-005', ipAddress: '192.168.1.2' },
        { date: '28 Okt 2023', time: '11:45:33', user: 'Rina Anggraini', userRole: 'Staff', action: 'Export', module: 'Laporan', detail: 'Mengekspor laporan bulanan', ipAddress: '192.168.1.3' },
        { date: '27 Okt 2023', time: '16:12:08', user: 'Sarah Wijaya', userRole: 'Executive', action: 'Login', module: 'Sistem', detail: 'Login ke sistem', ipAddress: '192.168.1.1' },
        { date: '27 Okt 2023', time: '14:30:45', user: 'Ahmad Fadli', userRole: 'Staff', action: 'Create', module: 'File', detail: 'Membuat file baru #2024/05/042', ipAddress: '192.168.1.4' },
        { date: '27 Okt 2023', time: '10:15:22', user: 'Dewi Lestari', userRole: 'Manager', action: 'Update', module: 'Pengaturan', detail: 'Memperbarui pengaturan notifikasi', ipAddress: '192.168.1.5' },
        { date: '26 Okt 2023', time: '15:45:10', user: 'Hendro Mulyono', userRole: 'Staff', action: 'Delete', module: 'File', detail: 'Menghapus file #2024/04/099', ipAddress: '192.168.1.6' },
        { date: '26 Okt 2023', time: '09:30:55', user: 'Bambang Santoso', userRole: 'Manager', action: 'Create', module: 'Klien', detail: 'Membuat klien baru CLI-015', ipAddress: '192.168.1.2' }
    ];
    
    // Populate table with audit log data
    auditLogs.forEach(log => {
        const row = document.createElement('tr');
        row.className = 'audit-log-row';
        
        // Get user initials
        const initials = log.user.split(' ').map(n => n[0]).join('');
        
        // Determine action badge color
        let actionBadgeClass = 'bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300';
        if (log.action === 'Update') {
            actionBadgeClass = 'bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300';
        } else if (log.action === 'Delete') {
            actionBadgeClass = 'bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300';
        } else if (log.action === 'Export') {
            actionBadgeClass = 'bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300';
        } else if (log.action === 'Login') {
            actionBadgeClass = 'bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300';
        }
        
        // Create row content
        row.innerHTML = `
            <td class="px-6 py-4 whitespace-nowrap">
                <div class="text-sm text-slate-900 dark:text-white">${log.date}</div>
                <div class="text-xs text-slate-500 dark:text-slate-400">${log.time}</div>
            </td>
            <td class="px-6 py-4">
                <div class="flex items-center gap-2">
                    <div class="h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center text-white text-xs font-bold">${initials}</div>
                    <div>
                        <p class="text-sm font-medium text-slate-900 dark:text-white">${log.user}</p>
                        <p class="text-xs text-slate-500 dark:text-slate-400">${log.userRole}</p>
                    </div>
                </div>
            </td>
            <td class="px-6 py-4">
                <span class="inline-flex items-center rounded-md ${actionBadgeClass} px-2.5 py-0.5 text-xs font-medium">
                    ${log.action}
                </span>
            </td>
            <td class="px-6 py-4">${log.module}</td>
            <td class="px-6 py-4">${log.detail}</td>
            <td class="px-6 py-4 text-sm text-slate-500 dark:text-slate-400">${log.ipAddress}</td>
        `;
        
        tableBody.appendChild(row);
    });
}

// Files Page Functions
function updateFilesTable() {
    const tableBody = document.getElementById('filesTableBody');
    if (!tableBody) return;
    
    // Clear existing content
    tableBody.innerHTML = '';
    
    // Sort files (overdue first)
    const sortedFiles = [...appData.files].sort((a, b) => {
        if (a.status === 'Overdue' && b.status !== 'Overdue') return -1;
        if (a.status !== 'Overdue' && b.status === 'Overdue') return 1;
        return 0;
    });
    
    // Populate table
    sortedFiles.forEach(file => {
        const row = createFileTableRow(file);
        tableBody.appendChild(row);
    });
}

function createFileTableRow(file) {
    const row = document.createElement('tr');
    
    // Determine row class based on status
    if (file.status === 'Overdue') {
        row.className = 'table-row group bg-red-50/50 hover:bg-red-50 dark:bg-red-900/10 dark:hover:bg-red-900/20 transition-colors';
    } else {
        row.className = 'table-row group hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors';
    }
    
    // Create file number cell
    const fileNumberCell = document.createElement('td');
    fileNumberCell.className = 'whitespace-nowrap px-6 py-4 font-mono font-medium text-slate-600 dark:text-slate-300';
    
    if (file.status === 'Overdue') {
        fileNumberCell.className = 'whitespace-nowrap px-6 py-4 font-mono font-medium text-slate-900 dark:text-white';
        fileNumberCell.innerHTML = `
            <div class="flex items-center gap-2">
                <span class="h-2 w-2 rounded-full bg-alert-red animate-pulse"></span>
                ${file.id}
            </div>
        `;
    } else {
        fileNumberCell.textContent = file.id;
    }
    
    // Create client name cell
    const clientNameCell = document.createElement('td');
    clientNameCell.className = 'whitespace-nowrap px-6 py-4 text-slate-700 dark:text-slate-200';
    
    // Get client initials
    const initials = getClientInitials(file.clientName);
    const avatarColor = getAvatarColor(file.clientName);
    
    clientNameCell.innerHTML = `
        <div class="flex items-center gap-3">
            <div class="h-8 w-8 rounded-full ${avatarColor} flex items-center justify-center text-white text-xs font-bold">
                ${initials}
            </div>
            ${file.status === 'Overdue' ? 
                `<span class="font-semibold text-slate-900 dark:text-white">${file.clientName}</span>` : 
                file.clientName
            }
        </div>
    `;
    
    // Create service type cell
    const serviceTypeCell = document.createElement('td');
    serviceTypeCell.className = 'whitespace-nowrap px-6 py-4';
    const serviceTypeColor = getServiceTypeColor(file.serviceType);
    serviceTypeCell.innerHTML = `
        <span class="inline-flex items-center rounded-md ${serviceTypeColor} px-2 py-1 text-xs font-medium">
            ${file.serviceType}
        </span>
    `;
    
    // Create progress cell
    const progressCell = document.createElement('td');
    progressCell.className = 'px-6 py-4';
    const progressColor = file.status === 'Overdue' ? 'bg-alert-red' : 'bg-primary';
    const stageStatusColor = file.status === 'Overdue' ? 'text-alert-red' : 'text-slate-500';
    const stageStatusText = file.status === 'Overdue' ? file.stageStatus : file.progress + '%';
    
    progressCell.innerHTML = `
        <div class="flex flex-col gap-1.5">
            <div class="flex justify-between text-xs text-slate-500 dark:text-slate-400">
                <span>${file.currentStage}</span>
                <span class="font-bold ${stageStatusColor}">${stageStatusText}</span>
            </div>
            <div class="h-1.5 w-full rounded-full bg-slate-200 dark:bg-slate-700">
                <div class="h-1.5 rounded-full ${progressColor}" style="width: ${file.progress}%"></div>
            </div>
        </div>
    `;
    
    // Create estimated completion cell
    const completionCell = document.createElement('td');
    completionCell.className = 'whitespace-nowrap px-6 py-4';
    
    if (file.status === 'Overdue') {
        completionCell.className = 'whitespace-nowrap px-6 py-4 text-alert-red font-bold';
        completionCell.innerHTML = `
            ${file.estimatedCompletion}
            <span class="block text-[10px] font-normal opacity-80">${file.daysOverdue} days overdue</span>
        `;
    } else {
        completionCell.innerHTML = `<div class="text-sm text-slate-600 dark:text-slate-400">${file.estimatedCompletion}</div>`;
    }
    
    // Create status cell
    const statusCell = document.createElement('td');
    statusCell.className = 'whitespace-nowrap px-6 py-4';
    statusCell.innerHTML = createStatusBadge(file.status);
    
    // Create actions cell
    const actionsCell = document.createElement('td');
    actionsCell.className = 'whitespace-nowrap px-6 py-4 text-right';
    actionsCell.innerHTML = `
        <button class="action-button p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800 view-file-btn" data-id="${file.id}">
            <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">visibility</span>
        </button>
        <button class="action-button p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800 edit-file-btn" data-id="${file.id}">
            <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">edit</span>
        </button>
        <button class="action-button p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800 more-file-btn" data-id="${file.id}">
            <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">more_vert</span>
        </button>
    `;
    
    // Add cells to row
    row.appendChild(fileNumberCell);
    row.appendChild(clientNameCell);
    row.appendChild(serviceTypeCell);
    row.appendChild(progressCell);
    row.appendChild(completionCell);
    row.appendChild(statusCell);
    row.appendChild(actionsCell);
    
    // Add click event to row
    row.addEventListener('click', function(e) {
        // If not clicking on action buttons, show file details
        if (!e.target.closest('.action-button')) {
            showFileDetails(file.id);
        }
    });
    
    // Add click events to action buttons
    const viewBtn = actionsCell.querySelector('.view-file-btn');
    viewBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        showFileDetails(file.id);
    });
    
    const editBtn = actionsCell.querySelector('.edit-file-btn');
    editBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        navigateToPage('new_file');
        // In a real app, this would populate the form with file data
    });
    
    const moreBtn = actionsCell.querySelector('.more-file-btn');
    moreBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        // In a real app, this would show a dropdown with more options
        console.log('More options for file:', file.id);
    });
    
    return row;
}

// Clients Page Functions
function updateClientsTable() {
    const tableBody = document.getElementById('clientsTableBody');
    if (!tableBody) return;
    
    // Clear existing content
    tableBody.innerHTML = '';
    
    // Populate table
    appData.clients.forEach(client => {
        const row = createClientTableRow(client);
        tableBody.appendChild(row);
    });
}

function createClientTableRow(client) {
    const row = document.createElement('tr');
    row.className = 'client-row group hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors';
    
    // Create client cell
    const clientCell = document.createElement('td');
    clientCell.className = 'whitespace-nowrap px-6 py-4';
    
    // Get client initials and avatar color
    const initials = getClientInitials(client.name);
    const avatarColor = getAvatarColor(client.name);
    
    clientCell.innerHTML = `
        <div class="flex items-center gap-3">
            <div class="h-10 w-10 rounded-full ${avatarColor} flex items-center justify-center text-white text-sm font-bold">
                ${initials}
            </div>
            <div>
                <p class="font-medium text-slate-900 dark:text-white">${client.name}</p>
                <p class="text-xs text-slate-500 dark:text-slate-400">ID: ${client.id}</p>
            </div>
        </div>
    `;
    
    // Create contact cell
    const contactCell = document.createElement('td');
    contactCell.className = 'whitespace-nowrap px-6 py-4';
    contactCell.innerHTML = `
        <div class="text-sm">
            <p class="text-slate-900 dark:text-white">${client.contactNumber}</p>
            <p class="text-xs text-slate-500 dark:text-slate-400">${client.email}</p>
        </div>
    `;
    
    // Create type cell
    const typeCell = document.createElement('td');
    typeCell.className = 'whitespace-nowrap px-6 py-4';
    const typeColor = client.type === 'Individual' ? 'bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300' : 'bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300';
    typeCell.innerHTML = `
        <span class="inline-flex items-center rounded-md ${typeColor} px-2 py-1 text-xs font-medium">
            ${client.type === 'Individual' ? 'Individu' : 'Perusahaan'}
        </span>
    `;
    
    // Create total files cell
    const totalFilesCell = document.createElement('td');
    totalFilesCell.className = 'whitespace-nowrap px-6 py-4';
    totalFilesCell.innerHTML = `
        <div class="text-sm">
            <p class="font-medium text-slate-900 dark:text-white">${client.totalFiles}</p>
            <p class="text-xs text-slate-500 dark:text-slate-400">${client.activeFiles} Aktif</p>
        </div>
    `;
    
    // Create last activity cell
    const lastActivityCell = document.createElement('td');
    lastActivityCell.className = 'whitespace-nowrap px-6 py-4';
    lastActivityCell.innerHTML = `<div class="text-sm text-slate-900 dark:text-white">${client.lastActivity}</div>`;
    
    // Create status cell
    const statusCell = document.createElement('td');
    statusCell.className = 'whitespace-nowrap px-6 py-4';
    statusCell.innerHTML = createStatusBadge(client.status);
    
    // Create actions cell
    const actionsCell = document.createElement('td');
    actionsCell.className = 'whitespace-nowrap px-6 py-4 text-right';
    actionsCell.innerHTML = `
        <button class="action-button p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800 view-client-btn" data-id="${client.id}">
            <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">visibility</span>
        </button>
        <button class="action-button p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800 edit-client-btn" data-id="${client.id}">
            <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">edit</span>
        </button>
        <button class="action-button p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-800 more-client-btn" data-id="${client.id}">
            <span class="material-symbols-outlined text-[18px] text-slate-600 dark:text-slate-400">more_vert</span>
        </button>
    `;
    
    // Add cells to row
    row.appendChild(clientCell);
    row.appendChild(contactCell);
    row.appendChild(typeCell);
    row.appendChild(totalFilesCell);
    row.appendChild(lastActivityCell);
    row.appendChild(statusCell);
    row.appendChild(actionsCell);
    
    // Add click event to row
    row.addEventListener('click', function(e) {
        // If not clicking on action buttons, show client details
        if (!e.target.closest('.action-button')) {
            showClientDetails(client.id);
        }
    });
    
    // Add click events to action buttons
    const viewBtn = actionsCell.querySelector('.view-client-btn');
    viewBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        showClientDetails(client.id);
    });
    
    const editBtn = actionsCell.querySelector('.edit-client-btn');
    editBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        // In a real app, this would open an edit form
        console.log('Edit client:', client.id);
    });
    
    const moreBtn = actionsCell.querySelector('.more-client-btn');
    moreBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        // In a real app, this would show a dropdown with more options
        console.log('More options for client:', client.id);
    });
    
    return row;
}

// New File Page Functions
function updateDocumentRequirements(serviceType) {
    const container = document.getElementById('documentRequirements');
    if (!container) return;
    
    // Keep the header
    const header = container.querySelector('.grid');
    container.innerHTML = '';
    if (header) container.appendChild(header);
    
    // Get requirements from mapping
    const requirements = serviceRequirements[serviceType] || serviceRequirements['default'];
    
    // Create document requirement items
    requirements.forEach((req, index) => {
        const item = createDocumentRequirementItem(req, index);
        container.appendChild(item);
    });
}

function updateWorkflowPreview(serviceType) {
    const workflowContainer = document.querySelector('.relative.pl-2 ul');
    if (!workflowContainer) return;
    
    workflowContainer.innerHTML = '';
    
    // Get workflow steps from mapping
    const steps = workflowSteps[serviceType] || workflowSteps['default'];
    
    // Create workflow step items
    steps.forEach((step, index) => {
        const li = document.createElement('li');
        li.className = 'workflow-step flex gap-4 group';
        
        // Determine step styling based on status
        let stepIndicator = '';
        if (step.status === 'current') {
            stepIndicator = `
                <div class="flex-shrink-0 size-6 rounded-full bg-primary border-2 border-white dark:border-slate-800 shadow flex items-center justify-center">
                    <span class="size-2 rounded-full bg-white animate-pulse"></span>
                </div>
            `;
        } else {
            stepIndicator = `
                <div class="flex-shrink-0 size-6 rounded-full bg-white dark:bg-slate-800 border-2 border-slate-300 dark:border-slate-600 flex items-center justify-center group-hover:border-primary transition-colors">
                    <span class="text-[10px] font-bold text-slate-500 dark:text-slate-400">${index + 1}</span>
                </div>
            `;
        }
        
        // Determine content styling
        let contentClass = 'pt-0.5';
        if (step.status !== 'current') {
            contentClass += ' opacity-60 group-hover:opacity-100 transition-opacity';
        }
        
        li.innerHTML = `
            ${stepIndicator}
            <div class="${contentClass}">
                <p class="text-sm font-bold ${step.status === 'current' ? 'text-primary' : 'text-slate-700 dark:text-slate-300'}">${step.name}</p>
                <p class="text-xs text-slate-500 dark:text-slate-400">${step.description}</p>
            </div>
        `;
        
        workflowContainer.appendChild(li);
    });
}

function createDocumentRequirementItem(requirement, index) {
    const item = document.createElement('div');
    item.className = 'grid grid-cols-12 gap-4 items-start py-2 group';
    
    // Determine required badge color
    let requiredBadgeClass = 'bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400';
    if (requirement.required === 'Mandatory') {
        requiredBadgeClass = 'bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400';
    } else if (requirement.required === 'Secondary') {
        requiredBadgeClass = 'bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400';
    }
    
    // Determine note background color
    let noteBgClass = 'bg-slate-50 dark:bg-slate-800';
    let noteTextClass = 'text-slate-900 dark:text-white';
    let notePlaceholder = 'Tambahkan catatan...';
    
    if (requirement.noteType === 'warning') {
        noteBgClass = 'bg-amber-50 dark:bg-amber-900/20';
        noteTextClass = 'text-amber-900 dark:text-amber-200';
    }
    
    // Create item content
    item.innerHTML = `
        <div class="col-span-5 md:col-span-4 flex items-start gap-3 pl-2">
            <div class="flex h-6 items-center">
                <input ${requirement.status === 'checked' ? 'checked' : ''} class="size-4 rounded border-slate-300 text-primary focus:ring-primary dark:border-slate-600 dark:bg-slate-700 dark:ring-offset-slate-800" id="doc-${index}" type="checkbox"/>
            </div>
            <div class="text-sm">
                <label class="font-medium text-slate-900 dark:text-white cursor-pointer select-none" for="doc-${index}">${requirement.name}</label>
                <p class="text-xs text-slate-500 dark:text-slate-400">${requirement.description}</p>
            </div>
        </div>
        <div class="col-span-2 flex justify-center pt-0.5">
            <span class="inline-flex items-center rounded-md ${requiredBadgeClass} px-2 py-1 text-xs font-medium ring-1 ring-inset ring-red-600/10">
                ${requirement.required === 'Mandatory' ? 'Wajib' : requirement.required === 'Secondary' ? 'Sekunder' : 'Opsional'}
            </span>
        </div>
        <div class="col-span-5 md:col-span-6">
            <input class="form-input block w-full rounded-md border-0 ${noteBgClass} py-1.5 px-3 ${noteTextClass} shadow-sm ring-1 ring-inset ring-slate-300 dark:ring-slate-700 focus:ring-2 focus:ring-inset focus:ring-primary sm:text-sm sm:leading-6 placeholder:text-slate-400 transition-all opacity-60 hover:opacity-100 focus:opacity-100 focus:bg-white dark:focus:bg-slate-900" 
                type="text" 
                placeholder="${notePlaceholder}"
                value="${requirement.note || ''}"
                ${requirement.noteType === 'warning' ? 'readonly' : ''} />
            ${requirement.noteType === 'warning' ? 
                `<p class="text-[10px] text-amber-600 dark:text-amber-400 mt-1 pl-1"> Memerlukan "Bukti Penitipan" dari Bank</p>` : ''
            }
        </div>
    `;
    
    return item;
}

// Modal Functions
function showFileDetails(fileId) {
    const file = appData.files.find(f => f.id === fileId);
    if (!file) return;
    
    const modal = document.getElementById('fileDetailsModal');
    const content = document.getElementById('fileDetailsContent');
    
    // Get client initials and avatar color
    const initials = getClientInitials(file.clientName);
    const avatarColor = getAvatarColor(file.clientName);
    const serviceTypeColor = getServiceTypeColor(file.serviceType);
    
    // Populate content
    content.innerHTML = `
        <div class="space-y-6">
            <div class="flex items-center gap-4">
                <div class="h-16 w-16 rounded-full ${avatarColor} flex items-center justify-center text-white text-xl font-bold">
                    ${initials}
                </div>
                <div>
                    <h2 class="text-2xl font-bold text-slate-900 dark:text-white">${file.id}</h2>
                    <p class="text-slate-600 dark:text-slate-400">${file.clientName}</p>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Informasi File</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-500 dark:text-slate-400">Tipe Layanan</span>
                            <span class="inline-flex items-center rounded-md ${serviceTypeColor} px-2 py-1 text-xs font-medium">
                                ${file.serviceType}
                            </span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-500 dark:text-slate-400">Status</span>
                            ${createStatusBadge(file.status)}
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-500 dark:text-slate-400">Progress</span>
                            <div class="flex items-center gap-2">
                                <div class="w-24 bg-slate-200 dark:bg-slate-700 rounded-full h-2">
                                    <div class="bg-primary h-2 rounded-full" style="width: ${file.progress}%"></div>
                                </div>
                                <span class="text-sm font-medium">${file.progress}%</span>
                            </div>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-500 dark:text-slate-400">Tahap Saat Ini</span>
                            <span class="text-sm font-medium">${file.currentStage}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-500 dark:text-slate-400">Estimasi Selesai</span>
                            <span class="text-sm font-medium">${file.estimatedCompletion}</span>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Informasi Kontak</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-500 dark:text-slate-400">Nomor Telepon</span>
                            <span class="text-sm font-medium">${file.contactNumber}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-500 dark:text-slate-400">Email</span>
                            <span class="text-sm font-medium">${file.email || 'N/A'}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-500 dark:text-slate-400">Alamat Objek</span>
                            <span class="text-sm font-medium text-right max-w-[200px]">${file.objectAddress}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-500 dark:text-slate-400">Notaris Ditugaskan</span>
                            <span class="text-sm font-medium">${file.assignedNotary}</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div>
                <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Catatan</h3>
                <p class="text-sm text-slate-600 dark:text-slate-400">${file.notes}</p>
            </div>
            
            <div class="flex justify-end gap-3 pt-4 border-t border-slate-200 dark:border-slate-800">
                <button class="px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-700">
                    Cetak
                </button>
                <button class="px-4 py-2 rounded-lg bg-primary text-white font-medium hover:bg-primary-dark">
                    Edit
                </button>
            </div>
        </div>
    `;
    
    // Show modal
    modal.classList.remove('hidden');
    modal.classList.add('flex');
}

function showClientDetails(clientId) {
    const client = appData.clients.find(c => c.id === clientId);
    if (!client) return;
    
    const modal = document.getElementById('clientDetailsModal');
    const content = document.getElementById('clientDetailsContent');
    
    // Get client initials and avatar color
    const initials = getClientInitials(client.name);
    const avatarColor = getAvatarColor(client.name);
    
    // Get client files
    const clientFiles = appData.files.filter(f => f.clientName === client.name);
    
    // Populate content
    content.innerHTML = `
        <div class="space-y-6">
            <div class="flex items-center gap-4">
                <div class="h-16 w-16 rounded-full ${avatarColor} flex items-center justify-center text-white text-xl font-bold">
                    ${initials}
                </div>
                <div>
                    <h2 class="text-2xl font-bold text-slate-900 dark:text-white">${client.name}</h2>
                    <p class="text-slate-600 dark:text-slate-400">${client.type === 'Individual' ? 'Individu' : 'Perusahaan'}  ID: ${client.id}</p>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Informasi Kontak</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-500 dark:text-slate-400">Nomor Telepon</span>
                            <span class="text-sm font-medium">${client.contactNumber}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-500 dark:text-slate-400">Email</span>
                            <span class="text-sm font-medium">${client.email}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-500 dark:text-slate-400">Alamat</span>
                            <span class="text-sm font-medium text-right max-w-[200px]">${client.address}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-500 dark:text-slate-400">Status</span>
                            ${createStatusBadge(client.status)}
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Statistik File</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-500 dark:text-slate-400">Total File</span>
                            <span class="text-sm font-medium">${client.totalFiles}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-500 dark:text-slate-400">File Aktif</span>
                            <span class="text-sm font-medium">${client.activeFiles}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-slate-500 dark:text-slate-400">Aktivitas Terakhir</span>
                            <span class="text-sm font-medium">${client.lastActivity}</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div>
                <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">File Klien</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-slate-50 text-xs font-semibold uppercase text-slate-500 dark:bg-slate-800/50 dark:text-slate-400">
                            <tr>
                                <th class="px-4 py-3">No. File</th>
                                <th class="px-4 py-3">Tipe Layanan</th>
                                <th class="px-4 py-3">Status</th>
                                <th class="px-4 py-3">Est. Selesai</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-200 dark:divide-slate-700">
                            ${clientFiles.map(file => `
                                <tr class="hover:bg-slate-50 dark:hover:bg-slate-800/50">
                                    <td class="px-4 py-3 font-mono">${file.id}</td>
                                    <td class="px-4 py-3">
                                        <span class="inline-flex items-center rounded-md ${getServiceTypeColor(file.serviceType)} px-2 py-1 text-xs font-medium">
                                            ${file.serviceType}
                                        </span>
                                    </td>
                                    <td class="px-4 py-3">
                                        ${createStatusBadge(file.status)}
                                    </td>
                                    <td class="px-4 py-3">${file.estimatedCompletion}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            </div>
            
            <div class="flex justify-end gap-3 pt-4 border-t border-slate-200 dark:border-slate-800">
                <button class="px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium hover:bg-slate-50 dark:hover:bg-slate-700">
                    Cetak
                </button>
                <button class="px-4 py-2 rounded-lg bg-primary text-white font-medium hover:bg-primary-dark">
                    Edit
                </button>
            </div>
        </div>
    `;
    
    // Show modal
    modal.classList.remove('hidden');
    modal.classList.add('flex');
}

// Notification Functions
function toggleNotificationPanel() {
    const panel = document.getElementById('notificationPanel');
    panel.classList.toggle('hidden');
    
    // Mark all notifications as read
    if (!panel.classList.contains('hidden')) {
        appData.notifications.forEach(notification => {
            notification.read = true;
        });
        saveData();
        updateNotifications();
    }
}

function updateNotifications() {
    const notificationList = document.getElementById('notificationList');
    if (!notificationList) return;
    
    notificationList.innerHTML = '';
    
    // Count unread notifications
    const unreadCount = appData.notifications.filter(n => !n.read).length;
    const badge = document.getElementById('notificationBadge');
    
    if (badge) {
        if (unreadCount > 0) {
            badge.style.display = 'block';
        } else {
            badge.style.display = 'none';
        }
    }
    
    // Populate notification list
    appData.notifications.forEach(notification => {
        const item = document.createElement('div');
        item.className = `p-3 rounded-lg border ${notification.read ? 'bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700' : 'bg-primary/5 border-primary/20'}`;
        
        // Get notification icon
        let icon = 'info';
        let iconColor = 'text-blue-600 dark:text-blue-400';
        
        if (notification.type === 'warning') {
            icon = 'warning';
            iconColor = 'text-amber-600 dark:text-amber-400';
        } else if (notification.type === 'success') {
            icon = 'check_circle';
            iconColor = 'text-green-600 dark:text-green-400';
        } else if (notification.type === 'error') {
            icon = 'error';
            iconColor = 'text-red-600 dark:text-red-400';
        }
        
        item.innerHTML = `
            <div class="flex gap-3">
                <div class="flex-shrink-0">
                    <span class="material-symbols-outlined ${iconColor}">${icon}</span>
                </div>
                <div class="flex-1">
                    <p class="text-sm font-medium text-slate-900 dark:text-white">${notification.title}</p>
                    <p class="text-xs text-slate-500 dark:text-slate-400 mt-1">${notification.message}</p>
                    <p class="text-xs text-slate-400 dark:text-slate-500 mt-2">${notification.timestamp}</p>
                </div>
            </div>
        `;
        
        notificationList.appendChild(item);
    });
}

function showNotification(message, type = 'info') {
    // Create notification object
    const notification = {
        id: Date.now(),
        title: type === 'success' ? 'Sukses' : type === 'error' ? 'Error' : 'Informasi',
        message: message,
        type: type,
        read: false,
        timestamp: 'Just now'
    };
    
    // Add to notifications
    appData.notifications.unshift(notification);
    
    // Keep only the latest 10 notifications
    if (appData.notifications.length > 10) {
        appData.notifications = appData.notifications.slice(0, 10);
    }
    
    // Save and update
    saveData();
    updateNotifications();
    
    // Show notification panel
    const panel = document.getElementById('notificationPanel');
    if (panel) {
        panel.classList.remove('hidden');
    }
    
    // Hide after 5 seconds
    setTimeout(() => {
        if (panel) {
            panel.classList.add('hidden');
        }
    }, 5000);
}

// Settings Functions
function toggleDarkMode() {
    document.documentElement.classList.toggle('dark');
    appData.settings.darkMode = document.documentElement.classList.contains('dark');
    saveData();
}

function applySettings() {
    // Apply dark mode
    if (appData.settings.darkMode) {
        document.documentElement.classList.add('dark');
    } else {
        document.documentElement.classList.remove('dark');
    }
    
    // Update settings modal
    const darkModeToggleModal = document.getElementById('darkModeToggleModal');
    if (darkModeToggleModal) {
        darkModeToggleModal.checked = appData.settings.darkMode;
    }
    
    const notificationToggle = document.getElementById('notificationToggle');
    if (notificationToggle) {
        notificationToggle.checked = appData.settings.notifications;
    }
}

function saveSettings() {
    // Get settings from form
    const darkModeToggleModal = document.getElementById('darkModeToggleModal');
    if (darkModeToggleModal) {
        appData.settings.darkMode = darkModeToggleModal.checked;
    }
    
    const notificationToggle = document.getElementById('notificationToggle');
    if (notificationToggle) {
        appData.settings.notifications = notificationToggle.checked;
    }
    
    // Apply settings
    applySettings();
    
    // Save to localStorage
    saveData();
    
    // Show success message
    showNotification('Pengaturan berhasil disimpan', 'success');
}

// User Role Functions
function applyUserRole() {
    // Update UI based on user role
    const userRole = appData.currentUser.role;
    const userRoleElement = document.getElementById('currentUserRole');
    
    if (userRoleElement) {
        if (userRole === 'executive') {
            userRoleElement.textContent = 'Executive';
            userRoleElement.className = 'role-badge role-executive ml-auto';
        } else if (userRole === 'manager') {
            userRoleElement.textContent = 'Manager';
            userRoleElement.className = 'role-badge role-manager ml-auto';
        } else {
            userRoleElement.textContent = 'Staff';
            userRoleElement.className = 'role-badge role-staff ml-auto';
        }
    }
    
    // Update user profile
    const profileName = document.querySelector('.flex.flex-col.overflow-hidden span.truncate.text-sm.font-bold');
    if (profileName) {
        profileName.textContent = appData.currentUser.name;
    }
    
    const profileTitle = document.querySelector('.flex.flex-col.overflow-hidden span.truncate.text-xs');
    if (profileTitle) {
        if (userRole === 'executive') {
            profileTitle.textContent = 'Direktur Utama';
        } else if (userRole === 'manager') {
            profileTitle.textContent = 'Manajer Operasional';
        } else {
            profileTitle.textContent = 'Staf Notaris';
        }
    }
    
    // Show/hide menu items based on role
    const menuItems = document.querySelectorAll('.sidebar-link[data-page]');
    menuItems.forEach(item => {
        const page = item.getAttribute('data-page');
        if (!hasPagePermission(page)) {
            item.style.display = 'none';
        } else {
            item.style.display = '';
        }
    });
}

function hasPagePermission(pageId) {
    const userRole = appData.currentUser.role;
    const userPermissions = appData.currentUser.permissions;
    
    // Executive has access to all pages
    if (userRole === 'executive' || userPermissions.includes('all')) {
        return true;
    }
    
    // Manager has access to most pages except company settings
    if (userRole === 'manager') {
        const restrictedPages = ['company_settings'];
        return !restrictedPages.includes(pageId);
    }
    
    return false;
}

// Search Functions
function globalSearch(searchTerm) {
    // This would search across all data
    console.log('Searching for:', searchTerm);
    // In a real implementation, this would filter and display search results
}

// Utility Functions
function createStatusBadge(status) {
    let badgeClass = 'inline-flex items-center rounded-full bg-slate-100 px-2.5 py-0.5 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300';
    let badgeContent = status;
    
    if (status === 'Overdue') {
        badgeClass = 'inline-flex items-center gap-1 rounded-full bg-white border border-red-200 px-2.5 py-0.5 text-xs font-bold text-alert-red shadow-sm dark:bg-red-900/40 dark:border-red-800 dark:text-red-200';
        badgeContent = `<span class="material-symbols-outlined text-[14px]">warning</span> TERLAMBAT`;
    } else if (status === 'In Progress') {
        badgeClass = 'inline-flex items-center rounded-full bg-slate-100 px-2.5 py-0.5 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300';
        badgeContent = 'Dalam Proses';
    } else if (status === 'Completed') {
        badgeClass = 'inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-300';
        badgeContent = 'Selesai';
    } else if (status === 'Reviewing') {
        badgeClass = 'inline-flex items-center rounded-full bg-slate-100 px-2.5 py-0.5 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300';
        badgeContent = 'Review';
    } else if (status === 'Waiting Client') {
        badgeClass = 'inline-flex items-center rounded-full bg-slate-100 px-2.5 py-0.5 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300';
        badgeContent = 'Menunggu Klien';
    } else if (status === 'Active') {
        badgeClass = 'inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-300';
        badgeContent = 'Aktif';
    } else if (status === 'Pending') {
        badgeClass = 'inline-flex items-center rounded-full bg-amber-100 px-2.5 py-0.5 text-xs font-medium text-amber-700 dark:bg-amber-900/30 dark:text-amber-300';
        badgeContent = 'Tertunda';
    } else if (status === 'Inactive') {
        badgeClass = 'inline-flex items-center rounded-full bg-slate-100 px-2.5 py-0.5 text-xs font-medium text-slate-700 dark:bg-slate-700 dark:text-slate-300';
        badgeContent = 'Tidak Aktif';
    }
    
    return `<span class="${badgeClass}">${badgeContent}</span>`;
}

function getClientInitials(clientName) {
    // For individual names, get first and last name initials
    // For company names, get first 2-3 letters
    if (clientName.startsWith('PT.') || clientName.startsWith('CV.')) {
        return clientName.substring(0, 2).toUpperCase();
    } else {
        const names = clientName.split(' ');
        if (names.length >= 2) {
            return (names[0][0] + names[names.length - 1][0]).toUpperCase();
        } else {
            return clientName.substring(0, 2).toUpperCase();
        }
    }
}

function getAvatarColor(clientName) {
    // Generate a consistent color based on client name
    const colors = [
        'bg-blue-600',
        'bg-purple-600',
        'bg-green-600',
        'bg-red-600',
        'bg-amber-600',
        'bg-teal-600',
        'bg-indigo-600',
        'bg-pink-600'
    ];
    
    let hash = 0;
    for (let i = 0; i < clientName.length; i++) {
        hash = clientName.charCodeAt(i) + ((hash << 5) - hash);
    }
    
    return colors[Math.abs(hash) % colors.length];
}

function getServiceTypeColor(serviceType) {
    const colors = {
        'AJB': 'bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300',
        'SKMHT': 'bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300',
        'APHT': 'bg-teal-100 dark:bg-teal-900/30 text-teal-700 dark:text-teal-300',
        'default': 'bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300'
    };
    
    return colors[serviceType] || colors['default'];
}

function formatDate(dateString) {
    const date = new Date(dateString);
    const options = { day: 'numeric', month: 'short', year: 'numeric' };
    return date.toLocaleDateString('id-ID', options);
}

function saveData() {
    localStorage.setItem('notaryDocData', JSON.stringify(appData));
}
</script>
</body>
</html>