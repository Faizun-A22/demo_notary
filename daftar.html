<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NotaryDoc Pro - Daftar Akun</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-dark': '#0A192F',
                        'primary-blue': '#112240',
                        'primary-light': '#233554',
                        'accent-teal': '#64FFDA',
                        'accent-orange': '#FF9A3D',
                        'accent-purple': '#9D72FF',
                        'accent-light': '#8892B0',
                        'accent-lighter': '#CCD6F6',
                        'success-green': '#10B981',
                    },
                    fontFamily: {
                        'sans': ['Inter', 'sans-serif'],
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.8s ease-out',
                        'fade-in-left': 'fadeInLeft 0.8s ease-out',
                        'fade-in-right': 'fadeInRight 0.8s ease-out',
                        'float': 'float 6s ease-in-out infinite',
                        'gradient-shift': 'gradientShift 3s ease infinite',
                        'blob': 'blob 10s infinite',
                        'slide-in': 'slideIn 0.5s ease-out',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(30px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        fadeInLeft: {
                            '0%': { opacity: '0', transform: 'translateX(-30px)' },
                            '100%': { opacity: '1', transform: 'translateX(0)' },
                        },
                        fadeInRight: {
                            '0%': { opacity: '0', transform: 'translateX(30px)' },
                            '100%': { opacity: '1', transform: 'translateX(0)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        gradientShift: {
                            '0%, 100%': { backgroundPosition: '0% 50%' },
                            '50%': { backgroundPosition: '100% 50%' },
                        },
                        blob: {
                            '0%': { transform: 'translate(0px, 0px) scale(1)' },
                            '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                            '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                            '100%': { transform: 'translate(0px, 0px) scale(1)' },
                        },
                        slideIn: {
                            '0%': { transform: 'translateX(-100%)' },
                            '100%': { transform: 'translateX(0)' },
                        }
                    },
                    backgroundImage: {
                        'grid-pattern': 'linear-gradient(to right, rgba(100, 255, 218, 0.1) 1px, transparent 1px), linear-gradient(to bottom, rgba(100, 255, 218, 0.1) 1px, transparent 1px)',
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom Styles */
        .gradient-primary {
            background: linear-gradient(135deg, #0A192F 0%, #112240 50%, #233554 100%);
        }
        .gradient-accent {
            background: linear-gradient(90deg, #64FFDA 0%, #4FD1C7 100%);
        }
        .gradient-card {
            background: linear-gradient(135deg, rgba(10, 25, 47, 0.8) 0%, rgba(17, 34, 64, 0.9) 100%);
        }
        .gradient-text {
            background: linear-gradient(90deg, #64FFDA 0%, #4FD1C7 50%, #38B2AC 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s ease infinite;
        }
        .gradient-text-static {
            background: linear-gradient(90deg, #64FFDA 0%, #4FD1C7 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .glass-effect {
            background: rgba(10, 25, 47, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(100, 255, 218, 0.1);
        }
        
        .form-input {
            transition: all 0.3s ease;
        }
        .form-input:focus {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(100, 255, 218, 0.15);
            border-color: #64FFDA !important;
        }
        
        .auth-button {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .auth-button:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 35px rgba(100, 255, 218, 0.25);
        }
        
        .error-shake {
            animation: shake 0.5s;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        /* Grid background pattern */
        .grid-bg {
            background-image: 
                linear-gradient(to right, rgba(100, 255, 218, 0.1) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(100, 255, 218, 0.1) 1px, transparent 1px);
            background-size: 40px 40px;
        }
        
        /* Blob animation */
        .blob {
            position: absolute;
            width: 500px;
            height: 500px;
            background: linear-gradient(135deg, rgba(100, 255, 218, 0.1) 0%, rgba(79, 209, 199, 0.05) 100%);
            border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
            animation: blob 20s infinite;
            filter: blur(40px);
            z-index: 0;
        }
        
        /* Role Card Styles */
        .role-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 2px solid transparent;
        }
        
        .role-card:hover {
            transform: translateY(-8px);
        }
        
        .role-card.selected {
            border-color: #64FFDA;
            box-shadow: 0 10px 30px rgba(100, 255, 218, 0.2);
            background: rgba(100, 255, 218, 0.05);
        }
        
        /* Flow Diagram */
        .flow-step {
            position: relative;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .flow-arrow {
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            color: #64FFDA;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }
        ::-webkit-scrollbar-track {
            background: #0A192F;
        }
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #64FFDA 0%, #4FD1C7 100%);
            border-radius: 6px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #4FD1C7 0%, #38B2AC 100%);
        }
        
        /* Step indicator */
        .step-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: rgba(136, 146, 176, 0.2);
            transition: all 0.3s ease;
        }
        
        .step-indicator.active {
            background-color: #64FFDA;
            box-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
            transform: scale(1.2);
        }
    </style>
</head>
<body class="bg-primary-dark text-accent-lighter min-h-screen flex items-center justify-center p-4 relative">
    <!-- Animated background elements -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none z-0">
        <div class="absolute top-1/4 left-1/4 blob opacity-30"></div>
        <div class="absolute bottom-1/4 right-1/4 blob opacity-20" style="animation-delay: -5s; width: 600px; height: 600px;"></div>
        <div class="grid-bg absolute inset-0 opacity-5"></div>
    </div>

    <!-- Register Container -->
    <div class="w-full max-w-4xl relative z-10 animate-fade-in-up">
        <!-- Logo Section -->
        <div class="text-center mb-8">
            <a href="index.html" class="inline-flex items-center gap-3 text-accent-lighter mb-4 hover:scale-105 transition-transform">
                <div class="glass-effect p-3 rounded-xl border border-accent-teal/20">
                    <span class="material-symbols-outlined text-accent-teal text-3xl">gavel</span>
                </div>
                <span class="text-accent-lighter font-bold text-2xl">NotaryDoc<span class="gradient-text">Pro</span></span>
            </a>
            <div class="inline-flex items-center gap-2 bg-accent-teal/10 text-accent-teal px-4 py-2 rounded-full text-sm font-medium border border-accent-teal/20">
                <span class="material-symbols-outlined text-base">business</span>
                Sistem Manajemen Notaris Terintegrasi
            </div>
        </div>

        <!-- Flow Diagram -->
        <div class="mb-8 glass-effect p-6 rounded-2xl border border-accent-teal/20">
            <h2 class="text-xl font-bold text-accent-lighter mb-4 text-center">Struktur Sistem NotaryDoc Pro</h2>
            <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                <div class="flow-step glass-effect flex-1 text-center">
                    <div class="p-3 rounded-full bg-gradient-to-br from-accent-teal/20 to-accent-teal/5 inline-block mb-3">
                        <span class="material-symbols-outlined text-accent-teal text-2xl">badge</span>
                    </div>
                    <h3 class="font-bold text-accent-lighter">Ketua Notaris</h3>
                    <p class="text-sm text-accent-light">Mendirikan kantor & mengelola staff</p>
                </div>
                
                <div class="flow-arrow hidden md:block">
                    <span class="material-symbols-outlined text-2xl">arrow_forward</span>
                </div>
                <div class="flow-arrow md:hidden">
                    <span class="material-symbols-outlined text-2xl">arrow_downward</span>
                </div>
                
                <div class="flow-step glass-effect flex-1 text-center">
                    <div class="p-3 rounded-full bg-gradient-to-br from-accent-orange/20 to-accent-orange/5 inline-block mb-3">
                        <span class="material-symbols-outlined text-accent-orange text-2xl">groups</span>
                    </div>
                    <h3 class="font-bold text-accent-lighter">Staff Administrasi</h3>
                    <p class="text-sm text-accent-light">Dikelola oleh Ketua Notaris</p>
                </div>
                
                <div class="flow-arrow hidden md:block">
                    <span class="material-symbols-outlined text-2xl">arrow_forward</span>
                </div>
                <div class="flow-arrow md:hidden">
                    <span class="material-symbols-outlined text-2xl">arrow_downward</span>
                </div>
                
                <div class="flow-step glass-effect flex-1 text-center">
                    <div class="p-3 rounded-full bg-gradient-to-br from-accent-purple/20 to-accent-purple/5 inline-block mb-3">
                        <span class="material-symbols-outlined text-accent-purple text-2xl">person</span>
                    </div>
                    <h3 class="font-bold text-accent-lighter">Klien</h3>
                    <p class="text-sm text-accent-light">Dikelola oleh staff masing-masing</p>
                </div>
            </div>
        </div>

        <!-- Register Card -->
        <div class="glass-effect rounded-2xl shadow-2xl p-8 border border-accent-teal/20 backdrop-blur-sm">
            <!-- Header -->
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-accent-lighter mb-2">Mulai Menggunakan NotaryDoc Pro</h1>
                <p class="text-accent-light">Pilih peran Anda dalam sistem kami</p>
            </div>

            <!-- Error/Success Messages -->
            <div id="message-container" class="hidden mb-6 p-4 rounded-lg text-sm backdrop-blur-sm border"></div>

            <!-- Role Selection -->
            <div id="role-selection" class="mb-8">
                <h2 class="text-xl font-semibold text-accent-lighter mb-6 text-center">Siapa Anda?</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <!-- Owner Role -->
                    <div class="role-card glass-effect p-6 rounded-xl cursor-pointer border border-accent-teal/10" data-role="owner">
                        <div class="flex flex-col items-center text-center">
                            <div class="p-4 rounded-full bg-gradient-to-br from-accent-teal/20 to-accent-teal/5 mb-4">
                                <span class="material-symbols-outlined text-accent-teal text-3xl">business</span>
                            </div>
                            <h3 class="text-lg font-bold text-accent-lighter mb-2">Ketua Notaris</h3>
                            <p class="text-sm text-accent-light mb-4">Pendiri kantor notaris. Anda akan membuat sistem untuk kantor Anda sendiri dan mengelola staff.</p>
                            <div class="mt-auto w-full">
                                <div class="flex items-start gap-2 mb-3">
                                    <span class="material-symbols-outlined text-xs text-accent-teal mt-0.5">check_circle</span>
                                    <span class="text-xs text-accent-light text-left">Buat kantor notaris baru</span>
                                </div>
                                <div class="flex items-start gap-2 mb-3">
                                    <span class="material-symbols-outlined text-xs text-accent-teal mt-0.5">check_circle</span>
                                    <span class="text-xs text-accent-light text-left">Undang & kelola staff</span>
                                </div>
                                <div class="flex items-start gap-2">
                                    <span class="material-symbols-outlined text-xs text-accent-teal mt-0.5">check_circle</span>
                                    <span class="text-xs text-accent-light text-left">Akses semua data kantor</span>
                                </div>
                            </div>
                            <button class="mt-6 w-full py-2 bg-accent-teal/10 text-accent-teal rounded-lg text-sm font-medium hover:bg-accent-teal/20 transition-colors">
                                Daftar sebagai Owner
                            </button>
                        </div>
                    </div>

                    <!-- Staff Role -->
                    <div class="role-card glass-effect p-6 rounded-xl cursor-pointer border border-accent-teal/10" data-role="staff">
                        <div class="flex flex-col items-center text-center">
                            <div class="p-4 rounded-full bg-gradient-to-br from-accent-orange/20 to-accent-orange/5 mb-4">
                                <span class="material-symbols-outlined text-accent-orange text-3xl">groups</span>
                            </div>
                            <h3 class="text-lg font-bold text-accent-lighter mb-2">Staff Administrasi</h3>
                            <p class="text-sm text-accent-light mb-4">Bergabung dengan kantor notaris yang sudah ada. Anda akan mengelola klien Anda sendiri.</p>
                            <div class="mt-auto w-full">
                                <div class="flex items-start gap-2 mb-3">
                                    <span class="material-symbols-outlined text-xs text-accent-orange mt-0.5">check_circle</span>
                                    <span class="text-xs text-accent-light text-left">Bergabung dengan kantor existing</span>
                                </div>
                                <div class="flex items-start gap-2 mb-3">
                                    <span class="material-symbols-outlined text-xs text-accent-orange mt-0.5">check_circle</span>
                                    <span class="text-xs text-accent-light text-left">Kelola klien Anda sendiri</span>
                                </div>
                                <div class="flex items-start gap-2">
                                    <span class="material-symbols-outlined text-xs text-accent-orange mt-0.5">check_circle</span>
                                    <span class="text-xs text-accent-light text-left">Akses terbatas sesuai role</span>
                                </div>
                            </div>
                            <button class="mt-6 w-full py-2 bg-accent-orange/10 text-accent-orange rounded-lg text-sm font-medium hover:bg-accent-orange/20 transition-colors">
                                Daftar sebagai Staff
                            </button>
                        </div>
                    </div>

                    <!-- Client Role -->
                    <div class="role-card glass-effect p-6 rounded-xl cursor-pointer border border-accent-teal/10" data-role="client">
                        <div class="flex flex-col items-center text-center">
                            <div class="p-4 rounded-full bg-gradient-to-br from-accent-purple/20 to-accent-purple/5 mb-4">
                                <span class="material-symbols-outlined text-accent-purple text-3xl">person</span>
                            </div>
                            <h3 class="text-lg font-bold text-accent-lighter mb-2">Klien</h3>
                            <p class="text-sm text-accent-light mb-4">Klien dari notaris. Anda akan didaftarkan oleh staff notaris, bukan mendaftar sendiri.</p>
                            <div class="mt-auto w-full">
                                <div class="flex items-start gap-2 mb-3">
                                    <span class="material-symbols-outlined text-xs text-accent-purple mt-0.5">info</span>
                                    <span class="text-xs text-accent-light text-left">Didaftarkan oleh staff notaris</span>
                                </div>
                                <div class="flex items-start gap-2 mb-3">
                                    <span class="material-symbols-outlined text-xs text-accent-purple mt-0.5">info</span>
                                    <span class="text-xs text-accent-light text-left">Akses hanya dokumen Anda</span>
                                </div>
                                <div class="flex items-start gap-2">
                                    <span class="material-symbols-outlined text-xs text-accent-purple mt-0.5">info</span>
                                    <span class="text-xs text-accent-light text-left">Monitor status proses</span>
                                </div>
                            </div>
                            <button class="mt-6 w-full py-2 bg-accent-purple/10 text-accent-purple rounded-lg text-sm font-medium hover:bg-accent-purple/20 transition-colors" onclick="showClientInfo()">
                                Info Untuk Klien
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Important Note -->
                <div class="p-4 rounded-lg bg-primary-dark/30 border border-accent-teal/10">
                    <div class="flex items-start gap-3">
                        <span class="material-symbols-outlined text-accent-teal mt-0.5">info</span>
                        <div>
                            <h4 class="font-medium text-accent-lighter mb-1">Penting!</h4>
                            <p class="text-sm text-accent-light">
                                <span class="text-accent-teal">Klien tidak mendaftar sendiri.</span> Akun klien dibuat oleh staff notaris yang menangani kasus Anda. 
                                Hubungi staff notaris Anda untuk mendapatkan akses ke sistem.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Owner Registration Form -->
            <form id="ownerForm" class="space-y-6 hidden">
                <div class="text-center mb-6">
                    <h2 class="text-2xl font-bold text-accent-lighter">Pendaftaran Ketua Notaris</h2>
                    <p class="text-accent-light">Buat akun untuk mendirikan kantor notaris Anda</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="ownerName" class="block text-sm font-medium text-accent-lighter mb-2">Nama Lengkap</label>
                        <div class="relative">
                            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-accent-light">person</span>
                            <input 
                                type="text" 
                                id="ownerName" 
                                name="ownerName" 
                                required
                                class="form-input w-full pl-10 pr-4 py-3 bg-primary-dark/50 border border-accent-teal/20 rounded-lg focus:ring-2 focus:ring-accent-teal focus:border-transparent outline-none text-accent-lighter placeholder-accent-light"
                                placeholder="John Doe"
                            >
                        </div>
                    </div>

                    <div>
                        <label for="ownerEmail" class="block text-sm font-medium text-accent-lighter mb-2">Email</label>
                        <div class="relative">
                            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-accent-light">email</span>
                            <input 
                                type="email" 
                                id="ownerEmail" 
                                name="ownerEmail" 
                                required
                                class="form-input w-full pl-10 pr-4 py-3 bg-primary-dark/50 border border-accent-teal/20 rounded-lg focus:ring-2 focus:ring-accent-teal focus:border-transparent outline-none text-accent-lighter placeholder-accent-light"
                                placeholder="nama@email.com"
                            >
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="ownerPhone" class="block text-sm font-medium text-accent-lighter mb-2">Nomor Telepon</label>
                        <div class="relative">
                            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-accent-light">phone</span>
                            <input 
                                type="tel" 
                                id="ownerPhone" 
                                name="ownerPhone" 
                                required
                                class="form-input w-full pl-10 pr-4 py-3 bg-primary-dark/50 border border-accent-teal/20 rounded-lg focus:ring-2 focus:ring-accent-teal focus:border-transparent outline-none text-accent-lighter placeholder-accent-light"
                                placeholder="+62 812-3456-7890"
                            >
                        </div>
                    </div>

                    <div>
                        <label for="npwp" class="block text-sm font-medium text-accent-lighter mb-2">NPWP</label>
                        <div class="relative">
                            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-accent-light">receipt_long</span>
                            <input 
                                type="text" 
                                id="npwp" 
                                name="npwp" 
                                required
                                class="form-input w-full pl-10 pr-4 py-3 bg-primary-dark/50 border border-accent-teal/20 rounded-lg focus:ring-2 focus:ring-accent-teal focus:border-transparent outline-none text-accent-lighter placeholder-accent-light"
                                placeholder="XX.XXX.XXX.X-XXX.XXX"
                            >
                        </div>
                    </div>
                </div>

                <div>
                    <label for="officeName" class="block text-sm font-medium text-accent-lighter mb-2">Nama Kantor Notaris</label>
                    <div class="relative">
                        <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-accent-light">business</span>
                        <input 
                            type="text" 
                            id="officeName" 
                            name="officeName" 
                            required
                            class="form-input w-full pl-10 pr-4 py-3 bg-primary-dark/50 border border-accent-teal/20 rounded-lg focus:ring-2 focus:ring-accent-teal focus:border-transparent outline-none text-accent-lighter placeholder-accent-light"
                            placeholder="Kantor Notaris [Nama Anda]"
                        >
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="ownerPassword" class="block text-sm font-medium text-accent-lighter mb-2">Password</label>
                        <div class="relative">
                            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-accent-light">lock</span>
                            <input 
                                type="password" 
                                id="ownerPassword" 
                                name="ownerPassword" 
                                required
                                minlength="8"
                                class="form-input w-full pl-10 pr-12 py-3 bg-primary-dark/50 border border-accent-teal/20 rounded-lg focus:ring-2 focus:ring-accent-teal focus:border-transparent outline-none text-accent-lighter placeholder-accent-light"
                                placeholder="Minimal 8 karakter"
                            >
                            <button 
                                type="button" 
                                onclick="togglePasswordVisibility('ownerPassword')"
                                class="absolute right-3 top-1/2 -translate-y-1/2 text-accent-light hover:text-accent-teal transition-colors"
                            >
                                <span class="material-symbols-outlined text-lg" id="ownerEyeIcon">visibility</span>
                            </button>
                        </div>
                    </div>

                    <div>
                        <label for="ownerConfirmPassword" class="block text-sm font-medium text-accent-lighter mb-2">Konfirmasi Password</label>
                        <div class="relative">
                            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-accent-light">lock</span>
                            <input 
                                type="password" 
                                id="ownerConfirmPassword" 
                                name="ownerConfirmPassword" 
                                required
                                minlength="8"
                                class="form-input w-full pl-10 pr-4 py-3 bg-primary-dark/50 border border-accent-teal/20 rounded-lg focus:ring-2 focus:ring-accent-teal focus:border-transparent outline-none text-accent-lighter placeholder-accent-light"
                                placeholder="Ulangi password"
                            >
                        </div>
                    </div>
                </div>

                <div class="flex items-start space-x-3 p-3 bg-primary-dark/30 rounded-lg border border-accent-teal/10">
                    <input type="checkbox" id="ownerTerms" name="ownerTerms" required class="w-4 h-4 text-accent-teal border-accent-teal/30 rounded focus:ring-accent-teal focus:ring-offset-primary-dark mt-1 bg-primary-dark/50">
                    <label for="ownerTerms" class="text-sm text-accent-light">
                        Saya setuju dengan 
                        <a href="#" class="text-accent-teal hover:text-accent-lighter font-medium transition-colors">Syarat & Ketentuan</a> 
                        dan 
                        <a href="#" class="text-accent-teal hover:text-accent-lighter font-medium transition-colors">Kebijakan Privasi</a>
                        NotaryDoc Pro
                    </label>
                </div>

                <div class="flex gap-3">
                    <button 
                        type="button" 
                        onclick="goBackToRoles()"
                        class="flex-1 py-3.5 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-primary-dark border border-accent-teal/30 text-accent-teal hover:bg-accent-teal/5 transition-all flex items-center justify-center gap-2"
                    >
                        <span class="material-symbols-outlined">arrow_back</span>
                        Kembali
                    </button>
                    <button 
                        type="submit" 
                        class="flex-1 auth-button gradient-accent text-primary-dark py-3.5 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-accent-teal focus:ring-offset-2 focus:ring-offset-primary-dark flex items-center justify-center gap-2 group"
                    >
                        <span class="material-symbols-outlined group-hover:rotate-90 transition-transform">business</span>
                        Buat Kantor Notaris
                    </button>
                </div>
            </form>

            <!-- Staff Registration Form -->
            <form id="staffForm" class="space-y-6 hidden">
                <div class="text-center mb-6">
                    <h2 class="text-2xl font-bold text-accent-lighter">Pendaftaran Staff Administrasi</h2>
                    <p class="text-accent-light">Bergabung dengan kantor notaris yang sudah ada</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="staffName" class="block text-sm font-medium text-accent-lighter mb-2">Nama Lengkap</label>
                        <div class="relative">
                            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-accent-light">person</span>
                            <input 
                                type="text" 
                                id="staffName" 
                                name="staffName" 
                                required
                                class="form-input w-full pl-10 pr-4 py-3 bg-primary-dark/50 border border-accent-teal/20 rounded-lg focus:ring-2 focus:ring-accent-teal focus:border-transparent outline-none text-accent-lighter placeholder-accent-light"
                                placeholder="John Doe"
                            >
                        </div>
                    </div>

                    <div>
                        <label for="staffEmail" class="block text-sm font-medium text-accent-lighter mb-2">Email</label>
                        <div class="relative">
                            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-accent-light">email</span>
                            <input 
                                type="email" 
                                id="staffEmail" 
                                name="staffEmail" 
                                required
                                class="form-input w-full pl-10 pr-4 py-3 bg-primary-dark/50 border border-accent-teal/20 rounded-lg focus:ring-2 focus:ring-accent-teal focus:border-transparent outline-none text-accent-lighter placeholder-accent-light"
                                placeholder="nama@email.com"
                            >
                        </div>
                    </div>
                </div>

                <div>
                    <label for="invitationCode" class="block text-sm font-medium text-accent-lighter mb-2">Kode Undangan</label>
                    <div class="relative">
                        <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-accent-light">key</span>
                        <input 
                            type="text" 
                            id="invitationCode" 
                            name="invitationCode" 
                            required
                            class="form-input w-full pl-10 pr-4 py-3 bg-primary-dark/50 border border-accent-teal/20 rounded-lg focus:ring-2 focus:ring-accent-teal focus:border-transparent outline-none text-accent-lighter placeholder-accent-light"
                            placeholder="Masukkan kode undangan dari Ketua Notaris"
                        >
                    </div>
                    <p class="text-xs text-accent-light mt-2">
                        <span class="text-accent-orange">⚠️ Penting:</span> Kode undangan diberikan oleh Ketua Notaris tempat Anda akan bekerja.
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="staffPassword" class="block text-sm font-medium text-accent-lighter mb-2">Password</label>
                        <div class="relative">
                            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-accent-light">lock</span>
                            <input 
                                type="password" 
                                id="staffPassword" 
                                name="staffPassword" 
                                required
                                minlength="8"
                                class="form-input w-full pl-10 pr-12 py-3 bg-primary-dark/50 border border-accent-teal/20 rounded-lg focus:ring-2 focus:ring-accent-teal focus:border-transparent outline-none text-accent-lighter placeholder-accent-light"
                                placeholder="Minimal 8 karakter"
                            >
                            <button 
                                type="button" 
                                onclick="togglePasswordVisibility('staffPassword')"
                                class="absolute right-3 top-1/2 -translate-y-1/2 text-accent-light hover:text-accent-teal transition-colors"
                            >
                                <span class="material-symbols-outlined text-lg" id="staffEyeIcon">visibility</span>
                            </button>
                        </div>
                    </div>

                    <div>
                        <label for="staffConfirmPassword" class="block text-sm font-medium text-accent-lighter mb-2">Konfirmasi Password</label>
                        <div class="relative">
                            <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-accent-light">lock</span>
                            <input 
                                type="password" 
                                id="staffConfirmPassword" 
                                name="staffConfirmPassword" 
                                required
                                minlength="8"
                                class="form-input w-full pl-10 pr-4 py-3 bg-primary-dark/50 border border-accent-teal/20 rounded-lg focus:ring-2 focus:ring-accent-teal focus:border-transparent outline-none text-accent-lighter placeholder-accent-light"
                                placeholder="Ulangi password"
                            >
                        </div>
                    </div>
                </div>

                <div class="flex items-start space-x-3 p-3 bg-primary-dark/30 rounded-lg border border-accent-teal/10">
                    <input type="checkbox" id="staffTerms" name="staffTerms" required class="w-4 h-4 text-accent-teal border-accent-teal/30 rounded focus:ring-accent-teal focus:ring-offset-primary-dark mt-1 bg-primary-dark/50">
                    <label for="staffTerms" class="text-sm text-accent-light">
                        Saya setuju dengan 
                        <a href="#" class="text-accent-teal hover:text-accent-lighter font-medium transition-colors">Syarat & Ketentuan</a> 
                        dan 
                        <a href="#" class="text-accent-teal hover:text-accent-lighter font-medium transition-colors">Kebijakan Privasi</a>
                        NotaryDoc Pro
                    </label>
                </div>

                <div class="flex gap-3">
                    <button 
                        type="button" 
                        onclick="goBackToRoles()"
                        class="flex-1 py-3.5 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-primary-dark border border-accent-teal/30 text-accent-teal hover:bg-accent-teal/5 transition-all flex items-center justify-center gap-2"
                    >
                        <span class="material-symbols-outlined">arrow_back</span>
                        Kembali
                    </button>
                    <button 
                        type="submit" 
                        class="flex-1 auth-button bg-gradient-to-r from-accent-orange to-amber-500 text-primary-dark py-3.5 rounded-lg font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-primary-dark flex items-center justify-center gap-2 group"
                    >
                        <span class="material-symbols-outlined group-hover:rotate-90 transition-transform">group_add</span>
                        Bergabung sebagai Staff
                    </button>
                </div>
            </form>

            <!-- Login Link -->
            <div class="mt-8 pt-6 border-t border-accent-teal/10 text-center">
                <p class="text-accent-light">
                    Sudah punya akun? 
                    <a href="login.html" class="gradient-text-static font-semibold hover:scale-105 transition-all inline-flex items-center gap-1">
                        <span class="material-symbols-outlined text-sm">login</span>
                        Masuk di sini
                    </a>
                </p>
            </div>
        </div>

        <!-- Security Info -->
        <div class="mt-6 text-center">
            <div class="inline-flex items-center gap-2 text-xs text-accent-light/60">
                <span class="material-symbols-outlined text-xs">security</span>
                Sistem keamanan tingkat tinggi dengan enkripsi end-to-end
            </div>
        </div>
    </div>

    <!-- Client Info Modal -->
    <div id="clientInfoModal" class="fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 hidden">
        <div class="glass-effect rounded-2xl max-w-md w-full p-6 border border-accent-teal/20 animate-fade-in-up">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-accent-lighter">Informasi Untuk Klien</h3>
                <button onclick="closeClientInfo()" class="text-accent-light hover:text-accent-lighter">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
            
            <div class="space-y-4">
                <div class="flex items-start gap-3">
                    <div class="p-2 rounded-full bg-gradient-to-br from-accent-purple/20 to-accent-purple/5">
                        <span class="material-symbols-outlined text-accent-purple">info</span>
                    </div>
                    <div>
                        <h4 class="font-medium text-accent-lighter mb-1">Klien Tidak Mendaftar Sendiri</h4>
                        <p class="text-sm text-accent-light">Akun klien dibuat oleh staff notaris yang menangani kasus Anda.</p>
                    </div>
                </div>
                
                <div class="flex items-start gap-3">
                    <div class="p-2 rounded-full bg-gradient-to-br from-accent-purple/20 to-accent-purple/5">
                        <span class="material-symbols-outlined text-accent-purple">person_add</span>
                    </div>
                    <div>
                        <h4 class="font-medium text-accent-lighter mb-1">Proses Pendaftaran Klien</h4>
                        <p class="text-sm text-accent-light">Staff notaris akan mendaftarkan Anda dan mengirimkan link aktivasi ke email Anda.</p>
                    </div>
                </div>
                
                <div class="flex items-start gap-3">
                    <div class="p-2 rounded-full bg-gradient-to-br from-accent-purple/20 to-accent-purple/5">
                        <span class="material-symbols-outlined text-accent-purple">lock</span>
                    </div>
                    <div>
                        <h4 class="font-medium text-accent-lighter mb-1">Akses Terbatas</h4>
                        <p class="text-sm text-accent-light">Anda hanya dapat melihat dokumen dan status kasus Anda sendiri.</p>
                    </div>
                </div>
            </div>
            
            <div class="mt-6 pt-4 border-t border-accent-teal/10">
                <p class="text-sm text-accent-light text-center">
                    Hubungi staff notaris Anda untuk mendapatkan akses ke sistem.
                </p>
                <button onclick="closeClientInfo()" class="w-full mt-4 py-2.5 bg-accent-purple/10 text-accent-purple rounded-lg font-medium hover:bg-accent-purple/20 transition-colors">
                    Mengerti
                </button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // === KONFIGURASI URL BACKEND ===
            // Ganti 'localhost' dengan IP komputer Anda jika mengakses dari HP lain
            // Contoh: const API_BASE_URL = 'http://192.168.1.5:3000/api';
            const API_BASE_URL = 'http://localhost:3000/api'; 

            // DOM Elements
            const roleCards = document.querySelectorAll('.role-card');
            const roleSelection = document.getElementById('role-selection');
            const ownerForm = document.getElementById('ownerForm');
            const staffForm = document.getElementById('staffForm');
            const messageContainer = document.getElementById('message-container');
            
            // Role selection
            roleCards.forEach(card => {
                card.addEventListener('click', function() {
                    const role = this.dataset.role;
                    
                    if (role === 'client') {
                        showClientInfo();
                        return;
                    }
                    
                    // Remove selection from all cards
                    roleCards.forEach(c => c.classList.remove('selected'));
                    
                    // Add selection to clicked card
                    this.classList.add('selected');
                    
                    // Show appropriate form
                    setTimeout(() => {
                        roleSelection.classList.add('hidden');
                        
                        if (role === 'owner') {
                            ownerForm.classList.remove('hidden');
                        } else if (role === 'staff') {
                            staffForm.classList.remove('hidden');
                        }
                    }, 300);
                });
            });
            
            // === FUNGSI UNTUK MENGIRIM DATA KE BACKEND ===
            async function registerUser(endpoint, userData, submitButton) {
                const originalText = submitButton.innerHTML;
                
                try {
                    // Tampilkan loading state
                    submitButton.innerHTML = '<span class="material-symbols-outlined animate-spin">refresh</span> Memproses...';
                    submitButton.disabled = true;

                    const response = await fetch(`${API_BASE_URL}${endpoint}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(userData)
                    });

                    const data = await response.json();

                    if (!response.ok) {
                        // Jika server merespons dengan error (4xx atau 5xx)
                        throw new Error(data.error || 'Terjadi kesalahan saat mendaftar.');
                    }

                    // Sukses
                    showMessage(`✅ ${data.message || 'Pendaftaran berhasil!'} Mengalihkan...`, false);
                    
                    // Arahkan ke dashboard setelah 2 detik
                    setTimeout(() => {
                        // Sesuaikan URL redirect jika perlu
                        window.location.href = 'login.html'; 
                    }, 2000);

                } catch (error) {
                    // Error (dari fetch atau dari server)
                    console.error('Registration Error:', error);
                    showMessage(error.message, true);
                } finally {
                    // Kembalikan tombol ke keadaan semula
                    submitButton.innerHTML = originalText;
                    submitButton.disabled = false;
                }
            }

            // Owner form submission
            ownerForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // --- Validasi ---
                const ownerName = document.getElementById('ownerName').value.trim();
                const ownerEmail = document.getElementById('ownerEmail').value.trim();
                const ownerPhone = document.getElementById('ownerPhone').value.trim();
                const npwp = document.getElementById('npwp').value.trim();
                const officeName = document.getElementById('officeName').value.trim();
                const ownerPassword = document.getElementById('ownerPassword').value;
                const ownerConfirmPassword = document.getElementById('ownerConfirmPassword').value;
                const ownerTerms = document.getElementById('ownerTerms').checked;
                
                if (!ownerName || !ownerEmail || !ownerPhone || !npwp || !officeName || !ownerPassword || !ownerConfirmPassword) {
                    showMessage('Harap isi semua field yang diperlukan!', true);
                    return;
                }
                
                if (ownerPassword !== ownerConfirmPassword) {
                    showMessage('Password dan konfirmasi password tidak cocok!', true);
                    return;
                }
                
                if (ownerPassword.length < 8) {
                    showMessage('Password harus minimal 8 karakter!', true);
                    return;
                }
                
                if (!ownerTerms) {
                    showMessage('Anda harus menyetujui syarat dan ketentuan!', true);
                    return;
                }
                
                // --- Siapkan data untuk dikirim ---
                const ownerData = {
                    name: ownerName,
                    email: ownerEmail,
                    phone: ownerPhone,
                    npwp: npwp,
                    office_name: officeName,
                    password: ownerPassword
                };
                
                const submitBtn = ownerForm.querySelector('button[type="submit"]');
                
                // --- Kirim data ke backend ---
                registerUser('/auth/register/owner', ownerData, submitBtn);
            });
            
            // Staff form submission
            staffForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // --- Validasi ---
                const staffName = document.getElementById('staffName').value.trim();
                const staffEmail = document.getElementById('staffEmail').value.trim();
                const invitationCode = document.getElementById('invitationCode').value.trim();
                const staffPassword = document.getElementById('staffPassword').value;
                const staffConfirmPassword = document.getElementById('staffConfirmPassword').value;
                const staffTerms = document.getElementById('staffTerms').checked;
                
                if (!staffName || !staffEmail || !invitationCode || !staffPassword || !staffConfirmPassword) {
                    showMessage('Harap isi semua field yang diperlukan!', true);
                    return;
                }
                
                if (staffPassword !== staffConfirmPassword) {
                    showMessage('Password dan konfirmasi password tidak cocok!', true);
                    return;
                }
                
                if (staffPassword.length < 8) {
                    showMessage('Password harus minimal 8 karakter!', true);
                    return;
                }
                
                if (!staffTerms) {
                    showMessage('Anda harus menyetujui syarat dan ketentuan!', true);
                    return;
                }
                
                // --- Siapkan data untuk dikirim ---
                const staffData = {
                    name: staffName,
                    email: staffEmail,
                    invitation_code: invitationCode, // Pastikan key ini sesuai dengan yang diharapkan backend
                    password: staffPassword
                };
                
                const submitBtn = staffForm.querySelector('button[type="submit"]');
                
                // --- Kirim data ke backend ---
                registerUser('/auth/register/staff', staffData, submitBtn);
            });
        });
        
        // --- Global Functions (Tidak perlu diubah) ---
        function showClientInfo() {
            document.getElementById('clientInfoModal').classList.remove('hidden');
        }
        
        function closeClientInfo() {
            document.getElementById('clientInfoModal').classList.add('hidden');
        }
        
        function goBackToRoles() {
            document.getElementById('ownerForm').classList.add('hidden');
            document.getElementById('staffForm').classList.add('hidden');
            document.getElementById('role-selection').classList.remove('hidden');
            
            // Remove selection from cards
            document.querySelectorAll('.role-card').forEach(card => {
                card.classList.remove('selected');
            });
        }
        
        function togglePasswordVisibility(fieldId) {
            const field = document.getElementById(fieldId);
            const icon = document.getElementById(fieldId.replace('Password', 'EyeIcon'));
            
            if (field.type === 'password') {
                field.type = 'text';
                icon.textContent = 'visibility_off';
                icon.classList.add('text-accent-teal');
            } else {
                field.type = 'password';
                icon.textContent = 'visibility';
                icon.classList.remove('text-accent-teal');
            }
        }
        
        function showMessage(message, isError = false) {
            const messageContainer = document.getElementById('message-container');
            messageContainer.textContent = message;
            messageContainer.classList.remove('hidden', 'bg-red-500/10', 'text-red-400', 'bg-green-500/10', 'text-green-400', 'border-red-500/20', 'border-green-500/20');
            
            if (isError) {
                messageContainer.classList.add('bg-red-500/10', 'text-red-400', 'border-red-500/20', 'error-shake');
            } else {
                messageContainer.classList.add('bg-green-500/10', 'text-green-400', 'border-green-500/20');
            }
            
            setTimeout(() => {
                messageContainer.classList.add('hidden');
                messageContainer.classList.remove('error-shake');
            }, 5000); // Diperpanjang jadi 5 detik agar mudah dibaca
        }
    </script>
</body>
</html>